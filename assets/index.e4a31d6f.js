(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=s(o);fetch(o.href,r)}})();function Xu(e,t){const s=Object.create(null),n=e.split(",");for(let o=0;o<n.length;o++)s[n[o]]=!0;return t?o=>!!s[o.toLowerCase()]:o=>!!s[o]}const wg="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Sg=Xu(wg);function W0(e){return!!e||e===""}function Wu(e){if(dt(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],o=fs(n)?Mg(n):Wu(n);if(o)for(const r in o)t[r]=o[r]}return t}else{if(fs(e))return e;if(Gt(e))return e}}const Eg=/;(?![^(]*\))/g,Ag=/:(.+)/;function Mg(e){const t={};return e.split(Eg).forEach(s=>{if(s){const n=s.split(Ag);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function xl(e){let t="";if(fs(e))t=e;else if(dt(e))for(let s=0;s<e.length;s++){const n=xl(e[s]);n&&(t+=n+" ")}else if(Gt(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const Ft={},Ro=[],on=()=>{},xg=()=>!1,Rg=/^on[^a-z]/,Rl=e=>Rg.test(e),Gu=e=>e.startsWith("onUpdate:"),Es=Object.assign,Zu=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Tg=Object.prototype.hasOwnProperty,_t=(e,t)=>Tg.call(e,t),dt=Array.isArray,Mi=e=>Tl(e)==="[object Map]",kg=e=>Tl(e)==="[object Set]",mt=e=>typeof e=="function",fs=e=>typeof e=="string",Qu=e=>typeof e=="symbol",Gt=e=>e!==null&&typeof e=="object",G0=e=>Gt(e)&&mt(e.then)&&mt(e.catch),Cg=Object.prototype.toString,Tl=e=>Cg.call(e),Og=e=>Tl(e).slice(8,-1),Ig=e=>Tl(e)==="[object Object]",Ju=e=>fs(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Za=Xu(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),kl=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Bg=/-(\w)/g,Lo=kl(e=>e.replace(Bg,(t,s)=>s?s.toUpperCase():"")),Lg=/\B([A-Z])/g,Ko=kl(e=>e.replace(Lg,"-$1").toLowerCase()),Z0=kl(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ec=kl(e=>e?`on${Z0(e)}`:""),ji=(e,t)=>!Object.is(e,t),Qa=(e,t)=>{for(let s=0;s<e.length;s++)e[s](t)},ul=(e,t,s)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:s})},eu=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let C1;const Pg=()=>C1||(C1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let pn;class Q0{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&pn&&(this.parent=pn,this.index=(pn.scopes||(pn.scopes=[])).push(this)-1)}run(t){if(this.active){const s=pn;try{return pn=this,t()}finally{pn=s}}}on(){pn=this}off(){pn=this.parent}stop(t){if(this.active){let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.scopes)for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);if(this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.active=!1}}}function J0(e){return new Q0(e)}function Ng(e,t=pn){t&&t.active&&t.effects.push(e)}const ed=e=>{const t=new Set(e);return t.w=0,t.n=0,t},eh=e=>(e.w&br)>0,th=e=>(e.n&br)>0,jg=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=br},Fg=e=>{const{deps:t}=e;if(t.length){let s=0;for(let n=0;n<t.length;n++){const o=t[n];eh(o)&&!th(o)?o.delete(e):t[s++]=o,o.w&=~br,o.n&=~br}t.length=s}},tu=new WeakMap;let _i=0,br=1;const su=30;let en;const Zr=Symbol(""),nu=Symbol("");class td{constructor(t,s=null,n){this.fn=t,this.scheduler=s,this.active=!0,this.deps=[],this.parent=void 0,Ng(this,n)}run(){if(!this.active)return this.fn();let t=en,s=dr;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=en,en=this,dr=!0,br=1<<++_i,_i<=su?jg(this):O1(this),this.fn()}finally{_i<=su&&Fg(this),br=1<<--_i,en=this.parent,dr=s,this.parent=void 0,this.deferStop&&this.stop()}}stop(){en===this?this.deferStop=!0:this.active&&(O1(this),this.onStop&&this.onStop(),this.active=!1)}}function O1(e){const{deps:t}=e;if(t.length){for(let s=0;s<t.length;s++)t[s].delete(e);t.length=0}}let dr=!0;const sh=[];function Yo(){sh.push(dr),dr=!1}function Xo(){const e=sh.pop();dr=e===void 0?!0:e}function Hs(e,t,s){if(dr&&en){let n=tu.get(e);n||tu.set(e,n=new Map);let o=n.get(s);o||n.set(s,o=ed()),nh(o)}}function nh(e,t){let s=!1;_i<=su?th(e)||(e.n|=br,s=!eh(e)):s=!e.has(en),s&&(e.add(en),en.deps.push(e))}function Hn(e,t,s,n,o,r){const i=tu.get(e);if(!i)return;let l=[];if(t==="clear")l=[...i.values()];else if(s==="length"&&dt(e))i.forEach((d,c)=>{(c==="length"||c>=n)&&l.push(d)});else switch(s!==void 0&&l.push(i.get(s)),t){case"add":dt(e)?Ju(s)&&l.push(i.get("length")):(l.push(i.get(Zr)),Mi(e)&&l.push(i.get(nu)));break;case"delete":dt(e)||(l.push(i.get(Zr)),Mi(e)&&l.push(i.get(nu)));break;case"set":Mi(e)&&l.push(i.get(Zr));break}if(l.length===1)l[0]&&ru(l[0]);else{const d=[];for(const c of l)c&&d.push(...c);ru(ed(d))}}function ru(e,t){const s=dt(e)?e:[...e];for(const n of s)n.computed&&I1(n);for(const n of s)n.computed||I1(n)}function I1(e,t){(e!==en||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const Hg=Xu("__proto__,__v_isRef,__isVue"),rh=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Qu)),Ug=sd(),Dg=sd(!1,!0),qg=sd(!0),B1=Vg();function Vg(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...s){const n=Et(this);for(let r=0,i=this.length;r<i;r++)Hs(n,"get",r+"");const o=n[t](...s);return o===-1||o===!1?n[t](...s.map(Et)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...s){Yo();const n=Et(this)[t].apply(this,s);return Xo(),n}}),e}function sd(e=!1,t=!1){return function(n,o,r){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&r===(e?t?o_:ch:t?lh:ah).get(n))return n;const i=dt(n);if(!e&&i&&_t(B1,o))return Reflect.get(B1,o,r);const l=Reflect.get(n,o,r);return(Qu(o)?rh.has(o):Hg(o))||(e||Hs(n,"get",o),t)?l:zt(l)?i&&Ju(o)?l:l.value:Gt(l)?e?uh(l):Wo(l):l}}const $g=oh(),zg=oh(!0);function oh(e=!1){return function(s,n,o,r){let i=s[n];if(Po(i)&&zt(i)&&!zt(o))return!1;if(!e&&(!dl(o)&&!Po(o)&&(i=Et(i),o=Et(o)),!dt(s)&&zt(i)&&!zt(o)))return i.value=o,!0;const l=dt(s)&&Ju(n)?Number(n)<s.length:_t(s,n),d=Reflect.set(s,n,o,r);return s===Et(r)&&(l?ji(o,i)&&Hn(s,"set",n,o):Hn(s,"add",n,o)),d}}function Kg(e,t){const s=_t(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&s&&Hn(e,"delete",t,void 0),n}function Yg(e,t){const s=Reflect.has(e,t);return(!Qu(t)||!rh.has(t))&&Hs(e,"has",t),s}function Xg(e){return Hs(e,"iterate",dt(e)?"length":Zr),Reflect.ownKeys(e)}const ih={get:Ug,set:$g,deleteProperty:Kg,has:Yg,ownKeys:Xg},Wg={get:qg,set(e,t){return!0},deleteProperty(e,t){return!0}},Gg=Es({},ih,{get:Dg,set:zg}),nd=e=>e,Cl=e=>Reflect.getPrototypeOf(e);function Ra(e,t,s=!1,n=!1){e=e.__v_raw;const o=Et(e),r=Et(t);s||(t!==r&&Hs(o,"get",t),Hs(o,"get",r));const{has:i}=Cl(o),l=n?nd:s?id:Fi;if(i.call(o,t))return l(e.get(t));if(i.call(o,r))return l(e.get(r));e!==o&&e.get(t)}function Ta(e,t=!1){const s=this.__v_raw,n=Et(s),o=Et(e);return t||(e!==o&&Hs(n,"has",e),Hs(n,"has",o)),e===o?s.has(e):s.has(e)||s.has(o)}function ka(e,t=!1){return e=e.__v_raw,!t&&Hs(Et(e),"iterate",Zr),Reflect.get(e,"size",e)}function L1(e){e=Et(e);const t=Et(this);return Cl(t).has.call(t,e)||(t.add(e),Hn(t,"add",e,e)),this}function P1(e,t){t=Et(t);const s=Et(this),{has:n,get:o}=Cl(s);let r=n.call(s,e);r||(e=Et(e),r=n.call(s,e));const i=o.call(s,e);return s.set(e,t),r?ji(t,i)&&Hn(s,"set",e,t):Hn(s,"add",e,t),this}function N1(e){const t=Et(this),{has:s,get:n}=Cl(t);let o=s.call(t,e);o||(e=Et(e),o=s.call(t,e)),n&&n.call(t,e);const r=t.delete(e);return o&&Hn(t,"delete",e,void 0),r}function j1(){const e=Et(this),t=e.size!==0,s=e.clear();return t&&Hn(e,"clear",void 0,void 0),s}function Ca(e,t){return function(n,o){const r=this,i=r.__v_raw,l=Et(i),d=t?nd:e?id:Fi;return!e&&Hs(l,"iterate",Zr),i.forEach((c,f)=>n.call(o,d(c),d(f),r))}}function Oa(e,t,s){return function(...n){const o=this.__v_raw,r=Et(o),i=Mi(r),l=e==="entries"||e===Symbol.iterator&&i,d=e==="keys"&&i,c=o[e](...n),f=s?nd:t?id:Fi;return!t&&Hs(r,"iterate",d?nu:Zr),{next(){const{value:u,done:v}=c.next();return v?{value:u,done:v}:{value:l?[f(u[0]),f(u[1])]:f(u),done:v}},[Symbol.iterator](){return this}}}}function Wn(e){return function(...t){return e==="delete"?!1:this}}function Zg(){const e={get(r){return Ra(this,r)},get size(){return ka(this)},has:Ta,add:L1,set:P1,delete:N1,clear:j1,forEach:Ca(!1,!1)},t={get(r){return Ra(this,r,!1,!0)},get size(){return ka(this)},has:Ta,add:L1,set:P1,delete:N1,clear:j1,forEach:Ca(!1,!0)},s={get(r){return Ra(this,r,!0)},get size(){return ka(this,!0)},has(r){return Ta.call(this,r,!0)},add:Wn("add"),set:Wn("set"),delete:Wn("delete"),clear:Wn("clear"),forEach:Ca(!0,!1)},n={get(r){return Ra(this,r,!0,!0)},get size(){return ka(this,!0)},has(r){return Ta.call(this,r,!0)},add:Wn("add"),set:Wn("set"),delete:Wn("delete"),clear:Wn("clear"),forEach:Ca(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=Oa(r,!1,!1),s[r]=Oa(r,!0,!1),t[r]=Oa(r,!1,!0),n[r]=Oa(r,!0,!0)}),[e,s,t,n]}const[Qg,Jg,e_,t_]=Zg();function rd(e,t){const s=t?e?t_:e_:e?Jg:Qg;return(n,o,r)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?n:Reflect.get(_t(s,o)&&o in n?s:n,o,r)}const s_={get:rd(!1,!1)},n_={get:rd(!1,!0)},r_={get:rd(!0,!1)},ah=new WeakMap,lh=new WeakMap,ch=new WeakMap,o_=new WeakMap;function i_(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function a_(e){return e.__v_skip||!Object.isExtensible(e)?0:i_(Og(e))}function Wo(e){return Po(e)?e:od(e,!1,ih,s_,ah)}function l_(e){return od(e,!1,Gg,n_,lh)}function uh(e){return od(e,!0,Wg,r_,ch)}function od(e,t,s,n,o){if(!Gt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=o.get(e);if(r)return r;const i=a_(e);if(i===0)return e;const l=new Proxy(e,i===2?n:s);return o.set(e,l),l}function fr(e){return Po(e)?fr(e.__v_raw):!!(e&&e.__v_isReactive)}function Po(e){return!!(e&&e.__v_isReadonly)}function dl(e){return!!(e&&e.__v_isShallow)}function dh(e){return fr(e)||Po(e)}function Et(e){const t=e&&e.__v_raw;return t?Et(t):e}function No(e){return ul(e,"__v_skip",!0),e}const Fi=e=>Gt(e)?Wo(e):e,id=e=>Gt(e)?uh(e):e;function fh(e){dr&&en&&(e=Et(e),nh(e.dep||(e.dep=ed())))}function hh(e,t){e=Et(e),e.dep&&ru(e.dep)}function zt(e){return!!(e&&e.__v_isRef===!0)}function ad(e){return mh(e,!1)}function c_(e){return mh(e,!0)}function mh(e,t){return zt(e)?e:new u_(e,t)}class u_{constructor(t,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?t:Et(t),this._value=s?t:Fi(t)}get value(){return fh(this),this._value}set value(t){const s=this.__v_isShallow||dl(t)||Po(t);t=s?t:Et(t),ji(t,this._rawValue)&&(this._rawValue=t,this._value=s?t:Fi(t),hh(this))}}function Qr(e){return zt(e)?e.value:e}const d_={get:(e,t,s)=>Qr(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const o=e[t];return zt(o)&&!zt(s)?(o.value=s,!0):Reflect.set(e,t,s,n)}};function ph(e){return fr(e)?e:new Proxy(e,d_)}function f_(e){const t=dt(e)?new Array(e.length):{};for(const s in e)t[s]=m_(e,s);return t}class h_{constructor(t,s,n){this._object=t,this._key=s,this._defaultValue=n,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function m_(e,t,s){const n=e[t];return zt(n)?n:new h_(e,t,s)}var vh;class p_{constructor(t,s,n,o){this._setter=s,this.dep=void 0,this.__v_isRef=!0,this[vh]=!1,this._dirty=!0,this.effect=new td(t,()=>{this._dirty||(this._dirty=!0,hh(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=n}get value(){const t=Et(this);return fh(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}vh="__v_isReadonly";function v_(e,t,s=!1){let n,o;const r=mt(e);return r?(n=e,o=on):(n=e.get,o=e.set),new p_(n,o,r||!o,s)}function hr(e,t,s,n){let o;try{o=n?e(...n):e()}catch(r){Ol(r,t,s)}return o}function an(e,t,s,n){if(mt(e)){const r=hr(e,t,s,n);return r&&G0(r)&&r.catch(i=>{Ol(i,t,s)}),r}const o=[];for(let r=0;r<e.length;r++)o.push(an(e[r],t,s,n));return o}function Ol(e,t,s,n=!0){const o=t?t.vnode:null;if(t){let r=t.parent;const i=t.proxy,l=s;for(;r;){const c=r.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](e,i,l)===!1)return}r=r.parent}const d=t.appContext.config.errorHandler;if(d){hr(d,null,10,[e,i,l]);return}}g_(e,s,o,n)}function g_(e,t,s,n=!0){console.error(e)}let Hi=!1,ou=!1;const us=[];let wn=0;const To=[];let Bn=null,Vr=0;const gh=Promise.resolve();let ld=null;function cd(e){const t=ld||gh;return e?t.then(this?e.bind(this):e):t}function __(e){let t=wn+1,s=us.length;for(;t<s;){const n=t+s>>>1;Ui(us[n])<e?t=n+1:s=n}return t}function ud(e){(!us.length||!us.includes(e,Hi&&e.allowRecurse?wn+1:wn))&&(e.id==null?us.push(e):us.splice(__(e.id),0,e),_h())}function _h(){!Hi&&!ou&&(ou=!0,ld=gh.then(yh))}function b_(e){const t=us.indexOf(e);t>wn&&us.splice(t,1)}function y_(e){dt(e)?To.push(...e):(!Bn||!Bn.includes(e,e.allowRecurse?Vr+1:Vr))&&To.push(e),_h()}function F1(e,t=Hi?wn+1:0){for(;t<us.length;t++){const s=us[t];s&&s.pre&&(us.splice(t,1),t--,s())}}function bh(e){if(To.length){const t=[...new Set(To)];if(To.length=0,Bn){Bn.push(...t);return}for(Bn=t,Bn.sort((s,n)=>Ui(s)-Ui(n)),Vr=0;Vr<Bn.length;Vr++)Bn[Vr]();Bn=null,Vr=0}}const Ui=e=>e.id==null?1/0:e.id,w_=(e,t)=>{const s=Ui(e)-Ui(t);if(s===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return s};function yh(e){ou=!1,Hi=!0,us.sort(w_);const t=on;try{for(wn=0;wn<us.length;wn++){const s=us[wn];s&&s.active!==!1&&hr(s,null,14)}}finally{wn=0,us.length=0,bh(),Hi=!1,ld=null,(us.length||To.length)&&yh()}}function S_(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||Ft;let o=s;const r=t.startsWith("update:"),i=r&&t.slice(7);if(i&&i in n){const f=`${i==="modelValue"?"model":i}Modifiers`,{number:u,trim:v}=n[f]||Ft;v&&(o=s.map(w=>w.trim())),u&&(o=s.map(eu))}let l,d=n[l=Ec(t)]||n[l=Ec(Lo(t))];!d&&r&&(d=n[l=Ec(Ko(t))]),d&&an(d,e,6,o);const c=n[l+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,an(c,e,6,o)}}function wh(e,t,s=!1){const n=t.emitsCache,o=n.get(e);if(o!==void 0)return o;const r=e.emits;let i={},l=!1;if(!mt(e)){const d=c=>{const f=wh(c,t,!0);f&&(l=!0,Es(i,f))};!s&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}return!r&&!l?(Gt(e)&&n.set(e,null),null):(dt(r)?r.forEach(d=>i[d]=null):Es(i,r),Gt(e)&&n.set(e,i),i)}function Il(e,t){return!e||!Rl(t)?!1:(t=t.slice(2).replace(/Once$/,""),_t(e,t[0].toLowerCase()+t.slice(1))||_t(e,Ko(t))||_t(e,t))}let sn=null,Sh=null;function fl(e){const t=sn;return sn=e,Sh=e&&e.type.__scopeId||null,t}function E_(e,t=sn,s){if(!t||e._n)return e;const n=(...o)=>{n._d&&Y1(-1);const r=fl(t),i=e(...o);return fl(r),n._d&&Y1(1),i};return n._n=!0,n._c=!0,n._d=!0,n}function Ac(e){const{type:t,vnode:s,proxy:n,withProxy:o,props:r,propsOptions:[i],slots:l,attrs:d,emit:c,render:f,renderCache:u,data:v,setupState:w,ctx:a,inheritAttrs:j}=e;let N,P;const g=fl(e);try{if(s.shapeFlag&4){const F=o||n;N=bn(f.call(F,F,u,r,w,v,a)),P=d}else{const F=t;N=bn(F.length>1?F(r,{attrs:d,slots:l,emit:c}):F(r,null)),P=t.props?d:A_(d)}}catch(F){Ri.length=0,Ol(F,e,1),N=Fs(so)}let I=N;if(P&&j!==!1){const F=Object.keys(P),{shapeFlag:O}=I;F.length&&O&7&&(i&&F.some(Gu)&&(P=M_(P,i)),I=jo(I,P))}return s.dirs&&(I=jo(I),I.dirs=I.dirs?I.dirs.concat(s.dirs):s.dirs),s.transition&&(I.transition=s.transition),N=I,fl(g),N}const A_=e=>{let t;for(const s in e)(s==="class"||s==="style"||Rl(s))&&((t||(t={}))[s]=e[s]);return t},M_=(e,t)=>{const s={};for(const n in e)(!Gu(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function x_(e,t,s){const{props:n,children:o,component:r}=e,{props:i,children:l,patchFlag:d}=t,c=r.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&d>=0){if(d&1024)return!0;if(d&16)return n?H1(n,i,c):!!i;if(d&8){const f=t.dynamicProps;for(let u=0;u<f.length;u++){const v=f[u];if(i[v]!==n[v]&&!Il(c,v))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:n===i?!1:n?i?H1(n,i,c):!0:!!i;return!1}function H1(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let o=0;o<n.length;o++){const r=n[o];if(t[r]!==e[r]&&!Il(s,r))return!0}return!1}function R_({vnode:e,parent:t},s){for(;t&&t.subTree===e;)(e=t.vnode).el=s,t=t.parent}const T_=e=>e.__isSuspense;function k_(e,t){t&&t.pendingBranch?dt(e)?t.effects.push(...e):t.effects.push(e):y_(e)}function Ja(e,t){if(os){let s=os.provides;const n=os.parent&&os.parent.provides;n===s&&(s=os.provides=Object.create(n)),s[e]=t}}function Nn(e,t,s=!1){const n=os||sn;if(n){const o=n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return s&&mt(t)?t.call(n.proxy):t}}const U1={};function xi(e,t,s){return Eh(e,t,s)}function Eh(e,t,{immediate:s,deep:n,flush:o,onTrack:r,onTrigger:i}=Ft){const l=os;let d,c=!1,f=!1;if(zt(e)?(d=()=>e.value,c=dl(e)):fr(e)?(d=()=>e,n=!0):dt(e)?(f=!0,c=e.some(P=>fr(P)||dl(P)),d=()=>e.map(P=>{if(zt(P))return P.value;if(fr(P))return Xr(P);if(mt(P))return hr(P,l,2)})):mt(e)?t?d=()=>hr(e,l,2):d=()=>{if(!(l&&l.isUnmounted))return u&&u(),an(e,l,3,[v])}:d=on,t&&n){const P=d;d=()=>Xr(P())}let u,v=P=>{u=N.onStop=()=>{hr(P,l,4)}};if(Vi)return v=on,t?s&&an(t,l,3,[d(),f?[]:void 0,v]):d(),on;let w=f?[]:U1;const a=()=>{if(!!N.active)if(t){const P=N.run();(n||c||(f?P.some((g,I)=>ji(g,w[I])):ji(P,w)))&&(u&&u(),an(t,l,3,[P,w===U1?void 0:w,v]),w=P)}else N.run()};a.allowRecurse=!!t;let j;o==="sync"?j=a:o==="post"?j=()=>ks(a,l&&l.suspense):(a.pre=!0,l&&(a.id=l.uid),j=()=>ud(a));const N=new td(d,j);return t?s?a():w=N.run():o==="post"?ks(N.run.bind(N),l&&l.suspense):N.run(),()=>{N.stop(),l&&l.scope&&Zu(l.scope.effects,N)}}function C_(e,t,s){const n=this.proxy,o=fs(e)?e.includes(".")?Ah(n,e):()=>n[e]:e.bind(n,n);let r;mt(t)?r=t:(r=t.handler,s=t);const i=os;Fo(this);const l=Eh(o,r.bind(n),s);return i?Fo(i):Jr(),l}function Ah(e,t){const s=t.split(".");return()=>{let n=e;for(let o=0;o<s.length&&n;o++)n=n[s[o]];return n}}function Xr(e,t){if(!Gt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),zt(e))Xr(e.value,t);else if(dt(e))for(let s=0;s<e.length;s++)Xr(e[s],t);else if(kg(e)||Mi(e))e.forEach(s=>{Xr(s,t)});else if(Ig(e))for(const s in e)Xr(e[s],t);return e}function Mh(e){return mt(e)?{setup:e,name:e.name}:e}const el=e=>!!e.type.__asyncLoader,xh=e=>e.type.__isKeepAlive;function O_(e,t){Rh(e,"a",t)}function I_(e,t){Rh(e,"da",t)}function Rh(e,t,s=os){const n=e.__wdc||(e.__wdc=()=>{let o=s;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Bl(t,n,s),s){let o=s.parent;for(;o&&o.parent;)xh(o.parent.vnode)&&B_(n,t,s,o),o=o.parent}}function B_(e,t,s,n){const o=Bl(t,e,n,!0);dd(()=>{Zu(n[t],o)},s)}function Bl(e,t,s=os,n=!1){if(s){const o=s[e]||(s[e]=[]),r=t.__weh||(t.__weh=(...i)=>{if(s.isUnmounted)return;Yo(),Fo(s);const l=an(t,s,e,i);return Jr(),Xo(),l});return n?o.unshift(r):o.push(r),r}}const Vn=e=>(t,s=os)=>(!Vi||e==="sp")&&Bl(e,t,s),L_=Vn("bm"),P_=Vn("m"),N_=Vn("bu"),j_=Vn("u"),F_=Vn("bum"),dd=Vn("um"),H_=Vn("sp"),U_=Vn("rtg"),D_=Vn("rtc");function q_(e,t=os){Bl("ec",e,t)}function Th(e,t){const s=sn;if(s===null)return e;const n=Pl(s)||s.proxy,o=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[i,l,d,c=Ft]=t[r];mt(i)&&(i={mounted:i,updated:i}),i.deep&&Xr(l),o.push({dir:i,instance:n,value:l,oldValue:void 0,arg:d,modifiers:c})}return e}function kr(e,t,s,n){const o=e.dirs,r=t&&t.dirs;for(let i=0;i<o.length;i++){const l=o[i];r&&(l.oldValue=r[i].value);let d=l.dir[n];d&&(Yo(),an(d,s,8,[e.el,l,e,t]),Xo())}}const V_=Symbol(),iu=e=>e?Dh(e)?Pl(e)||e.proxy:iu(e.parent):null,hl=Es(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>iu(e.parent),$root:e=>iu(e.root),$emit:e=>e.emit,$options:e=>fd(e),$forceUpdate:e=>e.f||(e.f=()=>ud(e.update)),$nextTick:e=>e.n||(e.n=cd.bind(e.proxy)),$watch:e=>C_.bind(e)}),$_={get({_:e},t){const{ctx:s,setupState:n,data:o,props:r,accessCache:i,type:l,appContext:d}=e;let c;if(t[0]!=="$"){const w=i[t];if(w!==void 0)switch(w){case 1:return n[t];case 2:return o[t];case 4:return s[t];case 3:return r[t]}else{if(n!==Ft&&_t(n,t))return i[t]=1,n[t];if(o!==Ft&&_t(o,t))return i[t]=2,o[t];if((c=e.propsOptions[0])&&_t(c,t))return i[t]=3,r[t];if(s!==Ft&&_t(s,t))return i[t]=4,s[t];au&&(i[t]=0)}}const f=hl[t];let u,v;if(f)return t==="$attrs"&&Hs(e,"get",t),f(e);if((u=l.__cssModules)&&(u=u[t]))return u;if(s!==Ft&&_t(s,t))return i[t]=4,s[t];if(v=d.config.globalProperties,_t(v,t))return v[t]},set({_:e},t,s){const{data:n,setupState:o,ctx:r}=e;return o!==Ft&&_t(o,t)?(o[t]=s,!0):n!==Ft&&_t(n,t)?(n[t]=s,!0):_t(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:o,propsOptions:r}},i){let l;return!!s[i]||e!==Ft&&_t(e,i)||t!==Ft&&_t(t,i)||(l=r[0])&&_t(l,i)||_t(n,i)||_t(hl,i)||_t(o.config.globalProperties,i)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:_t(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};let au=!0;function z_(e){const t=fd(e),s=e.proxy,n=e.ctx;au=!1,t.beforeCreate&&D1(t.beforeCreate,e,"bc");const{data:o,computed:r,methods:i,watch:l,provide:d,inject:c,created:f,beforeMount:u,mounted:v,beforeUpdate:w,updated:a,activated:j,deactivated:N,beforeDestroy:P,beforeUnmount:g,destroyed:I,unmounted:F,render:O,renderTracked:q,renderTriggered:_,errorCaptured:k,serverPrefetch:R,expose:y,inheritAttrs:A,components:p,directives:S,filters:x}=t;if(c&&K_(c,n,null,e.appContext.config.unwrapInjectedRef),i)for(const Y in i){const V=i[Y];mt(V)&&(n[Y]=V.bind(s))}if(o){const Y=o.call(s,s);Gt(Y)&&(e.data=Wo(Y))}if(au=!0,r)for(const Y in r){const V=r[Y],X=mt(V)?V.bind(s,s):mt(V.get)?V.get.bind(s,s):on,b=!mt(V)&&mt(V.set)?V.set.bind(s):on,T=Ns({get:X,set:b});Object.defineProperty(n,Y,{enumerable:!0,configurable:!0,get:()=>T.value,set:ie=>T.value=ie})}if(l)for(const Y in l)kh(l[Y],n,s,Y);if(d){const Y=mt(d)?d.call(s):d;Reflect.ownKeys(Y).forEach(V=>{Ja(V,Y[V])})}f&&D1(f,e,"c");function D(Y,V){dt(V)?V.forEach(X=>Y(X.bind(s))):V&&Y(V.bind(s))}if(D(L_,u),D(P_,v),D(N_,w),D(j_,a),D(O_,j),D(I_,N),D(q_,k),D(D_,q),D(U_,_),D(F_,g),D(dd,F),D(H_,R),dt(y))if(y.length){const Y=e.exposed||(e.exposed={});y.forEach(V=>{Object.defineProperty(Y,V,{get:()=>s[V],set:X=>s[V]=X})})}else e.exposed||(e.exposed={});O&&e.render===on&&(e.render=O),A!=null&&(e.inheritAttrs=A),p&&(e.components=p),S&&(e.directives=S)}function K_(e,t,s=on,n=!1){dt(e)&&(e=lu(e));for(const o in e){const r=e[o];let i;Gt(r)?"default"in r?i=Nn(r.from||o,r.default,!0):i=Nn(r.from||o):i=Nn(r),zt(i)&&n?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>i.value,set:l=>i.value=l}):t[o]=i}}function D1(e,t,s){an(dt(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function kh(e,t,s,n){const o=n.includes(".")?Ah(s,n):()=>s[n];if(fs(e)){const r=t[e];mt(r)&&xi(o,r)}else if(mt(e))xi(o,e.bind(s));else if(Gt(e))if(dt(e))e.forEach(r=>kh(r,t,s,n));else{const r=mt(e.handler)?e.handler.bind(s):t[e.handler];mt(r)&&xi(o,r,e)}}function fd(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:o,optionsCache:r,config:{optionMergeStrategies:i}}=e.appContext,l=r.get(t);let d;return l?d=l:!o.length&&!s&&!n?d=t:(d={},o.length&&o.forEach(c=>ml(d,c,i,!0)),ml(d,t,i)),Gt(t)&&r.set(t,d),d}function ml(e,t,s,n=!1){const{mixins:o,extends:r}=t;r&&ml(e,r,s,!0),o&&o.forEach(i=>ml(e,i,s,!0));for(const i in t)if(!(n&&i==="expose")){const l=Y_[i]||s&&s[i];e[i]=l?l(e[i],t[i]):t[i]}return e}const Y_={data:q1,props:Dr,emits:Dr,methods:Dr,computed:Dr,beforeCreate:bs,created:bs,beforeMount:bs,mounted:bs,beforeUpdate:bs,updated:bs,beforeDestroy:bs,beforeUnmount:bs,destroyed:bs,unmounted:bs,activated:bs,deactivated:bs,errorCaptured:bs,serverPrefetch:bs,components:Dr,directives:Dr,watch:W_,provide:q1,inject:X_};function q1(e,t){return t?e?function(){return Es(mt(e)?e.call(this,this):e,mt(t)?t.call(this,this):t)}:t:e}function X_(e,t){return Dr(lu(e),lu(t))}function lu(e){if(dt(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function bs(e,t){return e?[...new Set([].concat(e,t))]:t}function Dr(e,t){return e?Es(Es(Object.create(null),e),t):t}function W_(e,t){if(!e)return t;if(!t)return e;const s=Es(Object.create(null),e);for(const n in t)s[n]=bs(e[n],t[n]);return s}function G_(e,t,s,n=!1){const o={},r={};ul(r,Ll,1),e.propsDefaults=Object.create(null),Ch(e,t,o,r);for(const i in e.propsOptions[0])i in o||(o[i]=void 0);s?e.props=n?o:l_(o):e.type.props?e.props=o:e.props=r,e.attrs=r}function Z_(e,t,s,n){const{props:o,attrs:r,vnode:{patchFlag:i}}=e,l=Et(o),[d]=e.propsOptions;let c=!1;if((n||i>0)&&!(i&16)){if(i&8){const f=e.vnode.dynamicProps;for(let u=0;u<f.length;u++){let v=f[u];if(Il(e.emitsOptions,v))continue;const w=t[v];if(d)if(_t(r,v))w!==r[v]&&(r[v]=w,c=!0);else{const a=Lo(v);o[a]=cu(d,l,a,w,e,!1)}else w!==r[v]&&(r[v]=w,c=!0)}}}else{Ch(e,t,o,r)&&(c=!0);let f;for(const u in l)(!t||!_t(t,u)&&((f=Ko(u))===u||!_t(t,f)))&&(d?s&&(s[u]!==void 0||s[f]!==void 0)&&(o[u]=cu(d,l,u,void 0,e,!0)):delete o[u]);if(r!==l)for(const u in r)(!t||!_t(t,u)&&!0)&&(delete r[u],c=!0)}c&&Hn(e,"set","$attrs")}function Ch(e,t,s,n){const[o,r]=e.propsOptions;let i=!1,l;if(t)for(let d in t){if(Za(d))continue;const c=t[d];let f;o&&_t(o,f=Lo(d))?!r||!r.includes(f)?s[f]=c:(l||(l={}))[f]=c:Il(e.emitsOptions,d)||(!(d in n)||c!==n[d])&&(n[d]=c,i=!0)}if(r){const d=Et(s),c=l||Ft;for(let f=0;f<r.length;f++){const u=r[f];s[u]=cu(o,d,u,c[u],e,!_t(c,u))}}return i}function cu(e,t,s,n,o,r){const i=e[s];if(i!=null){const l=_t(i,"default");if(l&&n===void 0){const d=i.default;if(i.type!==Function&&mt(d)){const{propsDefaults:c}=o;s in c?n=c[s]:(Fo(o),n=c[s]=d.call(null,t),Jr())}else n=d}i[0]&&(r&&!l?n=!1:i[1]&&(n===""||n===Ko(s))&&(n=!0))}return n}function Oh(e,t,s=!1){const n=t.propsCache,o=n.get(e);if(o)return o;const r=e.props,i={},l=[];let d=!1;if(!mt(e)){const f=u=>{d=!0;const[v,w]=Oh(u,t,!0);Es(i,v),w&&l.push(...w)};!s&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!r&&!d)return Gt(e)&&n.set(e,Ro),Ro;if(dt(r))for(let f=0;f<r.length;f++){const u=Lo(r[f]);V1(u)&&(i[u]=Ft)}else if(r)for(const f in r){const u=Lo(f);if(V1(u)){const v=r[f],w=i[u]=dt(v)||mt(v)?{type:v}:v;if(w){const a=K1(Boolean,w.type),j=K1(String,w.type);w[0]=a>-1,w[1]=j<0||a<j,(a>-1||_t(w,"default"))&&l.push(u)}}}const c=[i,l];return Gt(e)&&n.set(e,c),c}function V1(e){return e[0]!=="$"}function $1(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function z1(e,t){return $1(e)===$1(t)}function K1(e,t){return dt(t)?t.findIndex(s=>z1(s,e)):mt(t)&&z1(t,e)?0:-1}const Ih=e=>e[0]==="_"||e==="$stable",hd=e=>dt(e)?e.map(bn):[bn(e)],Q_=(e,t,s)=>{if(t._n)return t;const n=E_((...o)=>hd(t(...o)),s);return n._c=!1,n},Bh=(e,t,s)=>{const n=e._ctx;for(const o in e){if(Ih(o))continue;const r=e[o];if(mt(r))t[o]=Q_(o,r,n);else if(r!=null){const i=hd(r);t[o]=()=>i}}},Lh=(e,t)=>{const s=hd(t);e.slots.default=()=>s},J_=(e,t)=>{if(e.vnode.shapeFlag&32){const s=t._;s?(e.slots=Et(t),ul(t,"_",s)):Bh(t,e.slots={})}else e.slots={},t&&Lh(e,t);ul(e.slots,Ll,1)},e3=(e,t,s)=>{const{vnode:n,slots:o}=e;let r=!0,i=Ft;if(n.shapeFlag&32){const l=t._;l?s&&l===1?r=!1:(Es(o,t),!s&&l===1&&delete o._):(r=!t.$stable,Bh(t,o)),i=t}else t&&(Lh(e,t),i={default:1});if(r)for(const l in o)!Ih(l)&&!(l in i)&&delete o[l]};function Ph(){return{app:null,config:{isNativeTag:xg,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let t3=0;function s3(e,t){return function(n,o=null){mt(n)||(n=Object.assign({},n)),o!=null&&!Gt(o)&&(o=null);const r=Ph(),i=new Set;let l=!1;const d=r.app={_uid:t3++,_component:n,_props:o,_container:null,_context:r,_instance:null,version:w3,get config(){return r.config},set config(c){},use(c,...f){return i.has(c)||(c&&mt(c.install)?(i.add(c),c.install(d,...f)):mt(c)&&(i.add(c),c(d,...f))),d},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),d},component(c,f){return f?(r.components[c]=f,d):r.components[c]},directive(c,f){return f?(r.directives[c]=f,d):r.directives[c]},mount(c,f,u){if(!l){const v=Fs(n,o);return v.appContext=r,f&&t?t(v,c):e(v,c,u),l=!0,d._container=c,c.__vue_app__=d,Pl(v.component)||v.component.proxy}},unmount(){l&&(e(null,d._container),delete d._container.__vue_app__)},provide(c,f){return r.provides[c]=f,d}};return d}}function uu(e,t,s,n,o=!1){if(dt(e)){e.forEach((v,w)=>uu(v,t&&(dt(t)?t[w]:t),s,n,o));return}if(el(n)&&!o)return;const r=n.shapeFlag&4?Pl(n.component)||n.component.proxy:n.el,i=o?null:r,{i:l,r:d}=e,c=t&&t.r,f=l.refs===Ft?l.refs={}:l.refs,u=l.setupState;if(c!=null&&c!==d&&(fs(c)?(f[c]=null,_t(u,c)&&(u[c]=null)):zt(c)&&(c.value=null)),mt(d))hr(d,l,12,[i,f]);else{const v=fs(d),w=zt(d);if(v||w){const a=()=>{if(e.f){const j=v?f[d]:d.value;o?dt(j)&&Zu(j,r):dt(j)?j.includes(r)||j.push(r):v?(f[d]=[r],_t(u,d)&&(u[d]=f[d])):(d.value=[r],e.k&&(f[e.k]=d.value))}else v?(f[d]=i,_t(u,d)&&(u[d]=i)):w&&(d.value=i,e.k&&(f[e.k]=i))};i?(a.id=-1,ks(a,s)):a()}}}const ks=k_;function n3(e){return r3(e)}function r3(e,t){const s=Pg();s.__VUE__=!0;const{insert:n,remove:o,patchProp:r,createElement:i,createText:l,createComment:d,setText:c,setElementText:f,parentNode:u,nextSibling:v,setScopeId:w=on,cloneNode:a,insertStaticContent:j}=e,N=(E,B,$,W=null,Z=null,ue=null,de=!1,re=null,fe=!!B.dynamicChildren)=>{if(E===B)return;E&&!ci(E,B)&&(W=Re(E),ce(E,Z,ue,!0),E=null),B.patchFlag===-2&&(fe=!1,B.dynamicChildren=null);const{type:J,ref:ke,shapeFlag:_e}=B;switch(J){case md:P(E,B,$,W);break;case so:g(E,B,$,W);break;case Mc:E==null&&I(B,$,W,de);break;case _n:S(E,B,$,W,Z,ue,de,re,fe);break;default:_e&1?q(E,B,$,W,Z,ue,de,re,fe):_e&6?x(E,B,$,W,Z,ue,de,re,fe):(_e&64||_e&128)&&J.process(E,B,$,W,Z,ue,de,re,fe,Se)}ke!=null&&Z&&uu(ke,E&&E.ref,ue,B||E,!B)},P=(E,B,$,W)=>{if(E==null)n(B.el=l(B.children),$,W);else{const Z=B.el=E.el;B.children!==E.children&&c(Z,B.children)}},g=(E,B,$,W)=>{E==null?n(B.el=d(B.children||""),$,W):B.el=E.el},I=(E,B,$,W)=>{[E.el,E.anchor]=j(E.children,B,$,W,E.el,E.anchor)},F=({el:E,anchor:B},$,W)=>{let Z;for(;E&&E!==B;)Z=v(E),n(E,$,W),E=Z;n(B,$,W)},O=({el:E,anchor:B})=>{let $;for(;E&&E!==B;)$=v(E),o(E),E=$;o(B)},q=(E,B,$,W,Z,ue,de,re,fe)=>{de=de||B.type==="svg",E==null?_(B,$,W,Z,ue,de,re,fe):y(E,B,Z,ue,de,re,fe)},_=(E,B,$,W,Z,ue,de,re)=>{let fe,J;const{type:ke,props:_e,shapeFlag:Ce,transition:ye,patchFlag:He,dirs:he}=E;if(E.el&&a!==void 0&&He===-1)fe=E.el=a(E.el);else{if(fe=E.el=i(E.type,ue,_e&&_e.is,_e),Ce&8?f(fe,E.children):Ce&16&&R(E.children,fe,null,W,Z,ue&&ke!=="foreignObject",de,re),he&&kr(E,null,W,"created"),_e){for(const ne in _e)ne!=="value"&&!Za(ne)&&r(fe,ne,null,_e[ne],ue,E.children,W,Z,oe);"value"in _e&&r(fe,"value",null,_e.value),(J=_e.onVnodeBeforeMount)&&dn(J,W,E)}k(fe,E,E.scopeId,de,W)}he&&kr(E,null,W,"beforeMount");const Ee=(!Z||Z&&!Z.pendingBranch)&&ye&&!ye.persisted;Ee&&ye.beforeEnter(fe),n(fe,B,$),((J=_e&&_e.onVnodeMounted)||Ee||he)&&ks(()=>{J&&dn(J,W,E),Ee&&ye.enter(fe),he&&kr(E,null,W,"mounted")},Z)},k=(E,B,$,W,Z)=>{if($&&w(E,$),W)for(let ue=0;ue<W.length;ue++)w(E,W[ue]);if(Z){let ue=Z.subTree;if(B===ue){const de=Z.vnode;k(E,de,de.scopeId,de.slotScopeIds,Z.parent)}}},R=(E,B,$,W,Z,ue,de,re,fe=0)=>{for(let J=fe;J<E.length;J++){const ke=E[J]=re?ar(E[J]):bn(E[J]);N(null,ke,B,$,W,Z,ue,de,re)}},y=(E,B,$,W,Z,ue,de)=>{const re=B.el=E.el;let{patchFlag:fe,dynamicChildren:J,dirs:ke}=B;fe|=E.patchFlag&16;const _e=E.props||Ft,Ce=B.props||Ft;let ye;$&&Cr($,!1),(ye=Ce.onVnodeBeforeUpdate)&&dn(ye,$,B,E),ke&&kr(B,E,$,"beforeUpdate"),$&&Cr($,!0);const He=Z&&B.type!=="foreignObject";if(J?A(E.dynamicChildren,J,re,$,W,He,ue):de||X(E,B,re,null,$,W,He,ue,!1),fe>0){if(fe&16)p(re,B,_e,Ce,$,W,Z);else if(fe&2&&_e.class!==Ce.class&&r(re,"class",null,Ce.class,Z),fe&4&&r(re,"style",_e.style,Ce.style,Z),fe&8){const he=B.dynamicProps;for(let Ee=0;Ee<he.length;Ee++){const ne=he[Ee],Ie=_e[ne],L=Ce[ne];(L!==Ie||ne==="value")&&r(re,ne,Ie,L,Z,E.children,$,W,oe)}}fe&1&&E.children!==B.children&&f(re,B.children)}else!de&&J==null&&p(re,B,_e,Ce,$,W,Z);((ye=Ce.onVnodeUpdated)||ke)&&ks(()=>{ye&&dn(ye,$,B,E),ke&&kr(B,E,$,"updated")},W)},A=(E,B,$,W,Z,ue,de)=>{for(let re=0;re<B.length;re++){const fe=E[re],J=B[re],ke=fe.el&&(fe.type===_n||!ci(fe,J)||fe.shapeFlag&70)?u(fe.el):$;N(fe,J,ke,null,W,Z,ue,de,!0)}},p=(E,B,$,W,Z,ue,de)=>{if($!==W){for(const re in W){if(Za(re))continue;const fe=W[re],J=$[re];fe!==J&&re!=="value"&&r(E,re,J,fe,de,B.children,Z,ue,oe)}if($!==Ft)for(const re in $)!Za(re)&&!(re in W)&&r(E,re,$[re],null,de,B.children,Z,ue,oe);"value"in W&&r(E,"value",$.value,W.value)}},S=(E,B,$,W,Z,ue,de,re,fe)=>{const J=B.el=E?E.el:l(""),ke=B.anchor=E?E.anchor:l("");let{patchFlag:_e,dynamicChildren:Ce,slotScopeIds:ye}=B;ye&&(re=re?re.concat(ye):ye),E==null?(n(J,$,W),n(ke,$,W),R(B.children,$,ke,Z,ue,de,re,fe)):_e>0&&_e&64&&Ce&&E.dynamicChildren?(A(E.dynamicChildren,Ce,$,Z,ue,de,re),(B.key!=null||Z&&B===Z.subTree)&&Nh(E,B,!0)):X(E,B,$,ke,Z,ue,de,re,fe)},x=(E,B,$,W,Z,ue,de,re,fe)=>{B.slotScopeIds=re,E==null?B.shapeFlag&512?Z.ctx.activate(B,$,W,de,fe):M(B,$,W,Z,ue,de,fe):D(E,B,fe)},M=(E,B,$,W,Z,ue,de)=>{const re=E.component=p3(E,W,Z);if(xh(E)&&(re.ctx.renderer=Se),v3(re),re.asyncDep){if(Z&&Z.registerDep(re,Y),!E.el){const fe=re.subTree=Fs(so);g(null,fe,B,$)}return}Y(re,E,B,$,Z,ue,de)},D=(E,B,$)=>{const W=B.component=E.component;if(x_(E,B,$))if(W.asyncDep&&!W.asyncResolved){V(W,B,$);return}else W.next=B,b_(W.update),W.update();else B.el=E.el,W.vnode=B},Y=(E,B,$,W,Z,ue,de)=>{const re=()=>{if(E.isMounted){let{next:ke,bu:_e,u:Ce,parent:ye,vnode:He}=E,he=ke,Ee;Cr(E,!1),ke?(ke.el=He.el,V(E,ke,de)):ke=He,_e&&Qa(_e),(Ee=ke.props&&ke.props.onVnodeBeforeUpdate)&&dn(Ee,ye,ke,He),Cr(E,!0);const ne=Ac(E),Ie=E.subTree;E.subTree=ne,N(Ie,ne,u(Ie.el),Re(Ie),E,Z,ue),ke.el=ne.el,he===null&&R_(E,ne.el),Ce&&ks(Ce,Z),(Ee=ke.props&&ke.props.onVnodeUpdated)&&ks(()=>dn(Ee,ye,ke,He),Z)}else{let ke;const{el:_e,props:Ce}=B,{bm:ye,m:He,parent:he}=E,Ee=el(B);if(Cr(E,!1),ye&&Qa(ye),!Ee&&(ke=Ce&&Ce.onVnodeBeforeMount)&&dn(ke,he,B),Cr(E,!0),_e&&Ke){const ne=()=>{E.subTree=Ac(E),Ke(_e,E.subTree,E,Z,null)};Ee?B.type.__asyncLoader().then(()=>!E.isUnmounted&&ne()):ne()}else{const ne=E.subTree=Ac(E);N(null,ne,$,W,E,Z,ue),B.el=ne.el}if(He&&ks(He,Z),!Ee&&(ke=Ce&&Ce.onVnodeMounted)){const ne=B;ks(()=>dn(ke,he,ne),Z)}(B.shapeFlag&256||he&&el(he.vnode)&&he.vnode.shapeFlag&256)&&E.a&&ks(E.a,Z),E.isMounted=!0,B=$=W=null}},fe=E.effect=new td(re,()=>ud(J),E.scope),J=E.update=()=>fe.run();J.id=E.uid,Cr(E,!0),J()},V=(E,B,$)=>{B.component=E;const W=E.vnode.props;E.vnode=B,E.next=null,Z_(E,B.props,W,$),e3(E,B.children,$),Yo(),F1(),Xo()},X=(E,B,$,W,Z,ue,de,re,fe=!1)=>{const J=E&&E.children,ke=E?E.shapeFlag:0,_e=B.children,{patchFlag:Ce,shapeFlag:ye}=B;if(Ce>0){if(Ce&128){T(J,_e,$,W,Z,ue,de,re,fe);return}else if(Ce&256){b(J,_e,$,W,Z,ue,de,re,fe);return}}ye&8?(ke&16&&oe(J,Z,ue),_e!==J&&f($,_e)):ke&16?ye&16?T(J,_e,$,W,Z,ue,de,re,fe):oe(J,Z,ue,!0):(ke&8&&f($,""),ye&16&&R(_e,$,W,Z,ue,de,re,fe))},b=(E,B,$,W,Z,ue,de,re,fe)=>{E=E||Ro,B=B||Ro;const J=E.length,ke=B.length,_e=Math.min(J,ke);let Ce;for(Ce=0;Ce<_e;Ce++){const ye=B[Ce]=fe?ar(B[Ce]):bn(B[Ce]);N(E[Ce],ye,$,null,Z,ue,de,re,fe)}J>ke?oe(E,Z,ue,!0,!1,_e):R(B,$,W,Z,ue,de,re,fe,_e)},T=(E,B,$,W,Z,ue,de,re,fe)=>{let J=0;const ke=B.length;let _e=E.length-1,Ce=ke-1;for(;J<=_e&&J<=Ce;){const ye=E[J],He=B[J]=fe?ar(B[J]):bn(B[J]);if(ci(ye,He))N(ye,He,$,null,Z,ue,de,re,fe);else break;J++}for(;J<=_e&&J<=Ce;){const ye=E[_e],He=B[Ce]=fe?ar(B[Ce]):bn(B[Ce]);if(ci(ye,He))N(ye,He,$,null,Z,ue,de,re,fe);else break;_e--,Ce--}if(J>_e){if(J<=Ce){const ye=Ce+1,He=ye<ke?B[ye].el:W;for(;J<=Ce;)N(null,B[J]=fe?ar(B[J]):bn(B[J]),$,He,Z,ue,de,re,fe),J++}}else if(J>Ce)for(;J<=_e;)ce(E[J],Z,ue,!0),J++;else{const ye=J,He=J,he=new Map;for(J=He;J<=Ce;J++){const ee=B[J]=fe?ar(B[J]):bn(B[J]);ee.key!=null&&he.set(ee.key,J)}let Ee,ne=0;const Ie=Ce-He+1;let L=!1,U=0;const K=new Array(Ie);for(J=0;J<Ie;J++)K[J]=0;for(J=ye;J<=_e;J++){const ee=E[J];if(ne>=Ie){ce(ee,Z,ue,!0);continue}let z;if(ee.key!=null)z=he.get(ee.key);else for(Ee=He;Ee<=Ce;Ee++)if(K[Ee-He]===0&&ci(ee,B[Ee])){z=Ee;break}z===void 0?ce(ee,Z,ue,!0):(K[z-He]=J+1,z>=U?U=z:L=!0,N(ee,B[z],$,null,Z,ue,de,re,fe),ne++)}const Q=L?o3(K):Ro;for(Ee=Q.length-1,J=Ie-1;J>=0;J--){const ee=He+J,z=B[ee],ae=ee+1<ke?B[ee+1].el:W;K[J]===0?N(null,z,$,ae,Z,ue,de,re,fe):L&&(Ee<0||J!==Q[Ee]?ie(z,$,ae,2):Ee--)}}},ie=(E,B,$,W,Z=null)=>{const{el:ue,type:de,transition:re,children:fe,shapeFlag:J}=E;if(J&6){ie(E.component.subTree,B,$,W);return}if(J&128){E.suspense.move(B,$,W);return}if(J&64){de.move(E,B,$,Se);return}if(de===_n){n(ue,B,$);for(let _e=0;_e<fe.length;_e++)ie(fe[_e],B,$,W);n(E.anchor,B,$);return}if(de===Mc){F(E,B,$);return}if(W!==2&&J&1&&re)if(W===0)re.beforeEnter(ue),n(ue,B,$),ks(()=>re.enter(ue),Z);else{const{leave:_e,delayLeave:Ce,afterLeave:ye}=re,He=()=>n(ue,B,$),he=()=>{_e(ue,()=>{He(),ye&&ye()})};Ce?Ce(ue,He,he):he()}else n(ue,B,$)},ce=(E,B,$,W=!1,Z=!1)=>{const{type:ue,props:de,ref:re,children:fe,dynamicChildren:J,shapeFlag:ke,patchFlag:_e,dirs:Ce}=E;if(re!=null&&uu(re,null,$,E,!0),ke&256){B.ctx.deactivate(E);return}const ye=ke&1&&Ce,He=!el(E);let he;if(He&&(he=de&&de.onVnodeBeforeUnmount)&&dn(he,B,E),ke&6)ve(E.component,$,W);else{if(ke&128){E.suspense.unmount($,W);return}ye&&kr(E,null,B,"beforeUnmount"),ke&64?E.type.remove(E,B,$,Z,Se,W):J&&(ue!==_n||_e>0&&_e&64)?oe(J,B,$,!1,!0):(ue===_n&&_e&384||!Z&&ke&16)&&oe(fe,B,$),W&&Te(E)}(He&&(he=de&&de.onVnodeUnmounted)||ye)&&ks(()=>{he&&dn(he,B,E),ye&&kr(E,null,B,"unmounted")},$)},Te=E=>{const{type:B,el:$,anchor:W,transition:Z}=E;if(B===_n){te($,W);return}if(B===Mc){O(E);return}const ue=()=>{o($),Z&&!Z.persisted&&Z.afterLeave&&Z.afterLeave()};if(E.shapeFlag&1&&Z&&!Z.persisted){const{leave:de,delayLeave:re}=Z,fe=()=>de($,ue);re?re(E.el,ue,fe):fe()}else ue()},te=(E,B)=>{let $;for(;E!==B;)$=v(E),o(E),E=$;o(B)},ve=(E,B,$)=>{const{bum:W,scope:Z,update:ue,subTree:de,um:re}=E;W&&Qa(W),Z.stop(),ue&&(ue.active=!1,ce(de,E,B,$)),re&&ks(re,B),ks(()=>{E.isUnmounted=!0},B),B&&B.pendingBranch&&!B.isUnmounted&&E.asyncDep&&!E.asyncResolved&&E.suspenseId===B.pendingId&&(B.deps--,B.deps===0&&B.resolve())},oe=(E,B,$,W=!1,Z=!1,ue=0)=>{for(let de=ue;de<E.length;de++)ce(E[de],B,$,W,Z)},Re=E=>E.shapeFlag&6?Re(E.component.subTree):E.shapeFlag&128?E.suspense.next():v(E.anchor||E.el),Oe=(E,B,$)=>{E==null?B._vnode&&ce(B._vnode,null,null,!0):N(B._vnode||null,E,B,null,null,null,$),F1(),bh(),B._vnode=E},Se={p:N,um:ce,m:ie,r:Te,mt:M,mc:R,pc:X,pbc:A,n:Re,o:e};let Fe,Ke;return t&&([Fe,Ke]=t(Se)),{render:Oe,hydrate:Fe,createApp:s3(Oe,Fe)}}function Cr({effect:e,update:t},s){e.allowRecurse=t.allowRecurse=s}function Nh(e,t,s=!1){const n=e.children,o=t.children;if(dt(n)&&dt(o))for(let r=0;r<n.length;r++){const i=n[r];let l=o[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[r]=ar(o[r]),l.el=i.el),s||Nh(i,l))}}function o3(e){const t=e.slice(),s=[0];let n,o,r,i,l;const d=e.length;for(n=0;n<d;n++){const c=e[n];if(c!==0){if(o=s[s.length-1],e[o]<c){t[n]=o,s.push(n);continue}for(r=0,i=s.length-1;r<i;)l=r+i>>1,e[s[l]]<c?r=l+1:i=l;c<e[s[r]]&&(r>0&&(t[n]=s[r-1]),s[r]=n)}}for(r=s.length,i=s[r-1];r-- >0;)s[r]=i,i=t[i];return s}const i3=e=>e.__isTeleport,_n=Symbol(void 0),md=Symbol(void 0),so=Symbol(void 0),Mc=Symbol(void 0),Ri=[];let nn=null;function Di(e=!1){Ri.push(nn=e?null:[])}function a3(){Ri.pop(),nn=Ri[Ri.length-1]||null}let qi=1;function Y1(e){qi+=e}function jh(e){return e.dynamicChildren=qi>0?nn||Ro:null,a3(),qi>0&&nn&&nn.push(e),e}function du(e,t,s,n,o,r){return jh(ws(e,t,s,n,o,r,!0))}function Fh(e,t,s,n,o){return jh(Fs(e,t,s,n,o,!0))}function fu(e){return e?e.__v_isVNode===!0:!1}function ci(e,t){return e.type===t.type&&e.key===t.key}const Ll="__vInternal",Hh=({key:e})=>e!=null?e:null,tl=({ref:e,ref_key:t,ref_for:s})=>e!=null?fs(e)||zt(e)||mt(e)?{i:sn,r:e,k:t,f:!!s}:e:null;function ws(e,t=null,s=null,n=0,o=null,r=e===_n?0:1,i=!1,l=!1){const d={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Hh(t),ref:t&&tl(t),scopeId:Sh,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:n,dynamicProps:o,dynamicChildren:null,appContext:null};return l?(pd(d,s),r&128&&e.normalize(d)):s&&(d.shapeFlag|=fs(s)?8:16),qi>0&&!i&&nn&&(d.patchFlag>0||r&6)&&d.patchFlag!==32&&nn.push(d),d}const Fs=l3;function l3(e,t=null,s=null,n=0,o=null,r=!1){if((!e||e===V_)&&(e=so),fu(e)){const l=jo(e,t,!0);return s&&pd(l,s),qi>0&&!r&&nn&&(l.shapeFlag&6?nn[nn.indexOf(e)]=l:nn.push(l)),l.patchFlag|=-2,l}if(y3(e)&&(e=e.__vccOpts),t){t=c3(t);let{class:l,style:d}=t;l&&!fs(l)&&(t.class=xl(l)),Gt(d)&&(dh(d)&&!dt(d)&&(d=Es({},d)),t.style=Wu(d))}const i=fs(e)?1:T_(e)?128:i3(e)?64:Gt(e)?4:mt(e)?2:0;return ws(e,t,s,n,o,i,r,!0)}function c3(e){return e?dh(e)||Ll in e?Es({},e):e:null}function jo(e,t,s=!1){const{props:n,ref:o,patchFlag:r,children:i}=e,l=t?f3(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&Hh(l),ref:t&&t.ref?s&&o?dt(o)?o.concat(tl(t)):[o,tl(t)]:tl(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==_n?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&jo(e.ssContent),ssFallback:e.ssFallback&&jo(e.ssFallback),el:e.el,anchor:e.anchor}}function u3(e=" ",t=0){return Fs(md,null,e,t)}function d3(e="",t=!1){return t?(Di(),Fh(so,null,e)):Fs(so,null,e)}function bn(e){return e==null||typeof e=="boolean"?Fs(so):dt(e)?Fs(_n,null,e.slice()):typeof e=="object"?ar(e):Fs(md,null,String(e))}function ar(e){return e.el===null||e.memo?e:jo(e)}function pd(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(dt(t))s=16;else if(typeof t=="object")if(n&65){const o=t.default;o&&(o._c&&(o._d=!1),pd(e,o()),o._c&&(o._d=!0));return}else{s=32;const o=t._;!o&&!(Ll in t)?t._ctx=sn:o===3&&sn&&(sn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else mt(t)?(t={default:t,_ctx:sn},s=32):(t=String(t),n&64?(s=16,t=[u3(t)]):s=8);e.children=t,e.shapeFlag|=s}function f3(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const o in n)if(o==="class")t.class!==n.class&&(t.class=xl([t.class,n.class]));else if(o==="style")t.style=Wu([t.style,n.style]);else if(Rl(o)){const r=t[o],i=n[o];i&&r!==i&&!(dt(r)&&r.includes(i))&&(t[o]=r?[].concat(r,i):i)}else o!==""&&(t[o]=n[o])}return t}function dn(e,t,s,n=null){an(e,t,7,[s,n])}const h3=Ph();let m3=0;function p3(e,t,s){const n=e.type,o=(t?t.appContext:e.appContext)||h3,r={uid:m3++,vnode:e,type:n,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new Q0(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Oh(n,o),emitsOptions:wh(n,o),emit:null,emitted:null,propsDefaults:Ft,inheritAttrs:n.inheritAttrs,ctx:Ft,data:Ft,props:Ft,attrs:Ft,slots:Ft,refs:Ft,setupState:Ft,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=S_.bind(null,r),e.ce&&e.ce(r),r}let os=null;const Uh=()=>os||sn,Fo=e=>{os=e,e.scope.on()},Jr=()=>{os&&os.scope.off(),os=null};function Dh(e){return e.vnode.shapeFlag&4}let Vi=!1;function v3(e,t=!1){Vi=t;const{props:s,children:n}=e.vnode,o=Dh(e);G_(e,s,o,t),J_(e,n);const r=o?g3(e,t):void 0;return Vi=!1,r}function g3(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=No(new Proxy(e.ctx,$_));const{setup:n}=s;if(n){const o=e.setupContext=n.length>1?b3(e):null;Fo(e),Yo();const r=hr(n,e,0,[e.props,o]);if(Xo(),Jr(),G0(r)){if(r.then(Jr,Jr),t)return r.then(i=>{X1(e,i,t)}).catch(i=>{Ol(i,e,0)});e.asyncDep=r}else X1(e,r,t)}else qh(e,t)}function X1(e,t,s){mt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Gt(t)&&(e.setupState=ph(t)),qh(e,s)}let W1;function qh(e,t,s){const n=e.type;if(!e.render){if(!t&&W1&&!n.render){const o=n.template||fd(e).template;if(o){const{isCustomElement:r,compilerOptions:i}=e.appContext.config,{delimiters:l,compilerOptions:d}=n,c=Es(Es({isCustomElement:r,delimiters:l},i),d);n.render=W1(o,c)}}e.render=n.render||on}Fo(e),Yo(),z_(e),Xo(),Jr()}function _3(e){return new Proxy(e.attrs,{get(t,s){return Hs(e,"get","$attrs"),t[s]}})}function b3(e){const t=n=>{e.exposed=n||{}};let s;return{get attrs(){return s||(s=_3(e))},slots:e.slots,emit:e.emit,expose:t}}function Pl(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(ph(No(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in hl)return hl[s](e)}}))}function y3(e){return mt(e)&&"__vccOpts"in e}const Ns=(e,t)=>v_(e,t,Vi);function Vh(e,t,s){const n=arguments.length;return n===2?Gt(t)&&!dt(t)?fu(t)?Fs(e,null,[t]):Fs(e,t):Fs(e,null,t):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&fu(s)&&(s=[s]),Fs(e,t,s))}const w3="3.2.39",S3="http://www.w3.org/2000/svg",$r=typeof document<"u"?document:null,G1=$r&&$r.createElement("template"),E3={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const o=t?$r.createElementNS(S3,e):$r.createElement(e,s?{is:s}:void 0);return e==="select"&&n&&n.multiple!=null&&o.setAttribute("multiple",n.multiple),o},createText:e=>$r.createTextNode(e),createComment:e=>$r.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>$r.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,s,n,o,r){const i=s?s.previousSibling:t.lastChild;if(o&&(o===r||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),s),!(o===r||!(o=o.nextSibling)););else{G1.innerHTML=n?`<svg>${e}</svg>`:e;const l=G1.content;if(n){const d=l.firstChild;for(;d.firstChild;)l.appendChild(d.firstChild);l.removeChild(d)}t.insertBefore(l,s)}return[i?i.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}};function A3(e,t,s){const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}function M3(e,t,s){const n=e.style,o=fs(s);if(s&&!o){for(const r in s)hu(n,r,s[r]);if(t&&!fs(t))for(const r in t)s[r]==null&&hu(n,r,"")}else{const r=n.display;o?t!==s&&(n.cssText=s):t&&e.removeAttribute("style"),"_vod"in e&&(n.display=r)}}const Z1=/\s*!important$/;function hu(e,t,s){if(dt(s))s.forEach(n=>hu(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=x3(e,t);Z1.test(s)?e.setProperty(Ko(n),s.replace(Z1,""),"important"):e[n]=s}}const Q1=["Webkit","Moz","ms"],xc={};function x3(e,t){const s=xc[t];if(s)return s;let n=Lo(t);if(n!=="filter"&&n in e)return xc[t]=n;n=Z0(n);for(let o=0;o<Q1.length;o++){const r=Q1[o]+n;if(r in e)return xc[t]=r}return t}const J1="http://www.w3.org/1999/xlink";function R3(e,t,s,n,o){if(n&&t.startsWith("xlink:"))s==null?e.removeAttributeNS(J1,t.slice(6,t.length)):e.setAttributeNS(J1,t,s);else{const r=Sg(t);s==null||r&&!W0(s)?e.removeAttribute(t):e.setAttribute(t,r?"":s)}}function T3(e,t,s,n,o,r,i){if(t==="innerHTML"||t==="textContent"){n&&i(n,o,r),e[t]=s==null?"":s;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=s;const d=s==null?"":s;(e.value!==d||e.tagName==="OPTION")&&(e.value=d),s==null&&e.removeAttribute(t);return}let l=!1;if(s===""||s==null){const d=typeof e[t];d==="boolean"?s=W0(s):s==null&&d==="string"?(s="",l=!0):d==="number"&&(s=0,l=!0)}try{e[t]=s}catch{}l&&e.removeAttribute(t)}const[$h,k3]=(()=>{let e=Date.now,t=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const s=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(s&&Number(s[1])<=53)}return[e,t]})();let mu=0;const C3=Promise.resolve(),O3=()=>{mu=0},I3=()=>mu||(C3.then(O3),mu=$h());function So(e,t,s,n){e.addEventListener(t,s,n)}function B3(e,t,s,n){e.removeEventListener(t,s,n)}function L3(e,t,s,n,o=null){const r=e._vei||(e._vei={}),i=r[t];if(n&&i)i.value=n;else{const[l,d]=P3(t);if(n){const c=r[t]=N3(n,o);So(e,l,c,d)}else i&&(B3(e,l,i,d),r[t]=void 0)}}const ef=/(?:Once|Passive|Capture)$/;function P3(e){let t;if(ef.test(e)){t={};let n;for(;n=e.match(ef);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ko(e.slice(2)),t]}function N3(e,t){const s=n=>{const o=n.timeStamp||$h();(k3||o>=s.attached-1)&&an(j3(n,s.value),t,5,[n])};return s.value=e,s.attached=I3(),s}function j3(e,t){if(dt(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>o=>!o._stopped&&n&&n(o))}else return t}const tf=/^on[a-z]/,F3=(e,t,s,n,o=!1,r,i,l,d)=>{t==="class"?A3(e,n,o):t==="style"?M3(e,s,n):Rl(t)?Gu(t)||L3(e,t,s,n,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):H3(e,t,n,o))?T3(e,t,n,r,i,l,d):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),R3(e,t,n,o))};function H3(e,t,s,n){return n?!!(t==="innerHTML"||t==="textContent"||t in e&&tf.test(t)&&mt(s)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||tf.test(t)&&fs(s)?!1:t in e}const sf=e=>{const t=e.props["onUpdate:modelValue"]||!1;return dt(t)?s=>Qa(t,s):t};function U3(e){e.target.composing=!0}function nf(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const zh={created(e,{modifiers:{lazy:t,trim:s,number:n}},o){e._assign=sf(o);const r=n||o.props&&o.props.type==="number";So(e,t?"change":"input",i=>{if(i.target.composing)return;let l=e.value;s&&(l=l.trim()),r&&(l=eu(l)),e._assign(l)}),s&&So(e,"change",()=>{e.value=e.value.trim()}),t||(So(e,"compositionstart",U3),So(e,"compositionend",nf),So(e,"change",nf))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:s,trim:n,number:o}},r){if(e._assign=sf(r),e.composing||document.activeElement===e&&e.type!=="range"&&(s||n&&e.value.trim()===t||(o||e.type==="number")&&eu(e.value)===t))return;const i=t==null?"":t;e.value!==i&&(e.value=i)}},D3=["ctrl","shift","alt","meta"],q3={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>D3.some(s=>e[`${s}Key`]&&!t.includes(s))},Kh=(e,t)=>(s,...n)=>{for(let o=0;o<t.length;o++){const r=q3[t[o]];if(r&&r(s,t))return}return e(s,...n)},V3=Es({patchProp:F3},E3);let rf;function $3(){return rf||(rf=n3(V3))}const z3=(...e)=>{const t=$3().createApp(...e),{mount:s}=t;return t.mount=n=>{const o=K3(n);if(!o)return;const r=t._component;!mt(r)&&!r.render&&!r.template&&(r.template=o.innerHTML),o.innerHTML="";const i=s(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),i},t};function K3(e){return fs(e)?document.querySelector(e):e}/*!
  * vue-router v4.1.5
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Eo=typeof window<"u";function Y3(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Rt=Object.assign;function Rc(e,t){const s={};for(const n in t){const o=t[n];s[n]=ln(o)?o.map(e):e(o)}return s}const Ti=()=>{},ln=Array.isArray,X3=/\/$/,W3=e=>e.replace(X3,"");function Tc(e,t,s="/"){let n,o={},r="",i="";const l=t.indexOf("#");let d=t.indexOf("?");return l<d&&l>=0&&(d=-1),d>-1&&(n=t.slice(0,d),r=t.slice(d+1,l>-1?l:t.length),o=e(r)),l>-1&&(n=n||t.slice(0,l),i=t.slice(l,t.length)),n=J3(n!=null?n:t,s),{fullPath:n+(r&&"?")+r+i,path:n,query:o,hash:i}}function G3(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function of(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Z3(e,t,s){const n=t.matched.length-1,o=s.matched.length-1;return n>-1&&n===o&&Ho(t.matched[n],s.matched[o])&&Yh(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function Ho(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Yh(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!Q3(e[s],t[s]))return!1;return!0}function Q3(e,t){return ln(e)?af(e,t):ln(t)?af(t,e):e===t}function af(e,t){return ln(t)?e.length===t.length&&e.every((s,n)=>s===t[n]):e.length===1&&e[0]===t}function J3(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),n=e.split("/");let o=s.length-1,r,i;for(r=0;r<n.length;r++)if(i=n[r],i!==".")if(i==="..")o>1&&o--;else break;return s.slice(0,o).join("/")+"/"+n.slice(r-(r===n.length?1:0)).join("/")}var $i;(function(e){e.pop="pop",e.push="push"})($i||($i={}));var ki;(function(e){e.back="back",e.forward="forward",e.unknown=""})(ki||(ki={}));function eb(e){if(!e)if(Eo){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),W3(e)}const tb=/^[^#]+#/;function sb(e,t){return e.replace(tb,"#")+t}function nb(e,t){const s=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-s.left-(t.left||0),top:n.top-s.top-(t.top||0)}}const Nl=()=>({left:window.pageXOffset,top:window.pageYOffset});function rb(e){let t;if("el"in e){const s=e.el,n=typeof s=="string"&&s.startsWith("#"),o=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!o)return;t=nb(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function lf(e,t){return(history.state?history.state.position-t:-1)+e}const pu=new Map;function ob(e,t){pu.set(e,t)}function ib(e){const t=pu.get(e);return pu.delete(e),t}let ab=()=>location.protocol+"//"+location.host;function Xh(e,t){const{pathname:s,search:n,hash:o}=t,r=e.indexOf("#");if(r>-1){let l=o.includes(e.slice(r))?e.slice(r).length:1,d=o.slice(l);return d[0]!=="/"&&(d="/"+d),of(d,"")}return of(s,e)+n+o}function lb(e,t,s,n){let o=[],r=[],i=null;const l=({state:v})=>{const w=Xh(e,location),a=s.value,j=t.value;let N=0;if(v){if(s.value=w,t.value=v,i&&i===a){i=null;return}N=j?v.position-j.position:0}else n(w);o.forEach(P=>{P(s.value,a,{delta:N,type:$i.pop,direction:N?N>0?ki.forward:ki.back:ki.unknown})})};function d(){i=s.value}function c(v){o.push(v);const w=()=>{const a=o.indexOf(v);a>-1&&o.splice(a,1)};return r.push(w),w}function f(){const{history:v}=window;!v.state||v.replaceState(Rt({},v.state,{scroll:Nl()}),"")}function u(){for(const v of r)v();r=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",f),{pauseListeners:d,listen:c,destroy:u}}function cf(e,t,s,n=!1,o=!1){return{back:e,current:t,forward:s,replaced:n,position:window.history.length,scroll:o?Nl():null}}function cb(e){const{history:t,location:s}=window,n={value:Xh(e,s)},o={value:t.state};o.value||r(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function r(d,c,f){const u=e.indexOf("#"),v=u>-1?(s.host&&document.querySelector("base")?e:e.slice(u))+d:ab()+e+d;try{t[f?"replaceState":"pushState"](c,"",v),o.value=c}catch(w){console.error(w),s[f?"replace":"assign"](v)}}function i(d,c){const f=Rt({},t.state,cf(o.value.back,d,o.value.forward,!0),c,{position:o.value.position});r(d,f,!0),n.value=d}function l(d,c){const f=Rt({},o.value,t.state,{forward:d,scroll:Nl()});r(f.current,f,!0);const u=Rt({},cf(n.value,d,null),{position:f.position+1},c);r(d,u,!1),n.value=d}return{location:n,state:o,push:l,replace:i}}function ub(e){e=eb(e);const t=cb(e),s=lb(e,t.state,t.location,t.replace);function n(r,i=!0){i||s.pauseListeners(),history.go(r)}const o=Rt({location:"",base:e,go:n,createHref:sb.bind(null,e)},t,s);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function db(e){return typeof e=="string"||e&&typeof e=="object"}function Wh(e){return typeof e=="string"||typeof e=="symbol"}const Gn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Gh=Symbol("");var uf;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(uf||(uf={}));function Uo(e,t){return Rt(new Error,{type:e,[Gh]:!0},t)}function Cn(e,t){return e instanceof Error&&Gh in e&&(t==null||!!(e.type&t))}const df="[^/]+?",fb={sensitive:!1,strict:!1,start:!0,end:!0},hb=/[.+*?^${}()[\]/\\]/g;function mb(e,t){const s=Rt({},fb,t),n=[];let o=s.start?"^":"";const r=[];for(const c of e){const f=c.length?[]:[90];s.strict&&!c.length&&(o+="/");for(let u=0;u<c.length;u++){const v=c[u];let w=40+(s.sensitive?.25:0);if(v.type===0)u||(o+="/"),o+=v.value.replace(hb,"\\$&"),w+=40;else if(v.type===1){const{value:a,repeatable:j,optional:N,regexp:P}=v;r.push({name:a,repeatable:j,optional:N});const g=P||df;if(g!==df){w+=10;try{new RegExp(`(${g})`)}catch(F){throw new Error(`Invalid custom RegExp for param "${a}" (${g}): `+F.message)}}let I=j?`((?:${g})(?:/(?:${g}))*)`:`(${g})`;u||(I=N&&c.length<2?`(?:/${I})`:"/"+I),N&&(I+="?"),o+=I,w+=20,N&&(w+=-8),j&&(w+=-20),g===".*"&&(w+=-50)}f.push(w)}n.push(f)}if(s.strict&&s.end){const c=n.length-1;n[c][n[c].length-1]+=.7000000000000001}s.strict||(o+="/?"),s.end?o+="$":s.strict&&(o+="(?:/|$)");const i=new RegExp(o,s.sensitive?"":"i");function l(c){const f=c.match(i),u={};if(!f)return null;for(let v=1;v<f.length;v++){const w=f[v]||"",a=r[v-1];u[a.name]=w&&a.repeatable?w.split("/"):w}return u}function d(c){let f="",u=!1;for(const v of e){(!u||!f.endsWith("/"))&&(f+="/"),u=!1;for(const w of v)if(w.type===0)f+=w.value;else if(w.type===1){const{value:a,repeatable:j,optional:N}=w,P=a in c?c[a]:"";if(ln(P)&&!j)throw new Error(`Provided param "${a}" is an array but it is not repeatable (* or + modifiers)`);const g=ln(P)?P.join("/"):P;if(!g)if(N)v.length<2&&(f.endsWith("/")?f=f.slice(0,-1):u=!0);else throw new Error(`Missing required param "${a}"`);f+=g}}return f||"/"}return{re:i,score:n,keys:r,parse:l,stringify:d}}function pb(e,t){let s=0;for(;s<e.length&&s<t.length;){const n=t[s]-e[s];if(n)return n;s++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function vb(e,t){let s=0;const n=e.score,o=t.score;for(;s<n.length&&s<o.length;){const r=pb(n[s],o[s]);if(r)return r;s++}if(Math.abs(o.length-n.length)===1){if(ff(n))return 1;if(ff(o))return-1}return o.length-n.length}function ff(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const gb={type:0,value:""},_b=/[a-zA-Z0-9_]/;function bb(e){if(!e)return[[]];if(e==="/")return[[gb]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(w){throw new Error(`ERR (${s})/"${c}": ${w}`)}let s=0,n=s;const o=[];let r;function i(){r&&o.push(r),r=[]}let l=0,d,c="",f="";function u(){!c||(s===0?r.push({type:0,value:c}):s===1||s===2||s===3?(r.length>1&&(d==="*"||d==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:f,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):t("Invalid state to consume buffer"),c="")}function v(){c+=d}for(;l<e.length;){if(d=e[l++],d==="\\"&&s!==2){n=s,s=4;continue}switch(s){case 0:d==="/"?(c&&u(),i()):d===":"?(u(),s=1):v();break;case 4:v(),s=n;break;case 1:d==="("?s=2:_b.test(d)?v():(u(),s=0,d!=="*"&&d!=="?"&&d!=="+"&&l--);break;case 2:d===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+d:s=3:f+=d;break;case 3:u(),s=0,d!=="*"&&d!=="?"&&d!=="+"&&l--,f="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${c}"`),u(),i(),o}function yb(e,t,s){const n=mb(bb(e.path),s),o=Rt(n,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function wb(e,t){const s=[],n=new Map;t=pf({strict:!1,end:!0,sensitive:!1},t);function o(f){return n.get(f)}function r(f,u,v){const w=!v,a=Sb(f);a.aliasOf=v&&v.record;const j=pf(t,f),N=[a];if("alias"in f){const I=typeof f.alias=="string"?[f.alias]:f.alias;for(const F of I)N.push(Rt({},a,{components:v?v.record.components:a.components,path:F,aliasOf:v?v.record:a}))}let P,g;for(const I of N){const{path:F}=I;if(u&&F[0]!=="/"){const O=u.record.path,q=O[O.length-1]==="/"?"":"/";I.path=u.record.path+(F&&q+F)}if(P=yb(I,u,j),v?v.alias.push(P):(g=g||P,g!==P&&g.alias.push(P),w&&f.name&&!mf(P)&&i(f.name)),a.children){const O=a.children;for(let q=0;q<O.length;q++)r(O[q],P,v&&v.children[q])}v=v||P,d(P)}return g?()=>{i(g)}:Ti}function i(f){if(Wh(f)){const u=n.get(f);u&&(n.delete(f),s.splice(s.indexOf(u),1),u.children.forEach(i),u.alias.forEach(i))}else{const u=s.indexOf(f);u>-1&&(s.splice(u,1),f.record.name&&n.delete(f.record.name),f.children.forEach(i),f.alias.forEach(i))}}function l(){return s}function d(f){let u=0;for(;u<s.length&&vb(f,s[u])>=0&&(f.record.path!==s[u].record.path||!Zh(f,s[u]));)u++;s.splice(u,0,f),f.record.name&&!mf(f)&&n.set(f.record.name,f)}function c(f,u){let v,w={},a,j;if("name"in f&&f.name){if(v=n.get(f.name),!v)throw Uo(1,{location:f});j=v.record.name,w=Rt(hf(u.params,v.keys.filter(g=>!g.optional).map(g=>g.name)),f.params&&hf(f.params,v.keys.map(g=>g.name))),a=v.stringify(w)}else if("path"in f)a=f.path,v=s.find(g=>g.re.test(a)),v&&(w=v.parse(a),j=v.record.name);else{if(v=u.name?n.get(u.name):s.find(g=>g.re.test(u.path)),!v)throw Uo(1,{location:f,currentLocation:u});j=v.record.name,w=Rt({},u.params,f.params),a=v.stringify(w)}const N=[];let P=v;for(;P;)N.unshift(P.record),P=P.parent;return{name:j,path:a,params:w,matched:N,meta:Ab(N)}}return e.forEach(f=>r(f)),{addRoute:r,resolve:c,removeRoute:i,getRoutes:l,getRecordMatcher:o}}function hf(e,t){const s={};for(const n of t)n in e&&(s[n]=e[n]);return s}function Sb(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Eb(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Eb(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const n in e.components)t[n]=typeof s=="boolean"?s:s[n];return t}function mf(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Ab(e){return e.reduce((t,s)=>Rt(t,s.meta),{})}function pf(e,t){const s={};for(const n in e)s[n]=n in t?t[n]:e[n];return s}function Zh(e,t){return t.children.some(s=>s===e||Zh(e,s))}const Qh=/#/g,Mb=/&/g,xb=/\//g,Rb=/=/g,Tb=/\?/g,Jh=/\+/g,kb=/%5B/g,Cb=/%5D/g,em=/%5E/g,Ob=/%60/g,tm=/%7B/g,Ib=/%7C/g,sm=/%7D/g,Bb=/%20/g;function vd(e){return encodeURI(""+e).replace(Ib,"|").replace(kb,"[").replace(Cb,"]")}function Lb(e){return vd(e).replace(tm,"{").replace(sm,"}").replace(em,"^")}function vu(e){return vd(e).replace(Jh,"%2B").replace(Bb,"+").replace(Qh,"%23").replace(Mb,"%26").replace(Ob,"`").replace(tm,"{").replace(sm,"}").replace(em,"^")}function Pb(e){return vu(e).replace(Rb,"%3D")}function Nb(e){return vd(e).replace(Qh,"%23").replace(Tb,"%3F")}function jb(e){return e==null?"":Nb(e).replace(xb,"%2F")}function pl(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Fb(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<n.length;++o){const r=n[o].replace(Jh," "),i=r.indexOf("="),l=pl(i<0?r:r.slice(0,i)),d=i<0?null:pl(r.slice(i+1));if(l in t){let c=t[l];ln(c)||(c=t[l]=[c]),c.push(d)}else t[l]=d}return t}function vf(e){let t="";for(let s in e){const n=e[s];if(s=Pb(s),n==null){n!==void 0&&(t+=(t.length?"&":"")+s);continue}(ln(n)?n.map(r=>r&&vu(r)):[n&&vu(n)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+s,r!=null&&(t+="="+r))})}return t}function Hb(e){const t={};for(const s in e){const n=e[s];n!==void 0&&(t[s]=ln(n)?n.map(o=>o==null?null:""+o):n==null?n:""+n)}return t}const Ub=Symbol(""),gf=Symbol(""),gd=Symbol(""),nm=Symbol(""),gu=Symbol("");function ui(){let e=[];function t(n){return e.push(n),()=>{const o=e.indexOf(n);o>-1&&e.splice(o,1)}}function s(){e=[]}return{add:t,list:()=>e,reset:s}}function lr(e,t,s,n,o){const r=n&&(n.enterCallbacks[o]=n.enterCallbacks[o]||[]);return()=>new Promise((i,l)=>{const d=u=>{u===!1?l(Uo(4,{from:s,to:t})):u instanceof Error?l(u):db(u)?l(Uo(2,{from:t,to:u})):(r&&n.enterCallbacks[o]===r&&typeof u=="function"&&r.push(u),i())},c=e.call(n&&n.instances[o],t,s,d);let f=Promise.resolve(c);e.length<3&&(f=f.then(d)),f.catch(u=>l(u))})}function kc(e,t,s,n){const o=[];for(const r of e)for(const i in r.components){let l=r.components[i];if(!(t!=="beforeRouteEnter"&&!r.instances[i]))if(Db(l)){const c=(l.__vccOpts||l)[t];c&&o.push(lr(c,s,n,r,i))}else{let d=l();o.push(()=>d.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${i}" at "${r.path}"`));const f=Y3(c)?c.default:c;r.components[i]=f;const v=(f.__vccOpts||f)[t];return v&&lr(v,s,n,r,i)()}))}}return o}function Db(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function _f(e){const t=Nn(gd),s=Nn(nm),n=Ns(()=>t.resolve(Qr(e.to))),o=Ns(()=>{const{matched:d}=n.value,{length:c}=d,f=d[c-1],u=s.matched;if(!f||!u.length)return-1;const v=u.findIndex(Ho.bind(null,f));if(v>-1)return v;const w=bf(d[c-2]);return c>1&&bf(f)===w&&u[u.length-1].path!==w?u.findIndex(Ho.bind(null,d[c-2])):v}),r=Ns(()=>o.value>-1&&zb(s.params,n.value.params)),i=Ns(()=>o.value>-1&&o.value===s.matched.length-1&&Yh(s.params,n.value.params));function l(d={}){return $b(d)?t[Qr(e.replace)?"replace":"push"](Qr(e.to)).catch(Ti):Promise.resolve()}return{route:n,href:Ns(()=>n.value.href),isActive:r,isExactActive:i,navigate:l}}const qb=Mh({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:_f,setup(e,{slots:t}){const s=Wo(_f(e)),{options:n}=Nn(gd),o=Ns(()=>({[yf(e.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[yf(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const r=t.default&&t.default(s);return e.custom?r:Vh("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:o.value},r)}}}),Vb=qb;function $b(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function zb(e,t){for(const s in t){const n=t[s],o=e[s];if(typeof n=="string"){if(n!==o)return!1}else if(!ln(o)||o.length!==n.length||n.some((r,i)=>r!==o[i]))return!1}return!0}function bf(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const yf=(e,t,s)=>e!=null?e:t!=null?t:s,Kb=Mh({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const n=Nn(gu),o=Ns(()=>e.route||n.value),r=Nn(gf,0),i=Ns(()=>{let c=Qr(r);const{matched:f}=o.value;let u;for(;(u=f[c])&&!u.components;)c++;return c}),l=Ns(()=>o.value.matched[i.value]);Ja(gf,Ns(()=>i.value+1)),Ja(Ub,l),Ja(gu,o);const d=ad();return xi(()=>[d.value,l.value,e.name],([c,f,u],[v,w,a])=>{f&&(f.instances[u]=c,w&&w!==f&&c&&c===v&&(f.leaveGuards.size||(f.leaveGuards=w.leaveGuards),f.updateGuards.size||(f.updateGuards=w.updateGuards))),c&&f&&(!w||!Ho(f,w)||!v)&&(f.enterCallbacks[u]||[]).forEach(j=>j(c))},{flush:"post"}),()=>{const c=o.value,f=e.name,u=l.value,v=u&&u.components[f];if(!v)return wf(s.default,{Component:v,route:c});const w=u.props[f],a=w?w===!0?c.params:typeof w=="function"?w(c):w:null,N=Vh(v,Rt({},a,t,{onVnodeUnmounted:P=>{P.component.isUnmounted&&(u.instances[f]=null)},ref:d}));return wf(s.default,{Component:N,route:c})||N}}});function wf(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const rm=Kb;function Yb(e){const t=wb(e.routes,e),s=e.parseQuery||Fb,n=e.stringifyQuery||vf,o=e.history,r=ui(),i=ui(),l=ui(),d=c_(Gn);let c=Gn;Eo&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=Rc.bind(null,te=>""+te),u=Rc.bind(null,jb),v=Rc.bind(null,pl);function w(te,ve){let oe,Re;return Wh(te)?(oe=t.getRecordMatcher(te),Re=ve):Re=te,t.addRoute(Re,oe)}function a(te){const ve=t.getRecordMatcher(te);ve&&t.removeRoute(ve)}function j(){return t.getRoutes().map(te=>te.record)}function N(te){return!!t.getRecordMatcher(te)}function P(te,ve){if(ve=Rt({},ve||d.value),typeof te=="string"){const Ke=Tc(s,te,ve.path),E=t.resolve({path:Ke.path},ve),B=o.createHref(Ke.fullPath);return Rt(Ke,E,{params:v(E.params),hash:pl(Ke.hash),redirectedFrom:void 0,href:B})}let oe;if("path"in te)oe=Rt({},te,{path:Tc(s,te.path,ve.path).path});else{const Ke=Rt({},te.params);for(const E in Ke)Ke[E]==null&&delete Ke[E];oe=Rt({},te,{params:u(te.params)}),ve.params=u(ve.params)}const Re=t.resolve(oe,ve),Oe=te.hash||"";Re.params=f(v(Re.params));const Se=G3(n,Rt({},te,{hash:Lb(Oe),path:Re.path})),Fe=o.createHref(Se);return Rt({fullPath:Se,hash:Oe,query:n===vf?Hb(te.query):te.query||{}},Re,{redirectedFrom:void 0,href:Fe})}function g(te){return typeof te=="string"?Tc(s,te,d.value.path):Rt({},te)}function I(te,ve){if(c!==te)return Uo(8,{from:ve,to:te})}function F(te){return _(te)}function O(te){return F(Rt(g(te),{replace:!0}))}function q(te){const ve=te.matched[te.matched.length-1];if(ve&&ve.redirect){const{redirect:oe}=ve;let Re=typeof oe=="function"?oe(te):oe;return typeof Re=="string"&&(Re=Re.includes("?")||Re.includes("#")?Re=g(Re):{path:Re},Re.params={}),Rt({query:te.query,hash:te.hash,params:"path"in Re?{}:te.params},Re)}}function _(te,ve){const oe=c=P(te),Re=d.value,Oe=te.state,Se=te.force,Fe=te.replace===!0,Ke=q(oe);if(Ke)return _(Rt(g(Ke),{state:typeof Ke=="object"?Rt({},Oe,Ke.state):Oe,force:Se,replace:Fe}),ve||oe);const E=oe;E.redirectedFrom=ve;let B;return!Se&&Z3(n,Re,oe)&&(B=Uo(16,{to:E,from:Re}),b(Re,Re,!0,!1)),(B?Promise.resolve(B):R(E,Re)).catch($=>Cn($)?Cn($,2)?$:X($):Y($,E,Re)).then($=>{if($){if(Cn($,2))return _(Rt({replace:Fe},g($.to),{state:typeof $.to=="object"?Rt({},Oe,$.to.state):Oe,force:Se}),ve||E)}else $=A(E,Re,!0,Fe,Oe);return y(E,Re,$),$})}function k(te,ve){const oe=I(te,ve);return oe?Promise.reject(oe):Promise.resolve()}function R(te,ve){let oe;const[Re,Oe,Se]=Xb(te,ve);oe=kc(Re.reverse(),"beforeRouteLeave",te,ve);for(const Ke of Re)Ke.leaveGuards.forEach(E=>{oe.push(lr(E,te,ve))});const Fe=k.bind(null,te,ve);return oe.push(Fe),vo(oe).then(()=>{oe=[];for(const Ke of r.list())oe.push(lr(Ke,te,ve));return oe.push(Fe),vo(oe)}).then(()=>{oe=kc(Oe,"beforeRouteUpdate",te,ve);for(const Ke of Oe)Ke.updateGuards.forEach(E=>{oe.push(lr(E,te,ve))});return oe.push(Fe),vo(oe)}).then(()=>{oe=[];for(const Ke of te.matched)if(Ke.beforeEnter&&!ve.matched.includes(Ke))if(ln(Ke.beforeEnter))for(const E of Ke.beforeEnter)oe.push(lr(E,te,ve));else oe.push(lr(Ke.beforeEnter,te,ve));return oe.push(Fe),vo(oe)}).then(()=>(te.matched.forEach(Ke=>Ke.enterCallbacks={}),oe=kc(Se,"beforeRouteEnter",te,ve),oe.push(Fe),vo(oe))).then(()=>{oe=[];for(const Ke of i.list())oe.push(lr(Ke,te,ve));return oe.push(Fe),vo(oe)}).catch(Ke=>Cn(Ke,8)?Ke:Promise.reject(Ke))}function y(te,ve,oe){for(const Re of l.list())Re(te,ve,oe)}function A(te,ve,oe,Re,Oe){const Se=I(te,ve);if(Se)return Se;const Fe=ve===Gn,Ke=Eo?history.state:{};oe&&(Re||Fe?o.replace(te.fullPath,Rt({scroll:Fe&&Ke&&Ke.scroll},Oe)):o.push(te.fullPath,Oe)),d.value=te,b(te,ve,oe,Fe),X()}let p;function S(){p||(p=o.listen((te,ve,oe)=>{if(!Te.listening)return;const Re=P(te),Oe=q(Re);if(Oe){_(Rt(Oe,{replace:!0}),Re).catch(Ti);return}c=Re;const Se=d.value;Eo&&ob(lf(Se.fullPath,oe.delta),Nl()),R(Re,Se).catch(Fe=>Cn(Fe,12)?Fe:Cn(Fe,2)?(_(Fe.to,Re).then(Ke=>{Cn(Ke,20)&&!oe.delta&&oe.type===$i.pop&&o.go(-1,!1)}).catch(Ti),Promise.reject()):(oe.delta&&o.go(-oe.delta,!1),Y(Fe,Re,Se))).then(Fe=>{Fe=Fe||A(Re,Se,!1),Fe&&(oe.delta&&!Cn(Fe,8)?o.go(-oe.delta,!1):oe.type===$i.pop&&Cn(Fe,20)&&o.go(-1,!1)),y(Re,Se,Fe)}).catch(Ti)}))}let x=ui(),M=ui(),D;function Y(te,ve,oe){X(te);const Re=M.list();return Re.length?Re.forEach(Oe=>Oe(te,ve,oe)):console.error(te),Promise.reject(te)}function V(){return D&&d.value!==Gn?Promise.resolve():new Promise((te,ve)=>{x.add([te,ve])})}function X(te){return D||(D=!te,S(),x.list().forEach(([ve,oe])=>te?oe(te):ve()),x.reset()),te}function b(te,ve,oe,Re){const{scrollBehavior:Oe}=e;if(!Eo||!Oe)return Promise.resolve();const Se=!oe&&ib(lf(te.fullPath,0))||(Re||!oe)&&history.state&&history.state.scroll||null;return cd().then(()=>Oe(te,ve,Se)).then(Fe=>Fe&&rb(Fe)).catch(Fe=>Y(Fe,te,ve))}const T=te=>o.go(te);let ie;const ce=new Set,Te={currentRoute:d,listening:!0,addRoute:w,removeRoute:a,hasRoute:N,getRoutes:j,resolve:P,options:e,push:F,replace:O,go:T,back:()=>T(-1),forward:()=>T(1),beforeEach:r.add,beforeResolve:i.add,afterEach:l.add,onError:M.add,isReady:V,install(te){const ve=this;te.component("RouterLink",Vb),te.component("RouterView",rm),te.config.globalProperties.$router=ve,Object.defineProperty(te.config.globalProperties,"$route",{enumerable:!0,get:()=>Qr(d)}),Eo&&!ie&&d.value===Gn&&(ie=!0,F(o.location).catch(Oe=>{}));const oe={};for(const Oe in Gn)oe[Oe]=Ns(()=>d.value[Oe]);te.provide(gd,ve),te.provide(nm,Wo(oe)),te.provide(gu,d);const Re=te.unmount;ce.add(te),te.unmount=function(){ce.delete(te),ce.size<1&&(c=Gn,p&&p(),p=null,d.value=Gn,ie=!1,D=!1),Re()}}};return Te}function vo(e){return e.reduce((t,s)=>t.then(()=>s()),Promise.resolve())}function Xb(e,t){const s=[],n=[],o=[],r=Math.max(t.matched.length,e.matched.length);for(let i=0;i<r;i++){const l=t.matched[i];l&&(e.matched.find(c=>Ho(c,l))?n.push(l):s.push(l));const d=e.matched[i];d&&(t.matched.find(c=>Ho(c,d))||o.push(d))}return[s,n,o]}const Wb=(e,t)=>{const s=e.__vccOpts||e;for(const[n,o]of t)s[n]=o;return s};const Gb={data(){return{isLogin:!1}}},Zb=Object.assign(Gb,{__name:"App",setup(e){return(t,s)=>(Di(),Fh(Qr(rm)))}}),Qb=Wb(Zb,[["__scopeId","data-v-ad516c62"]]),Jb="modulepreload",e4=function(e){return"/web-chat/"+e},Sf={},t4=function(t,s,n){return!s||s.length===0?t():Promise.all(s.map(o=>{if(o=e4(o),o in Sf)return;Sf[o]=!0;const r=o.endsWith(".css"),i=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${i}`))return;const l=document.createElement("link");if(l.rel=r?"stylesheet":Jb,r||(l.as="script",l.crossOrigin=""),l.href=o,document.head.appendChild(l),r)return new Promise((d,c)=>{l.addEventListener("load",d),l.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t())};var s4=!1;/*!
  * pinia v2.0.22
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let om;const jl=e=>om=e,im=Symbol();function _u(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Ci;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Ci||(Ci={}));function n4(){const e=J0(!0),t=e.run(()=>ad({}));let s=[],n=[];const o=No({install(r){jl(o),o._a=r,r.provide(im,o),r.config.globalProperties.$pinia=o,n.forEach(i=>s.push(i)),n=[]},use(r){return!this._a&&!s4?n.push(r):s.push(r),this},_p:s,_a:null,_e:e,_s:new Map,state:t});return o}const am=()=>{};function Ef(e,t,s,n=am){e.push(t);const o=()=>{const r=e.indexOf(t);r>-1&&(e.splice(r,1),n())};return!s&&Uh()&&dd(o),o}function go(e,...t){e.slice().forEach(s=>{s(...t)})}function bu(e,t){e instanceof Map&&t instanceof Map&&t.forEach((s,n)=>e.set(n,s)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const s in t){if(!t.hasOwnProperty(s))continue;const n=t[s],o=e[s];_u(o)&&_u(n)&&e.hasOwnProperty(s)&&!zt(n)&&!fr(n)?e[s]=bu(o,n):e[s]=n}return e}const r4=Symbol();function o4(e){return!_u(e)||!e.hasOwnProperty(r4)}const{assign:Ln}=Object;function i4(e){return!!(zt(e)&&e.effect)}function a4(e,t,s,n){const{state:o,actions:r,getters:i}=t,l=s.state.value[e];let d;function c(){l||(s.state.value[e]=o?o():{});const f=f_(s.state.value[e]);return Ln(f,r,Object.keys(i||{}).reduce((u,v)=>(u[v]=No(Ns(()=>{jl(s);const w=s._s.get(e);return i[v].call(w,w)})),u),{}))}return d=lm(e,c,t,s,n,!0),d.$reset=function(){const u=o?o():{};this.$patch(v=>{Ln(v,u)})},d}function lm(e,t,s={},n,o,r){let i;const l=Ln({actions:{}},s),d={deep:!0};let c,f,u=No([]),v=No([]),w;const a=n.state.value[e];!r&&!a&&(n.state.value[e]={}),ad({});let j;function N(_){let k;c=f=!1,typeof _=="function"?(_(n.state.value[e]),k={type:Ci.patchFunction,storeId:e,events:w}):(bu(n.state.value[e],_),k={type:Ci.patchObject,payload:_,storeId:e,events:w});const R=j=Symbol();cd().then(()=>{j===R&&(c=!0)}),f=!0,go(u,k,n.state.value[e])}const P=am;function g(){i.stop(),u=[],v=[],n._s.delete(e)}function I(_,k){return function(){jl(n);const R=Array.from(arguments),y=[],A=[];function p(M){y.push(M)}function S(M){A.push(M)}go(v,{args:R,name:_,store:O,after:p,onError:S});let x;try{x=k.apply(this&&this.$id===e?this:O,R)}catch(M){throw go(A,M),M}return x instanceof Promise?x.then(M=>(go(y,M),M)).catch(M=>(go(A,M),Promise.reject(M))):(go(y,x),x)}}const F={_p:n,$id:e,$onAction:Ef.bind(null,v),$patch:N,$reset:P,$subscribe(_,k={}){const R=Ef(u,_,k.detached,()=>y()),y=i.run(()=>xi(()=>n.state.value[e],A=>{(k.flush==="sync"?f:c)&&_({storeId:e,type:Ci.direct,events:w},A)},Ln({},d,k)));return R},$dispose:g},O=Wo(Ln({},F));n._s.set(e,O);const q=n._e.run(()=>(i=J0(),i.run(()=>t())));for(const _ in q){const k=q[_];if(zt(k)&&!i4(k)||fr(k))r||(a&&o4(k)&&(zt(k)?k.value=a[_]:bu(k,a[_])),n.state.value[e][_]=k);else if(typeof k=="function"){const R=I(_,k);q[_]=R,l.actions[_]=k}}return Ln(O,q),Ln(Et(O),q),Object.defineProperty(O,"$state",{get:()=>n.state.value[e],set:_=>{N(k=>{Ln(k,_)})}}),n._p.forEach(_=>{Ln(O,i.run(()=>_({store:O,app:n._a,pinia:n,options:l})))}),a&&r&&s.hydrate&&s.hydrate(O.$state,a),c=!0,f=!0,O}function Fl(e,t,s){let n,o;const r=typeof t=="function";typeof e=="string"?(n=e,o=r?s:t):(o=e,n=e.id);function i(l,d){const c=Uh();return l=l||c&&Nn(im),l&&jl(l),l=om,l._s.has(n)||(r?lm(n,t,o,l):a4(n,o,l)),l._s.get(n)}return i.$id=n,i}Fl("CounterStore",{state:()=>({count:0}),actions:{increment(){this.count++}}});function l4(e,t){const s=Object.create(null),n=e.split(",");for(let o=0;o<n.length;o++)s[n[o]]=!0;return t?o=>!!s[o.toLowerCase()]:o=>!!s[o]}const c4=()=>{},u4=Object.assign,d4=Object.prototype.hasOwnProperty,Hl=(e,t)=>d4.call(e,t),mr=Array.isArray,sl=e=>cm(e)==="[object Map]",f4=e=>typeof e=="function",h4=e=>typeof e=="string",_d=e=>typeof e=="symbol",Ul=e=>e!==null&&typeof e=="object",m4=Object.prototype.toString,cm=e=>m4.call(e),p4=e=>cm(e).slice(8,-1),bd=e=>h4(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,um=(e,t)=>!Object.is(e,t),v4=(e,t,s)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:s})};let vn;class g4{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&vn&&(this.parent=vn,this.index=(vn.scopes||(vn.scopes=[])).push(this)-1)}run(t){if(this.active){const s=vn;try{return vn=this,t()}finally{vn=s}}}on(){vn=this}off(){vn=this.parent}stop(t){if(this.active){let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.scopes)for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);if(this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.active=!1}}}function _4(e,t=vn){t&&t.active&&t.effects.push(e)}const yd=e=>{const t=new Set(e);return t.w=0,t.n=0,t},dm=e=>(e.w&yr)>0,fm=e=>(e.n&yr)>0,b4=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=yr},y4=e=>{const{deps:t}=e;if(t.length){let s=0;for(let n=0;n<t.length;n++){const o=t[n];dm(o)&&!fm(o)?o.delete(e):t[s++]=o,o.w&=~yr,o.n&=~yr}t.length=s}},yu=new WeakMap;let bi=0,yr=1;const wu=30;let tn;const eo=Symbol(""),Su=Symbol("");class wd{constructor(t,s=null,n){this.fn=t,this.scheduler=s,this.active=!0,this.deps=[],this.parent=void 0,_4(this,n)}run(){if(!this.active)return this.fn();let t=tn,s=pr;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=tn,tn=this,pr=!0,yr=1<<++bi,bi<=wu?b4(this):Af(this),this.fn()}finally{bi<=wu&&y4(this),yr=1<<--bi,tn=this.parent,pr=s,this.parent=void 0,this.deferStop&&this.stop()}}stop(){tn===this?this.deferStop=!0:this.active&&(Af(this),this.onStop&&this.onStop(),this.active=!1)}}function Af(e){const{deps:t}=e;if(t.length){for(let s=0;s<t.length;s++)t[s].delete(e);t.length=0}}let pr=!0;const hm=[];function Go(){hm.push(pr),pr=!1}function Zo(){const e=hm.pop();pr=e===void 0?!0:e}function Us(e,t,s){if(pr&&tn){let n=yu.get(e);n||yu.set(e,n=new Map);let o=n.get(s);o||n.set(s,o=yd()),mm(o)}}function mm(e,t){let s=!1;bi<=wu?fm(e)||(e.n|=yr,s=!dm(e)):s=!e.has(tn),s&&(e.add(tn),tn.deps.push(e))}function Un(e,t,s,n,o,r){const i=yu.get(e);if(!i)return;let l=[];if(t==="clear")l=[...i.values()];else if(s==="length"&&mr(e))i.forEach((d,c)=>{(c==="length"||c>=n)&&l.push(d)});else switch(s!==void 0&&l.push(i.get(s)),t){case"add":mr(e)?bd(s)&&l.push(i.get("length")):(l.push(i.get(eo)),sl(e)&&l.push(i.get(Su)));break;case"delete":mr(e)||(l.push(i.get(eo)),sl(e)&&l.push(i.get(Su)));break;case"set":sl(e)&&l.push(i.get(eo));break}if(l.length===1)l[0]&&Eu(l[0]);else{const d=[];for(const c of l)c&&d.push(...c);Eu(yd(d))}}function Eu(e,t){const s=mr(e)?e:[...e];for(const n of s)n.computed&&Mf(n);for(const n of s)n.computed||Mf(n)}function Mf(e,t){(e!==tn||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const w4=l4("__proto__,__v_isRef,__isVue"),pm=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(_d)),S4=Sd(),E4=Sd(!1,!0),A4=Sd(!0),xf=M4();function M4(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...s){const n=xt(this);for(let r=0,i=this.length;r<i;r++)Us(n,"get",r+"");const o=n[t](...s);return o===-1||o===!1?n[t](...s.map(xt)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...s){Go();const n=xt(this)[t].apply(this,s);return Zo(),n}}),e}function Sd(e=!1,t=!1){return function(n,o,r){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&r===(e?t?D4:ym:t?bm:_m).get(n))return n;const i=mr(n);if(!e&&i&&Hl(xf,o))return Reflect.get(xf,o,r);const l=Reflect.get(n,o,r);return(_d(o)?pm.has(o):w4(o))||(e||Us(n,"get",o),t)?l:Ss(l)?i&&bd(o)?l:l.value:Ul(l)?e?wm(l):Md(l):l}}const x4=vm(),R4=vm(!0);function vm(e=!1){return function(s,n,o,r){let i=s[n];if(zi(i)&&Ss(i)&&!Ss(o))return!1;if(!e&&!zi(o)&&(Au(o)||(o=xt(o),i=xt(i)),!mr(s)&&Ss(i)&&!Ss(o)))return i.value=o,!0;const l=mr(s)&&bd(n)?Number(n)<s.length:Hl(s,n),d=Reflect.set(s,n,o,r);return s===xt(r)&&(l?um(o,i)&&Un(s,"set",n,o):Un(s,"add",n,o)),d}}function T4(e,t){const s=Hl(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&s&&Un(e,"delete",t,void 0),n}function k4(e,t){const s=Reflect.has(e,t);return(!_d(t)||!pm.has(t))&&Us(e,"has",t),s}function C4(e){return Us(e,"iterate",mr(e)?"length":eo),Reflect.ownKeys(e)}const gm={get:S4,set:x4,deleteProperty:T4,has:k4,ownKeys:C4},O4={get:A4,set(e,t){return!0},deleteProperty(e,t){return!0}},I4=u4({},gm,{get:E4,set:R4}),Ed=e=>e,Dl=e=>Reflect.getPrototypeOf(e);function Ia(e,t,s=!1,n=!1){e=e.__v_raw;const o=xt(e),r=xt(t);s||(t!==r&&Us(o,"get",t),Us(o,"get",r));const{has:i}=Dl(o),l=n?Ed:s?Td:Rd;if(i.call(o,t))return l(e.get(t));if(i.call(o,r))return l(e.get(r));e!==o&&e.get(t)}function Ba(e,t=!1){const s=this.__v_raw,n=xt(s),o=xt(e);return t||(e!==o&&Us(n,"has",e),Us(n,"has",o)),e===o?s.has(e):s.has(e)||s.has(o)}function La(e,t=!1){return e=e.__v_raw,!t&&Us(xt(e),"iterate",eo),Reflect.get(e,"size",e)}function Rf(e){e=xt(e);const t=xt(this);return Dl(t).has.call(t,e)||(t.add(e),Un(t,"add",e,e)),this}function Tf(e,t){t=xt(t);const s=xt(this),{has:n,get:o}=Dl(s);let r=n.call(s,e);r||(e=xt(e),r=n.call(s,e));const i=o.call(s,e);return s.set(e,t),r?um(t,i)&&Un(s,"set",e,t):Un(s,"add",e,t),this}function kf(e){const t=xt(this),{has:s,get:n}=Dl(t);let o=s.call(t,e);o||(e=xt(e),o=s.call(t,e)),n&&n.call(t,e);const r=t.delete(e);return o&&Un(t,"delete",e,void 0),r}function Cf(){const e=xt(this),t=e.size!==0,s=e.clear();return t&&Un(e,"clear",void 0,void 0),s}function Pa(e,t){return function(n,o){const r=this,i=r.__v_raw,l=xt(i),d=t?Ed:e?Td:Rd;return!e&&Us(l,"iterate",eo),i.forEach((c,f)=>n.call(o,d(c),d(f),r))}}function Na(e,t,s){return function(...n){const o=this.__v_raw,r=xt(o),i=sl(r),l=e==="entries"||e===Symbol.iterator&&i,d=e==="keys"&&i,c=o[e](...n),f=s?Ed:t?Td:Rd;return!t&&Us(r,"iterate",d?Su:eo),{next(){const{value:u,done:v}=c.next();return v?{value:u,done:v}:{value:l?[f(u[0]),f(u[1])]:f(u),done:v}},[Symbol.iterator](){return this}}}}function Zn(e){return function(...t){return e==="delete"?!1:this}}function B4(){const e={get(r){return Ia(this,r)},get size(){return La(this)},has:Ba,add:Rf,set:Tf,delete:kf,clear:Cf,forEach:Pa(!1,!1)},t={get(r){return Ia(this,r,!1,!0)},get size(){return La(this)},has:Ba,add:Rf,set:Tf,delete:kf,clear:Cf,forEach:Pa(!1,!0)},s={get(r){return Ia(this,r,!0)},get size(){return La(this,!0)},has(r){return Ba.call(this,r,!0)},add:Zn("add"),set:Zn("set"),delete:Zn("delete"),clear:Zn("clear"),forEach:Pa(!0,!1)},n={get(r){return Ia(this,r,!0,!0)},get size(){return La(this,!0)},has(r){return Ba.call(this,r,!0)},add:Zn("add"),set:Zn("set"),delete:Zn("delete"),clear:Zn("clear"),forEach:Pa(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=Na(r,!1,!1),s[r]=Na(r,!0,!1),t[r]=Na(r,!1,!0),n[r]=Na(r,!0,!0)}),[e,s,t,n]}const[L4,P4,N4,j4]=B4();function Ad(e,t){const s=t?e?j4:N4:e?P4:L4;return(n,o,r)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?n:Reflect.get(Hl(s,o)&&o in n?s:n,o,r)}const F4={get:Ad(!1,!1)},H4={get:Ad(!1,!0)},U4={get:Ad(!0,!1)},_m=new WeakMap,bm=new WeakMap,ym=new WeakMap,D4=new WeakMap;function q4(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function V4(e){return e.__v_skip||!Object.isExtensible(e)?0:q4(p4(e))}function Md(e){return zi(e)?e:xd(e,!1,gm,F4,_m)}function $4(e){return xd(e,!1,I4,H4,bm)}function wm(e){return xd(e,!0,O4,U4,ym)}function xd(e,t,s,n,o){if(!Ul(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=o.get(e);if(r)return r;const i=V4(e);if(i===0)return e;const l=new Proxy(e,i===2?n:s);return o.set(e,l),l}function ko(e){return zi(e)?ko(e.__v_raw):!!(e&&e.__v_isReactive)}function zi(e){return!!(e&&e.__v_isReadonly)}function Au(e){return!!(e&&e.__v_isShallow)}function Sm(e){return ko(e)||zi(e)}function xt(e){const t=e&&e.__v_raw;return t?xt(t):e}function Em(e){return v4(e,"__v_skip",!0),e}const Rd=e=>Ul(e)?Md(e):e,Td=e=>Ul(e)?wm(e):e;function z4(e){pr&&tn&&(e=xt(e),mm(e.dep||(e.dep=yd())))}function K4(e,t){e=xt(e),e.dep&&Eu(e.dep)}function Ss(e){return!!(e&&e.__v_isRef===!0)}function Y4(e){return Ss(e)?e.value:e}const X4={get:(e,t,s)=>Y4(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const o=e[t];return Ss(o)&&!Ss(s)?(o.value=s,!0):Reflect.set(e,t,s,n)}};function Am(e){return ko(e)?e:new Proxy(e,X4)}class W4{constructor(t,s,n,o){this._setter=s,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new wd(t,()=>{this._dirty||(this._dirty=!0,K4(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=n}get value(){const t=xt(this);return z4(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function G4(e,t,s=!1){let n,o;const r=f4(e);return r?(n=e,o=c4):(n=e.get,o=e.set),new W4(n,o,r||!o,s)}function Z4(e,t){const s=Object.create(null),n=e.split(",");for(let o=0;o<n.length;o++)s[n[o]]=!0;return t?o=>!!s[o.toLowerCase()]:o=>!!s[o]}function At(e){if(bt(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],o=As(n)?e5(n):At(n);if(o)for(const r in o)t[r]=o[r]}return t}else{if(As(e))return e;if(Ms(e))return e}}const Q4=/;(?![^(]*\))/g,J4=/:(.+)/;function e5(e){const t={};return e.split(Q4).forEach(s=>{if(s){const n=s.split(J4);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function ft(e){let t="";if(As(e))t=e;else if(bt(e))for(let s=0;s<e.length;s++){const n=ft(e[s]);n&&(t+=n+" ")}else if(Ms(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}function Bt(e){if(!e)return null;let{class:t,style:s}=e;return t&&!As(t)&&(e.class=ft(t)),s&&(e.style=At(s)),e}const at=e=>As(e)?e:e==null?"":bt(e)||Ms(e)&&(e.toString===Cm||!pt(e.toString))?JSON.stringify(e,Mm,2):String(e),Mm=(e,t)=>t&&t.__v_isRef?Mm(e,t.value):Rm(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,o])=>(s[`${n} =>`]=o,s),{})}:Tm(t)?{[`Set(${t.size})`]:[...t.values()]}:Ms(t)&&!bt(t)&&!Om(t)?String(t):t,Ht={},Co=[],jn=()=>{},t5=()=>!1,s5=/^on[^a-z]/,kd=e=>s5.test(e),xm=e=>e.startsWith("onUpdate:"),Ds=Object.assign,Cd=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},n5=Object.prototype.hasOwnProperty,Mt=(e,t)=>n5.call(e,t),bt=Array.isArray,Rm=e=>Od(e)==="[object Map]",Tm=e=>Od(e)==="[object Set]",pt=e=>typeof e=="function",As=e=>typeof e=="string",Ms=e=>e!==null&&typeof e=="object",km=e=>Ms(e)&&pt(e.then)&&pt(e.catch),Cm=Object.prototype.toString,Od=e=>Cm.call(e),Om=e=>Od(e)==="[object Object]",nl=Z4(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ql=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},r5=/-(\w)/g,Rn=ql(e=>e.replace(r5,(t,s)=>s?s.toUpperCase():"")),o5=/\B([A-Z])/g,Vl=ql(e=>e.replace(o5,"-$1").toLowerCase()),Id=ql(e=>e.charAt(0).toUpperCase()+e.slice(1)),Cc=ql(e=>e?`on${Id(e)}`:""),Of=(e,t)=>!Object.is(e,t),Oc=(e,t)=>{for(let s=0;s<e.length;s++)e[s](t)},Mu=(e,t,s)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:s})},i5=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let If;const a5=()=>If||(If=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function vr(e,t,s,n){let o;try{o=n?e(...n):e()}catch(r){$l(r,t,s)}return o}function Xs(e,t,s,n){if(pt(e)){const r=vr(e,t,s,n);return r&&km(r)&&r.catch(i=>{$l(i,t,s)}),r}const o=[];for(let r=0;r<e.length;r++)o.push(Xs(e[r],t,s,n));return o}function $l(e,t,s,n=!0){const o=t?t.vnode:null;if(t){let r=t.parent;const i=t.proxy,l=s;for(;r;){const c=r.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](e,i,l)===!1)return}r=r.parent}const d=t.appContext.config.errorHandler;if(d){vr(d,null,10,[e,i,l]);return}}l5(e,s,o,n)}function l5(e,t,s,n=!0){console.error(e)}let vl=!1,xu=!1;const js=[];let Pn=0;const Oi=[];let yi=null,Ao=0;const Ii=[];let or=null,Mo=0;const Im=Promise.resolve();let Bd=null,Ru=null;function Bm(e){const t=Bd||Im;return e?t.then(this?e.bind(this):e):t}function c5(e){let t=Pn+1,s=js.length;for(;t<s;){const n=t+s>>>1;Ki(js[n])<e?t=n+1:s=n}return t}function Lm(e){(!js.length||!js.includes(e,vl&&e.allowRecurse?Pn+1:Pn))&&e!==Ru&&(e.id==null?js.push(e):js.splice(c5(e.id),0,e),Pm())}function Pm(){!vl&&!xu&&(xu=!0,Bd=Im.then(Fm))}function u5(e){const t=js.indexOf(e);t>Pn&&js.splice(t,1)}function Nm(e,t,s,n){bt(e)?s.push(...e):(!t||!t.includes(e,e.allowRecurse?n+1:n))&&s.push(e),Pm()}function d5(e){Nm(e,yi,Oi,Ao)}function f5(e){Nm(e,or,Ii,Mo)}function zl(e,t=null){if(Oi.length){for(Ru=t,yi=[...new Set(Oi)],Oi.length=0,Ao=0;Ao<yi.length;Ao++)yi[Ao]();yi=null,Ao=0,Ru=null,zl(e,t)}}function jm(e){if(zl(),Ii.length){const t=[...new Set(Ii)];if(Ii.length=0,or){or.push(...t);return}for(or=t,or.sort((s,n)=>Ki(s)-Ki(n)),Mo=0;Mo<or.length;Mo++)or[Mo]();or=null,Mo=0}}const Ki=e=>e.id==null?1/0:e.id;function Fm(e){xu=!1,vl=!0,zl(e),js.sort((t,s)=>Ki(t)-Ki(s));try{for(Pn=0;Pn<js.length;Pn++){const t=js[Pn];t&&t.active!==!1&&vr(t,null,14)}}finally{Pn=0,js.length=0,jm(),vl=!1,Bd=null,(js.length||Oi.length||Ii.length)&&Fm(e)}}function h5(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||Ht;let o=s;const r=t.startsWith("update:"),i=r&&t.slice(7);if(i&&i in n){const f=`${i==="modelValue"?"model":i}Modifiers`,{number:u,trim:v}=n[f]||Ht;v&&(o=s.map(w=>w.trim())),u&&(o=s.map(i5))}let l,d=n[l=Cc(t)]||n[l=Cc(Rn(t))];!d&&r&&(d=n[l=Cc(Vl(t))]),d&&Xs(d,e,6,o);const c=n[l+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Xs(c,e,6,o)}}function Hm(e,t,s=!1){const n=t.emitsCache,o=n.get(e);if(o!==void 0)return o;const r=e.emits;let i={},l=!1;if(!pt(e)){const d=c=>{const f=Hm(c,t,!0);f&&(l=!0,Ds(i,f))};!s&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}return!r&&!l?(n.set(e,null),null):(bt(r)?r.forEach(d=>i[d]=null):Ds(i,r),n.set(e,i),i)}function Kl(e,t){return!e||!kd(t)?!1:(t=t.slice(2).replace(/Once$/,""),Mt(e,t[0].toLowerCase()+t.slice(1))||Mt(e,Vl(t))||Mt(e,t))}let ds=null,Um=null;function gl(e){const t=ds;return ds=e,Um=e&&e.type.__scopeId||null,t}function tt(e,t=ds,s){if(!t||e._n)return e;const n=(...o)=>{n._d&&Vf(-1);const r=gl(t),i=e(...o);return gl(r),n._d&&Vf(1),i};return n._n=!0,n._c=!0,n._d=!0,n}function Ic(e){const{type:t,vnode:s,proxy:n,withProxy:o,props:r,propsOptions:[i],slots:l,attrs:d,emit:c,render:f,renderCache:u,data:v,setupState:w,ctx:a,inheritAttrs:j}=e;let N,P;const g=gl(e);try{if(s.shapeFlag&4){const F=o||n;N=yn(f.call(F,F,u,r,w,v,a)),P=d}else{const F=t;N=yn(F.length>1?F(r,{attrs:d,slots:l,emit:c}):F(r,null)),P=t.props?d:m5(d)}}catch(F){Li.length=0,$l(F,e,1),N=$e(Ws)}let I=N;if(P&&j!==!1){const F=Object.keys(P),{shapeFlag:O}=I;F.length&&O&7&&(i&&F.some(xm)&&(P=p5(P,i)),I=wr(I,P))}return s.dirs&&(I=wr(I),I.dirs=I.dirs?I.dirs.concat(s.dirs):s.dirs),s.transition&&(I.transition=s.transition),N=I,gl(g),N}const m5=e=>{let t;for(const s in e)(s==="class"||s==="style"||kd(s))&&((t||(t={}))[s]=e[s]);return t},p5=(e,t)=>{const s={};for(const n in e)(!xm(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function v5(e,t,s){const{props:n,children:o,component:r}=e,{props:i,children:l,patchFlag:d}=t,c=r.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&d>=0){if(d&1024)return!0;if(d&16)return n?Bf(n,i,c):!!i;if(d&8){const f=t.dynamicProps;for(let u=0;u<f.length;u++){const v=f[u];if(i[v]!==n[v]&&!Kl(c,v))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:n===i?!1:n?i?Bf(n,i,c):!0:!!i;return!1}function Bf(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let o=0;o<n.length;o++){const r=n[o];if(t[r]!==e[r]&&!Kl(s,r))return!0}return!1}function g5({vnode:e,parent:t},s){for(;t&&t.subTree===e;)(e=t.vnode).el=s,t=t.parent}const _5=e=>e.__isSuspense;function b5(e,t){t&&t.pendingBranch?bt(e)?t.effects.push(...e):t.effects.push(e):f5(e)}function y5(e,t){if(ss){let s=ss.provides;const n=ss.parent&&ss.parent.provides;n===s&&(s=ss.provides=Object.create(n)),s[e]=t}}function Bc(e,t,s=!1){const n=ss||ds;if(n){const o=n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return s&&pt(t)?t.call(n.proxy):t}}const Lf={};function Lc(e,t,s){return Dm(e,t,s)}function Dm(e,t,{immediate:s,deep:n,flush:o,onTrack:r,onTrigger:i}=Ht){const l=ss;let d,c=!1,f=!1;if(Ss(e)?(d=()=>e.value,c=Au(e)):ko(e)?(d=()=>e,n=!0):bt(e)?(f=!0,c=e.some(P=>ko(P)||Au(P)),d=()=>e.map(P=>{if(Ss(P))return P.value;if(ko(P))return Wr(P);if(pt(P))return vr(P,l,2)})):pt(e)?t?d=()=>vr(e,l,2):d=()=>{if(!(l&&l.isUnmounted))return u&&u(),Xs(e,l,3,[v])}:d=jn,t&&n){const P=d;d=()=>Wr(P())}let u,v=P=>{u=N.onStop=()=>{vr(P,l,4)}};if(Gi)return v=jn,t?s&&Xs(t,l,3,[d(),f?[]:void 0,v]):d(),jn;let w=f?[]:Lf;const a=()=>{if(!!N.active)if(t){const P=N.run();(n||c||(f?P.some((g,I)=>Of(g,w[I])):Of(P,w)))&&(u&&u(),Xs(t,l,3,[P,w===Lf?void 0:w,v]),w=P)}else N.run()};a.allowRecurse=!!t;let j;o==="sync"?j=a:o==="post"?j=()=>Cs(a,l&&l.suspense):j=()=>d5(a);const N=new wd(d,j);return t?s?a():w=N.run():o==="post"?Cs(N.run.bind(N),l&&l.suspense):N.run(),()=>{N.stop(),l&&l.scope&&Cd(l.scope.effects,N)}}function w5(e,t,s){const n=this.proxy,o=As(e)?e.includes(".")?qm(n,e):()=>n[e]:e.bind(n,n);let r;pt(t)?r=t:(r=t.handler,s=t);const i=ss;Do(this);const l=Dm(o,r.bind(n),s);return i?Do(i):to(),l}function qm(e,t){const s=t.split(".");return()=>{let n=e;for(let o=0;o<s.length&&n;o++)n=n[s[o]];return n}}function Wr(e,t){if(!Ms(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Ss(e))Wr(e.value,t);else if(bt(e))for(let s=0;s<e.length;s++)Wr(e[s],t);else if(Tm(e)||Rm(e))e.forEach(s=>{Wr(s,t)});else if(Om(e))for(const s in e)Wr(e[s],t);return e}function Vm(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ym(()=>{e.isMounted=!0}),Wm(()=>{e.isUnmounting=!0}),e}const $s=[Function,Array],S5={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:$s,onEnter:$s,onAfterEnter:$s,onEnterCancelled:$s,onBeforeLeave:$s,onLeave:$s,onAfterLeave:$s,onLeaveCancelled:$s,onBeforeAppear:$s,onAppear:$s,onAfterAppear:$s,onAppearCancelled:$s},setup(e,{slots:t}){const s=up(),n=Vm();let o;return()=>{const r=t.default&&Ld(t.default(),!0);if(!r||!r.length)return;let i=r[0];if(r.length>1){for(const j of r)if(j.type!==Ws){i=j;break}}const l=xt(e),{mode:d}=l;if(n.isLeaving)return Pc(i);const c=Pf(i);if(!c)return Pc(i);const f=Yi(c,l,n,s);Xi(c,f);const u=s.subTree,v=u&&Pf(u);let w=!1;const{getTransitionKey:a}=c.type;if(a){const j=a();o===void 0?o=j:j!==o&&(o=j,w=!0)}if(v&&v.type!==Ws&&(!zr(c,v)||w)){const j=Yi(v,l,n,s);if(Xi(v,j),d==="out-in")return n.isLeaving=!0,j.afterLeave=()=>{n.isLeaving=!1,s.update()},Pc(i);d==="in-out"&&c.type!==Ws&&(j.delayLeave=(N,P,g)=>{const I=zm(n,v);I[String(v.key)]=v,N._leaveCb=()=>{P(),N._leaveCb=void 0,delete f.delayedLeave},f.delayedLeave=g})}return i}}},$m=S5;function zm(e,t){const{leavingVNodes:s}=e;let n=s.get(t.type);return n||(n=Object.create(null),s.set(t.type,n)),n}function Yi(e,t,s,n){const{appear:o,mode:r,persisted:i=!1,onBeforeEnter:l,onEnter:d,onAfterEnter:c,onEnterCancelled:f,onBeforeLeave:u,onLeave:v,onAfterLeave:w,onLeaveCancelled:a,onBeforeAppear:j,onAppear:N,onAfterAppear:P,onAppearCancelled:g}=t,I=String(e.key),F=zm(s,e),O=(k,R)=>{k&&Xs(k,n,9,R)},q=(k,R)=>{const y=R[1];O(k,R),bt(k)?k.every(A=>A.length<=1)&&y():k.length<=1&&y()},_={mode:r,persisted:i,beforeEnter(k){let R=l;if(!s.isMounted)if(o)R=j||l;else return;k._leaveCb&&k._leaveCb(!0);const y=F[I];y&&zr(e,y)&&y.el._leaveCb&&y.el._leaveCb(),O(R,[k])},enter(k){let R=d,y=c,A=f;if(!s.isMounted)if(o)R=N||d,y=P||c,A=g||f;else return;let p=!1;const S=k._enterCb=x=>{p||(p=!0,x?O(A,[k]):O(y,[k]),_.delayedLeave&&_.delayedLeave(),k._enterCb=void 0)};R?q(R,[k,S]):S()},leave(k,R){const y=String(e.key);if(k._enterCb&&k._enterCb(!0),s.isUnmounting)return R();O(u,[k]);let A=!1;const p=k._leaveCb=S=>{A||(A=!0,R(),S?O(a,[k]):O(w,[k]),k._leaveCb=void 0,F[y]===e&&delete F[y])};F[y]=e,v?q(v,[k,p]):p()},clone(k){return Yi(k,t,s,n)}};return _}function Pc(e){if(Yl(e))return e=wr(e),e.children=null,e}function Pf(e){return Yl(e)?e.children?e.children[0]:void 0:e}function Xi(e,t){e.shapeFlag&6&&e.component?Xi(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Ld(e,t=!1,s){let n=[],o=0;for(let r=0;r<e.length;r++){let i=e[r];const l=s==null?i.key:String(s)+String(i.key!=null?i.key:r);i.type===wt?(i.patchFlag&128&&o++,n=n.concat(Ld(i.children,t,l))):(t||i.type!==Ws)&&n.push(l!=null?wr(i,{key:l}):i)}if(o>1)for(let r=0;r<n.length;r++)n[r].patchFlag=-2;return n}function E5(e){return pt(e)?{setup:e,name:e.name}:e}const Bi=e=>!!e.type.__asyncLoader,Yl=e=>e.type.__isKeepAlive;function A5(e,t){Km(e,"a",t)}function M5(e,t){Km(e,"da",t)}function Km(e,t,s=ss){const n=e.__wdc||(e.__wdc=()=>{let o=s;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Xl(t,n,s),s){let o=s.parent;for(;o&&o.parent;)Yl(o.parent.vnode)&&x5(n,t,s,o),o=o.parent}}function x5(e,t,s,n){const o=Xl(t,e,n,!0);Gm(()=>{Cd(n[t],o)},s)}function Xl(e,t,s=ss,n=!1){if(s){const o=s[e]||(s[e]=[]),r=t.__weh||(t.__weh=(...i)=>{if(s.isUnmounted)return;Go(),Do(s);const l=Xs(t,s,e,i);return to(),Zo(),l});return n?o.unshift(r):o.push(r),r}}const $n=e=>(t,s=ss)=>(!Gi||e==="sp")&&Xl(e,t,s),R5=$n("bm"),Ym=$n("m"),T5=$n("bu"),Xm=$n("u"),Wm=$n("bum"),Gm=$n("um"),k5=$n("sp"),C5=$n("rtg"),O5=$n("rtc");function I5(e,t=ss){Xl("ec",e,t)}function Dn(e,t){const s=ds;if(s===null)return e;const n=Zl(s)||s.proxy,o=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[i,l,d,c=Ht]=t[r];pt(i)&&(i={mounted:i,updated:i}),i.deep&&Wr(l),o.push({dir:i,instance:n,value:l,oldValue:void 0,arg:d,modifiers:c})}return e}function Or(e,t,s,n){const o=e.dirs,r=t&&t.dirs;for(let i=0;i<o.length;i++){const l=o[i];r&&(l.oldValue=r[i].value);let d=l.dir[n];d&&(Go(),Xs(d,s,8,[e.el,l,e,t]),Zo())}}const Pd="components",B5="directives";function st(e,t){return Nd(Pd,e,!0,t)||e}const Zm=Symbol();function L5(e){return As(e)?Nd(Pd,e,!1)||e:e||Zm}function Wl(e){return Nd(B5,e)}function Nd(e,t,s=!0,n=!1){const o=ds||ss;if(o){const r=o.type;if(e===Pd){const l=a9(r,!1);if(l&&(l===t||l===Rn(t)||l===Id(Rn(t))))return r}const i=Nf(o[e]||r[e],t)||Nf(o.appContext[e],t);return!i&&n?r:i}}function Nf(e,t){return e&&(e[t]||e[Rn(t)]||e[Id(Rn(t))])}function ut(e,t,s,n){let o;const r=s&&s[n];if(bt(e)||As(e)){o=new Array(e.length);for(let i=0,l=e.length;i<l;i++)o[i]=t(e[i],i,void 0,r&&r[i])}else if(typeof e=="number"){o=new Array(e);for(let i=0;i<e;i++)o[i]=t(i+1,i,void 0,r&&r[i])}else if(Ms(e))if(e[Symbol.iterator])o=Array.from(e,(i,l)=>t(i,l,void 0,r&&r[l]));else{const i=Object.keys(e);o=new Array(i.length);for(let l=0,d=i.length;l<d;l++){const c=i[l];o[l]=t(e[c],c,l,r&&r[l])}}else o=[];return s&&(s[n]=o),o}function Lt(e,t){for(let s=0;s<t.length;s++){const n=t[s];if(bt(n))for(let o=0;o<n.length;o++)e[n[o].name]=n[o].fn;else n&&(e[n.name]=n.fn)}return e}function ze(e,t,s={},n,o){if(ds.isCE||ds.parent&&Bi(ds.parent)&&ds.parent.isCE)return $e("slot",t==="default"?null:{name:t},n&&n());let r=e[t];r&&r._c&&(r._d=!1),pe();const i=r&&Qm(r(s)),l=kt(wt,{key:s.key||`_${t}`},i||(n?n():[]),i&&e._===1?64:-2);return!o&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),r&&r._c&&(r._d=!0),l}function Qm(e){return e.some(t=>yl(t)?!(t.type===Ws||t.type===wt&&!Qm(t.children)):!0)?e:null}const Tu=e=>e?dp(e)?Zl(e)||e.proxy:Tu(e.parent):null,_l=Ds(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Tu(e.parent),$root:e=>Tu(e.root),$emit:e=>e.emit,$options:e=>ep(e),$forceUpdate:e=>e.f||(e.f=()=>Lm(e.update)),$nextTick:e=>e.n||(e.n=Bm.bind(e.proxy)),$watch:e=>w5.bind(e)}),P5={get({_:e},t){const{ctx:s,setupState:n,data:o,props:r,accessCache:i,type:l,appContext:d}=e;let c;if(t[0]!=="$"){const w=i[t];if(w!==void 0)switch(w){case 1:return n[t];case 2:return o[t];case 4:return s[t];case 3:return r[t]}else{if(n!==Ht&&Mt(n,t))return i[t]=1,n[t];if(o!==Ht&&Mt(o,t))return i[t]=2,o[t];if((c=e.propsOptions[0])&&Mt(c,t))return i[t]=3,r[t];if(s!==Ht&&Mt(s,t))return i[t]=4,s[t];ku&&(i[t]=0)}}const f=_l[t];let u,v;if(f)return t==="$attrs"&&Us(e,"get",t),f(e);if((u=l.__cssModules)&&(u=u[t]))return u;if(s!==Ht&&Mt(s,t))return i[t]=4,s[t];if(v=d.config.globalProperties,Mt(v,t))return v[t]},set({_:e},t,s){const{data:n,setupState:o,ctx:r}=e;return o!==Ht&&Mt(o,t)?(o[t]=s,!0):n!==Ht&&Mt(n,t)?(n[t]=s,!0):Mt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:o,propsOptions:r}},i){let l;return!!s[i]||e!==Ht&&Mt(e,i)||t!==Ht&&Mt(t,i)||(l=r[0])&&Mt(l,i)||Mt(n,i)||Mt(_l,i)||Mt(o.config.globalProperties,i)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Mt(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};let ku=!0;function N5(e){const t=ep(e),s=e.proxy,n=e.ctx;ku=!1,t.beforeCreate&&jf(t.beforeCreate,e,"bc");const{data:o,computed:r,methods:i,watch:l,provide:d,inject:c,created:f,beforeMount:u,mounted:v,beforeUpdate:w,updated:a,activated:j,deactivated:N,beforeDestroy:P,beforeUnmount:g,destroyed:I,unmounted:F,render:O,renderTracked:q,renderTriggered:_,errorCaptured:k,serverPrefetch:R,expose:y,inheritAttrs:A,components:p,directives:S,filters:x}=t;if(c&&j5(c,n,null,e.appContext.config.unwrapInjectedRef),i)for(const Y in i){const V=i[Y];pt(V)&&(n[Y]=V.bind(s))}if(o){const Y=o.call(s,s);Ms(Y)&&(e.data=Md(Y))}if(ku=!0,r)for(const Y in r){const V=r[Y],X=pt(V)?V.bind(s,s):pt(V.get)?V.get.bind(s,s):jn,b=!pt(V)&&pt(V.set)?V.set.bind(s):jn,T=c9({get:X,set:b});Object.defineProperty(n,Y,{enumerable:!0,configurable:!0,get:()=>T.value,set:ie=>T.value=ie})}if(l)for(const Y in l)Jm(l[Y],n,s,Y);if(d){const Y=pt(d)?d.call(s):d;Reflect.ownKeys(Y).forEach(V=>{y5(V,Y[V])})}f&&jf(f,e,"c");function D(Y,V){bt(V)?V.forEach(X=>Y(X.bind(s))):V&&Y(V.bind(s))}if(D(R5,u),D(Ym,v),D(T5,w),D(Xm,a),D(A5,j),D(M5,N),D(I5,k),D(O5,q),D(C5,_),D(Wm,g),D(Gm,F),D(k5,R),bt(y))if(y.length){const Y=e.exposed||(e.exposed={});y.forEach(V=>{Object.defineProperty(Y,V,{get:()=>s[V],set:X=>s[V]=X})})}else e.exposed||(e.exposed={});O&&e.render===jn&&(e.render=O),A!=null&&(e.inheritAttrs=A),p&&(e.components=p),S&&(e.directives=S)}function j5(e,t,s=jn,n=!1){bt(e)&&(e=Cu(e));for(const o in e){const r=e[o];let i;Ms(r)?"default"in r?i=Bc(r.from||o,r.default,!0):i=Bc(r.from||o):i=Bc(r),Ss(i)&&n?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>i.value,set:l=>i.value=l}):t[o]=i}}function jf(e,t,s){Xs(bt(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function Jm(e,t,s,n){const o=n.includes(".")?qm(s,n):()=>s[n];if(As(e)){const r=t[e];pt(r)&&Lc(o,r)}else if(pt(e))Lc(o,e.bind(s));else if(Ms(e))if(bt(e))e.forEach(r=>Jm(r,t,s,n));else{const r=pt(e.handler)?e.handler.bind(s):t[e.handler];pt(r)&&Lc(o,r,e)}}function ep(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:o,optionsCache:r,config:{optionMergeStrategies:i}}=e.appContext,l=r.get(t);let d;return l?d=l:!o.length&&!s&&!n?d=t:(d={},o.length&&o.forEach(c=>bl(d,c,i,!0)),bl(d,t,i)),r.set(t,d),d}function bl(e,t,s,n=!1){const{mixins:o,extends:r}=t;r&&bl(e,r,s,!0),o&&o.forEach(i=>bl(e,i,s,!0));for(const i in t)if(!(n&&i==="expose")){const l=F5[i]||s&&s[i];e[i]=l?l(e[i],t[i]):t[i]}return e}const F5={data:Ff,props:qr,emits:qr,methods:qr,computed:qr,beforeCreate:ys,created:ys,beforeMount:ys,mounted:ys,beforeUpdate:ys,updated:ys,beforeDestroy:ys,beforeUnmount:ys,destroyed:ys,unmounted:ys,activated:ys,deactivated:ys,errorCaptured:ys,serverPrefetch:ys,components:qr,directives:qr,watch:U5,provide:Ff,inject:H5};function Ff(e,t){return t?e?function(){return Ds(pt(e)?e.call(this,this):e,pt(t)?t.call(this,this):t)}:t:e}function H5(e,t){return qr(Cu(e),Cu(t))}function Cu(e){if(bt(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function ys(e,t){return e?[...new Set([].concat(e,t))]:t}function qr(e,t){return e?Ds(Ds(Object.create(null),e),t):t}function U5(e,t){if(!e)return t;if(!t)return e;const s=Ds(Object.create(null),e);for(const n in t)s[n]=ys(e[n],t[n]);return s}function D5(e,t,s,n=!1){const o={},r={};Mu(r,Gl,1),e.propsDefaults=Object.create(null),tp(e,t,o,r);for(const i in e.propsOptions[0])i in o||(o[i]=void 0);s?e.props=n?o:$4(o):e.type.props?e.props=o:e.props=r,e.attrs=r}function q5(e,t,s,n){const{props:o,attrs:r,vnode:{patchFlag:i}}=e,l=xt(o),[d]=e.propsOptions;let c=!1;if((n||i>0)&&!(i&16)){if(i&8){const f=e.vnode.dynamicProps;for(let u=0;u<f.length;u++){let v=f[u];if(Kl(e.emitsOptions,v))continue;const w=t[v];if(d)if(Mt(r,v))w!==r[v]&&(r[v]=w,c=!0);else{const a=Rn(v);o[a]=Ou(d,l,a,w,e,!1)}else w!==r[v]&&(r[v]=w,c=!0)}}}else{tp(e,t,o,r)&&(c=!0);let f;for(const u in l)(!t||!Mt(t,u)&&((f=Vl(u))===u||!Mt(t,f)))&&(d?s&&(s[u]!==void 0||s[f]!==void 0)&&(o[u]=Ou(d,l,u,void 0,e,!0)):delete o[u]);if(r!==l)for(const u in r)(!t||!Mt(t,u)&&!0)&&(delete r[u],c=!0)}c&&Un(e,"set","$attrs")}function tp(e,t,s,n){const[o,r]=e.propsOptions;let i=!1,l;if(t)for(let d in t){if(nl(d))continue;const c=t[d];let f;o&&Mt(o,f=Rn(d))?!r||!r.includes(f)?s[f]=c:(l||(l={}))[f]=c:Kl(e.emitsOptions,d)||(!(d in n)||c!==n[d])&&(n[d]=c,i=!0)}if(r){const d=xt(s),c=l||Ht;for(let f=0;f<r.length;f++){const u=r[f];s[u]=Ou(o,d,u,c[u],e,!Mt(c,u))}}return i}function Ou(e,t,s,n,o,r){const i=e[s];if(i!=null){const l=Mt(i,"default");if(l&&n===void 0){const d=i.default;if(i.type!==Function&&pt(d)){const{propsDefaults:c}=o;s in c?n=c[s]:(Do(o),n=c[s]=d.call(null,t),to())}else n=d}i[0]&&(r&&!l?n=!1:i[1]&&(n===""||n===Vl(s))&&(n=!0))}return n}function sp(e,t,s=!1){const n=t.propsCache,o=n.get(e);if(o)return o;const r=e.props,i={},l=[];let d=!1;if(!pt(e)){const f=u=>{d=!0;const[v,w]=sp(u,t,!0);Ds(i,v),w&&l.push(...w)};!s&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!r&&!d)return n.set(e,Co),Co;if(bt(r))for(let f=0;f<r.length;f++){const u=Rn(r[f]);Hf(u)&&(i[u]=Ht)}else if(r)for(const f in r){const u=Rn(f);if(Hf(u)){const v=r[f],w=i[u]=bt(v)||pt(v)?{type:v}:v;if(w){const a=qf(Boolean,w.type),j=qf(String,w.type);w[0]=a>-1,w[1]=j<0||a<j,(a>-1||Mt(w,"default"))&&l.push(u)}}}const c=[i,l];return n.set(e,c),c}function Hf(e){return e[0]!=="$"}function Uf(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function Df(e,t){return Uf(e)===Uf(t)}function qf(e,t){return bt(t)?t.findIndex(s=>Df(s,e)):pt(t)&&Df(t,e)?0:-1}const np=e=>e[0]==="_"||e==="$stable",jd=e=>bt(e)?e.map(yn):[yn(e)],V5=(e,t,s)=>{if(t._n)return t;const n=tt((...o)=>jd(t(...o)),s);return n._c=!1,n},rp=(e,t,s)=>{const n=e._ctx;for(const o in e){if(np(o))continue;const r=e[o];if(pt(r))t[o]=V5(o,r,n);else if(r!=null){const i=jd(r);t[o]=()=>i}}},op=(e,t)=>{const s=jd(t);e.slots.default=()=>s},$5=(e,t)=>{if(e.vnode.shapeFlag&32){const s=t._;s?(e.slots=xt(t),Mu(t,"_",s)):rp(t,e.slots={})}else e.slots={},t&&op(e,t);Mu(e.slots,Gl,1)},z5=(e,t,s)=>{const{vnode:n,slots:o}=e;let r=!0,i=Ht;if(n.shapeFlag&32){const l=t._;l?s&&l===1?r=!1:(Ds(o,t),!s&&l===1&&delete o._):(r=!t.$stable,rp(t,o)),i=t}else t&&(op(e,t),i={default:1});if(r)for(const l in o)!np(l)&&!(l in i)&&delete o[l]};function ip(){return{app:null,config:{isNativeTag:t5,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let K5=0;function Y5(e,t){return function(n,o=null){pt(n)||(n=Object.assign({},n)),o!=null&&!Ms(o)&&(o=null);const r=ip(),i=new Set;let l=!1;const d=r.app={_uid:K5++,_component:n,_props:o,_container:null,_context:r,_instance:null,version:d9,get config(){return r.config},set config(c){},use(c,...f){return i.has(c)||(c&&pt(c.install)?(i.add(c),c.install(d,...f)):pt(c)&&(i.add(c),c(d,...f))),d},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),d},component(c,f){return f?(r.components[c]=f,d):r.components[c]},directive(c,f){return f?(r.directives[c]=f,d):r.directives[c]},mount(c,f,u){if(!l){const v=$e(n,o);return v.appContext=r,f&&t?t(v,c):e(v,c,u),l=!0,d._container=c,c.__vue_app__=d,Zl(v.component)||v.component.proxy}},unmount(){l&&(e(null,d._container),delete d._container.__vue_app__)},provide(c,f){return r.provides[c]=f,d}};return d}}function Iu(e,t,s,n,o=!1){if(bt(e)){e.forEach((v,w)=>Iu(v,t&&(bt(t)?t[w]:t),s,n,o));return}if(Bi(n)&&!o)return;const r=n.shapeFlag&4?Zl(n.component)||n.component.proxy:n.el,i=o?null:r,{i:l,r:d}=e,c=t&&t.r,f=l.refs===Ht?l.refs={}:l.refs,u=l.setupState;if(c!=null&&c!==d&&(As(c)?(f[c]=null,Mt(u,c)&&(u[c]=null)):Ss(c)&&(c.value=null)),pt(d))vr(d,l,12,[i,f]);else{const v=As(d),w=Ss(d);if(v||w){const a=()=>{if(e.f){const j=v?f[d]:d.value;o?bt(j)&&Cd(j,r):bt(j)?j.includes(r)||j.push(r):v?(f[d]=[r],Mt(u,d)&&(u[d]=f[d])):(d.value=[r],e.k&&(f[e.k]=d.value))}else v?(f[d]=i,Mt(u,d)&&(u[d]=i)):w&&(d.value=i,e.k&&(f[e.k]=i))};i?(a.id=-1,Cs(a,s)):a()}}}const Cs=b5;function X5(e){return W5(e)}function W5(e,t){const s=a5();s.__VUE__=!0;const{insert:n,remove:o,patchProp:r,createElement:i,createText:l,createComment:d,setText:c,setElementText:f,parentNode:u,nextSibling:v,setScopeId:w=jn,cloneNode:a,insertStaticContent:j}=e,N=(E,B,$,W=null,Z=null,ue=null,de=!1,re=null,fe=!!B.dynamicChildren)=>{if(E===B)return;E&&!zr(E,B)&&(W=Re(E),ce(E,Z,ue,!0),E=null),B.patchFlag===-2&&(fe=!1,B.dynamicChildren=null);const{type:J,ref:ke,shapeFlag:_e}=B;switch(J){case Fd:P(E,B,$,W);break;case Ws:g(E,B,$,W);break;case Nc:E==null&&I(B,$,W,de);break;case wt:S(E,B,$,W,Z,ue,de,re,fe);break;default:_e&1?q(E,B,$,W,Z,ue,de,re,fe):_e&6?x(E,B,$,W,Z,ue,de,re,fe):(_e&64||_e&128)&&J.process(E,B,$,W,Z,ue,de,re,fe,Se)}ke!=null&&Z&&Iu(ke,E&&E.ref,ue,B||E,!B)},P=(E,B,$,W)=>{if(E==null)n(B.el=l(B.children),$,W);else{const Z=B.el=E.el;B.children!==E.children&&c(Z,B.children)}},g=(E,B,$,W)=>{E==null?n(B.el=d(B.children||""),$,W):B.el=E.el},I=(E,B,$,W)=>{[E.el,E.anchor]=j(E.children,B,$,W,E.el,E.anchor)},F=({el:E,anchor:B},$,W)=>{let Z;for(;E&&E!==B;)Z=v(E),n(E,$,W),E=Z;n(B,$,W)},O=({el:E,anchor:B})=>{let $;for(;E&&E!==B;)$=v(E),o(E),E=$;o(B)},q=(E,B,$,W,Z,ue,de,re,fe)=>{de=de||B.type==="svg",E==null?_(B,$,W,Z,ue,de,re,fe):y(E,B,Z,ue,de,re,fe)},_=(E,B,$,W,Z,ue,de,re)=>{let fe,J;const{type:ke,props:_e,shapeFlag:Ce,transition:ye,patchFlag:He,dirs:he}=E;if(E.el&&a!==void 0&&He===-1)fe=E.el=a(E.el);else{if(fe=E.el=i(E.type,ue,_e&&_e.is,_e),Ce&8?f(fe,E.children):Ce&16&&R(E.children,fe,null,W,Z,ue&&ke!=="foreignObject",de,re),he&&Or(E,null,W,"created"),_e){for(const ne in _e)ne!=="value"&&!nl(ne)&&r(fe,ne,null,_e[ne],ue,E.children,W,Z,oe);"value"in _e&&r(fe,"value",null,_e.value),(J=_e.onVnodeBeforeMount)&&fn(J,W,E)}k(fe,E,E.scopeId,de,W)}he&&Or(E,null,W,"beforeMount");const Ee=(!Z||Z&&!Z.pendingBranch)&&ye&&!ye.persisted;Ee&&ye.beforeEnter(fe),n(fe,B,$),((J=_e&&_e.onVnodeMounted)||Ee||he)&&Cs(()=>{J&&fn(J,W,E),Ee&&ye.enter(fe),he&&Or(E,null,W,"mounted")},Z)},k=(E,B,$,W,Z)=>{if($&&w(E,$),W)for(let ue=0;ue<W.length;ue++)w(E,W[ue]);if(Z){let ue=Z.subTree;if(B===ue){const de=Z.vnode;k(E,de,de.scopeId,de.slotScopeIds,Z.parent)}}},R=(E,B,$,W,Z,ue,de,re,fe=0)=>{for(let J=fe;J<E.length;J++){const ke=E[J]=re?cr(E[J]):yn(E[J]);N(null,ke,B,$,W,Z,ue,de,re)}},y=(E,B,$,W,Z,ue,de)=>{const re=B.el=E.el;let{patchFlag:fe,dynamicChildren:J,dirs:ke}=B;fe|=E.patchFlag&16;const _e=E.props||Ht,Ce=B.props||Ht;let ye;$&&Ir($,!1),(ye=Ce.onVnodeBeforeUpdate)&&fn(ye,$,B,E),ke&&Or(B,E,$,"beforeUpdate"),$&&Ir($,!0);const He=Z&&B.type!=="foreignObject";if(J?A(E.dynamicChildren,J,re,$,W,He,ue):de||X(E,B,re,null,$,W,He,ue,!1),fe>0){if(fe&16)p(re,B,_e,Ce,$,W,Z);else if(fe&2&&_e.class!==Ce.class&&r(re,"class",null,Ce.class,Z),fe&4&&r(re,"style",_e.style,Ce.style,Z),fe&8){const he=B.dynamicProps;for(let Ee=0;Ee<he.length;Ee++){const ne=he[Ee],Ie=_e[ne],L=Ce[ne];(L!==Ie||ne==="value")&&r(re,ne,Ie,L,Z,E.children,$,W,oe)}}fe&1&&E.children!==B.children&&f(re,B.children)}else!de&&J==null&&p(re,B,_e,Ce,$,W,Z);((ye=Ce.onVnodeUpdated)||ke)&&Cs(()=>{ye&&fn(ye,$,B,E),ke&&Or(B,E,$,"updated")},W)},A=(E,B,$,W,Z,ue,de)=>{for(let re=0;re<B.length;re++){const fe=E[re],J=B[re],ke=fe.el&&(fe.type===wt||!zr(fe,J)||fe.shapeFlag&70)?u(fe.el):$;N(fe,J,ke,null,W,Z,ue,de,!0)}},p=(E,B,$,W,Z,ue,de)=>{if($!==W){for(const re in W){if(nl(re))continue;const fe=W[re],J=$[re];fe!==J&&re!=="value"&&r(E,re,J,fe,de,B.children,Z,ue,oe)}if($!==Ht)for(const re in $)!nl(re)&&!(re in W)&&r(E,re,$[re],null,de,B.children,Z,ue,oe);"value"in W&&r(E,"value",$.value,W.value)}},S=(E,B,$,W,Z,ue,de,re,fe)=>{const J=B.el=E?E.el:l(""),ke=B.anchor=E?E.anchor:l("");let{patchFlag:_e,dynamicChildren:Ce,slotScopeIds:ye}=B;ye&&(re=re?re.concat(ye):ye),E==null?(n(J,$,W),n(ke,$,W),R(B.children,$,ke,Z,ue,de,re,fe)):_e>0&&_e&64&&Ce&&E.dynamicChildren?(A(E.dynamicChildren,Ce,$,Z,ue,de,re),(B.key!=null||Z&&B===Z.subTree)&&ap(E,B,!0)):X(E,B,$,ke,Z,ue,de,re,fe)},x=(E,B,$,W,Z,ue,de,re,fe)=>{B.slotScopeIds=re,E==null?B.shapeFlag&512?Z.ctx.activate(B,$,W,de,fe):M(B,$,W,Z,ue,de,fe):D(E,B,fe)},M=(E,B,$,W,Z,ue,de)=>{const re=E.component=s9(E,W,Z);if(Yl(E)&&(re.ctx.renderer=Se),n9(re),re.asyncDep){if(Z&&Z.registerDep(re,Y),!E.el){const fe=re.subTree=$e(Ws);g(null,fe,B,$)}return}Y(re,E,B,$,Z,ue,de)},D=(E,B,$)=>{const W=B.component=E.component;if(v5(E,B,$))if(W.asyncDep&&!W.asyncResolved){V(W,B,$);return}else W.next=B,u5(W.update),W.update();else B.el=E.el,W.vnode=B},Y=(E,B,$,W,Z,ue,de)=>{const re=()=>{if(E.isMounted){let{next:ke,bu:_e,u:Ce,parent:ye,vnode:He}=E,he=ke,Ee;Ir(E,!1),ke?(ke.el=He.el,V(E,ke,de)):ke=He,_e&&Oc(_e),(Ee=ke.props&&ke.props.onVnodeBeforeUpdate)&&fn(Ee,ye,ke,He),Ir(E,!0);const ne=Ic(E),Ie=E.subTree;E.subTree=ne,N(Ie,ne,u(Ie.el),Re(Ie),E,Z,ue),ke.el=ne.el,he===null&&g5(E,ne.el),Ce&&Cs(Ce,Z),(Ee=ke.props&&ke.props.onVnodeUpdated)&&Cs(()=>fn(Ee,ye,ke,He),Z)}else{let ke;const{el:_e,props:Ce}=B,{bm:ye,m:He,parent:he}=E,Ee=Bi(B);if(Ir(E,!1),ye&&Oc(ye),!Ee&&(ke=Ce&&Ce.onVnodeBeforeMount)&&fn(ke,he,B),Ir(E,!0),_e&&Ke){const ne=()=>{E.subTree=Ic(E),Ke(_e,E.subTree,E,Z,null)};Ee?B.type.__asyncLoader().then(()=>!E.isUnmounted&&ne()):ne()}else{const ne=E.subTree=Ic(E);N(null,ne,$,W,E,Z,ue),B.el=ne.el}if(He&&Cs(He,Z),!Ee&&(ke=Ce&&Ce.onVnodeMounted)){const ne=B;Cs(()=>fn(ke,he,ne),Z)}(B.shapeFlag&256||he&&Bi(he.vnode)&&he.vnode.shapeFlag&256)&&E.a&&Cs(E.a,Z),E.isMounted=!0,B=$=W=null}},fe=E.effect=new wd(re,()=>Lm(J),E.scope),J=E.update=()=>fe.run();J.id=E.uid,Ir(E,!0),J()},V=(E,B,$)=>{B.component=E;const W=E.vnode.props;E.vnode=B,E.next=null,q5(E,B.props,W,$),z5(E,B.children,$),Go(),zl(void 0,E.update),Zo()},X=(E,B,$,W,Z,ue,de,re,fe=!1)=>{const J=E&&E.children,ke=E?E.shapeFlag:0,_e=B.children,{patchFlag:Ce,shapeFlag:ye}=B;if(Ce>0){if(Ce&128){T(J,_e,$,W,Z,ue,de,re,fe);return}else if(Ce&256){b(J,_e,$,W,Z,ue,de,re,fe);return}}ye&8?(ke&16&&oe(J,Z,ue),_e!==J&&f($,_e)):ke&16?ye&16?T(J,_e,$,W,Z,ue,de,re,fe):oe(J,Z,ue,!0):(ke&8&&f($,""),ye&16&&R(_e,$,W,Z,ue,de,re,fe))},b=(E,B,$,W,Z,ue,de,re,fe)=>{E=E||Co,B=B||Co;const J=E.length,ke=B.length,_e=Math.min(J,ke);let Ce;for(Ce=0;Ce<_e;Ce++){const ye=B[Ce]=fe?cr(B[Ce]):yn(B[Ce]);N(E[Ce],ye,$,null,Z,ue,de,re,fe)}J>ke?oe(E,Z,ue,!0,!1,_e):R(B,$,W,Z,ue,de,re,fe,_e)},T=(E,B,$,W,Z,ue,de,re,fe)=>{let J=0;const ke=B.length;let _e=E.length-1,Ce=ke-1;for(;J<=_e&&J<=Ce;){const ye=E[J],He=B[J]=fe?cr(B[J]):yn(B[J]);if(zr(ye,He))N(ye,He,$,null,Z,ue,de,re,fe);else break;J++}for(;J<=_e&&J<=Ce;){const ye=E[_e],He=B[Ce]=fe?cr(B[Ce]):yn(B[Ce]);if(zr(ye,He))N(ye,He,$,null,Z,ue,de,re,fe);else break;_e--,Ce--}if(J>_e){if(J<=Ce){const ye=Ce+1,He=ye<ke?B[ye].el:W;for(;J<=Ce;)N(null,B[J]=fe?cr(B[J]):yn(B[J]),$,He,Z,ue,de,re,fe),J++}}else if(J>Ce)for(;J<=_e;)ce(E[J],Z,ue,!0),J++;else{const ye=J,He=J,he=new Map;for(J=He;J<=Ce;J++){const ee=B[J]=fe?cr(B[J]):yn(B[J]);ee.key!=null&&he.set(ee.key,J)}let Ee,ne=0;const Ie=Ce-He+1;let L=!1,U=0;const K=new Array(Ie);for(J=0;J<Ie;J++)K[J]=0;for(J=ye;J<=_e;J++){const ee=E[J];if(ne>=Ie){ce(ee,Z,ue,!0);continue}let z;if(ee.key!=null)z=he.get(ee.key);else for(Ee=He;Ee<=Ce;Ee++)if(K[Ee-He]===0&&zr(ee,B[Ee])){z=Ee;break}z===void 0?ce(ee,Z,ue,!0):(K[z-He]=J+1,z>=U?U=z:L=!0,N(ee,B[z],$,null,Z,ue,de,re,fe),ne++)}const Q=L?G5(K):Co;for(Ee=Q.length-1,J=Ie-1;J>=0;J--){const ee=He+J,z=B[ee],ae=ee+1<ke?B[ee+1].el:W;K[J]===0?N(null,z,$,ae,Z,ue,de,re,fe):L&&(Ee<0||J!==Q[Ee]?ie(z,$,ae,2):Ee--)}}},ie=(E,B,$,W,Z=null)=>{const{el:ue,type:de,transition:re,children:fe,shapeFlag:J}=E;if(J&6){ie(E.component.subTree,B,$,W);return}if(J&128){E.suspense.move(B,$,W);return}if(J&64){de.move(E,B,$,Se);return}if(de===wt){n(ue,B,$);for(let _e=0;_e<fe.length;_e++)ie(fe[_e],B,$,W);n(E.anchor,B,$);return}if(de===Nc){F(E,B,$);return}if(W!==2&&J&1&&re)if(W===0)re.beforeEnter(ue),n(ue,B,$),Cs(()=>re.enter(ue),Z);else{const{leave:_e,delayLeave:Ce,afterLeave:ye}=re,He=()=>n(ue,B,$),he=()=>{_e(ue,()=>{He(),ye&&ye()})};Ce?Ce(ue,He,he):he()}else n(ue,B,$)},ce=(E,B,$,W=!1,Z=!1)=>{const{type:ue,props:de,ref:re,children:fe,dynamicChildren:J,shapeFlag:ke,patchFlag:_e,dirs:Ce}=E;if(re!=null&&Iu(re,null,$,E,!0),ke&256){B.ctx.deactivate(E);return}const ye=ke&1&&Ce,He=!Bi(E);let he;if(He&&(he=de&&de.onVnodeBeforeUnmount)&&fn(he,B,E),ke&6)ve(E.component,$,W);else{if(ke&128){E.suspense.unmount($,W);return}ye&&Or(E,null,B,"beforeUnmount"),ke&64?E.type.remove(E,B,$,Z,Se,W):J&&(ue!==wt||_e>0&&_e&64)?oe(J,B,$,!1,!0):(ue===wt&&_e&384||!Z&&ke&16)&&oe(fe,B,$),W&&Te(E)}(He&&(he=de&&de.onVnodeUnmounted)||ye)&&Cs(()=>{he&&fn(he,B,E),ye&&Or(E,null,B,"unmounted")},$)},Te=E=>{const{type:B,el:$,anchor:W,transition:Z}=E;if(B===wt){te($,W);return}if(B===Nc){O(E);return}const ue=()=>{o($),Z&&!Z.persisted&&Z.afterLeave&&Z.afterLeave()};if(E.shapeFlag&1&&Z&&!Z.persisted){const{leave:de,delayLeave:re}=Z,fe=()=>de($,ue);re?re(E.el,ue,fe):fe()}else ue()},te=(E,B)=>{let $;for(;E!==B;)$=v(E),o(E),E=$;o(B)},ve=(E,B,$)=>{const{bum:W,scope:Z,update:ue,subTree:de,um:re}=E;W&&Oc(W),Z.stop(),ue&&(ue.active=!1,ce(de,E,B,$)),re&&Cs(re,B),Cs(()=>{E.isUnmounted=!0},B),B&&B.pendingBranch&&!B.isUnmounted&&E.asyncDep&&!E.asyncResolved&&E.suspenseId===B.pendingId&&(B.deps--,B.deps===0&&B.resolve())},oe=(E,B,$,W=!1,Z=!1,ue=0)=>{for(let de=ue;de<E.length;de++)ce(E[de],B,$,W,Z)},Re=E=>E.shapeFlag&6?Re(E.component.subTree):E.shapeFlag&128?E.suspense.next():v(E.anchor||E.el),Oe=(E,B,$)=>{E==null?B._vnode&&ce(B._vnode,null,null,!0):N(B._vnode||null,E,B,null,null,null,$),jm(),B._vnode=E},Se={p:N,um:ce,m:ie,r:Te,mt:M,mc:R,pc:X,pbc:A,n:Re,o:e};let Fe,Ke;return t&&([Fe,Ke]=t(Se)),{render:Oe,hydrate:Fe,createApp:Y5(Oe,Fe)}}function Ir({effect:e,update:t},s){e.allowRecurse=t.allowRecurse=s}function ap(e,t,s=!1){const n=e.children,o=t.children;if(bt(n)&&bt(o))for(let r=0;r<n.length;r++){const i=n[r];let l=o[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[r]=cr(o[r]),l.el=i.el),s||ap(i,l))}}function G5(e){const t=e.slice(),s=[0];let n,o,r,i,l;const d=e.length;for(n=0;n<d;n++){const c=e[n];if(c!==0){if(o=s[s.length-1],e[o]<c){t[n]=o,s.push(n);continue}for(r=0,i=s.length-1;r<i;)l=r+i>>1,e[s[l]]<c?r=l+1:i=l;c<e[s[r]]&&(r>0&&(t[n]=s[r-1]),s[r]=n)}}for(r=s.length,i=s[r-1];r-- >0;)s[r]=i,i=t[i];return s}const Z5=e=>e.__isTeleport,wt=Symbol(void 0),Fd=Symbol(void 0),Ws=Symbol(void 0),Nc=Symbol(void 0),Li=[];let rn=null;function pe(e=!1){Li.push(rn=e?null:[])}function Q5(){Li.pop(),rn=Li[Li.length-1]||null}let Wi=1;function Vf(e){Wi+=e}function lp(e){return e.dynamicChildren=Wi>0?rn||Co:null,Q5(),Wi>0&&rn&&rn.push(e),e}function xe(e,t,s,n,o,r){return lp(je(e,t,s,n,o,r,!0))}function kt(e,t,s,n,o){return lp($e(e,t,s,n,o,!0))}function yl(e){return e?e.__v_isVNode===!0:!1}function zr(e,t){return e.type===t.type&&e.key===t.key}const Gl="__vInternal",cp=({key:e})=>e!=null?e:null,rl=({ref:e,ref_key:t,ref_for:s})=>e!=null?As(e)||Ss(e)||pt(e)?{i:ds,r:e,k:t,f:!!s}:e:null;function je(e,t=null,s=null,n=0,o=null,r=e===wt?0:1,i=!1,l=!1){const d={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&cp(t),ref:t&&rl(t),scopeId:Um,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:n,dynamicProps:o,dynamicChildren:null,appContext:null};return l?(Hd(d,s),r&128&&e.normalize(d)):s&&(d.shapeFlag|=As(s)?8:16),Wi>0&&!i&&rn&&(d.patchFlag>0||r&6)&&d.patchFlag!==32&&rn.push(d),d}const $e=J5;function J5(e,t=null,s=null,n=0,o=null,r=!1){if((!e||e===Zm)&&(e=Ws),yl(e)){const l=wr(e,t,!0);return s&&Hd(l,s),Wi>0&&!r&&rn&&(l.shapeFlag&6?rn[rn.indexOf(e)]=l:rn.push(l)),l.patchFlag|=-2,l}if(l9(e)&&(e=e.__vccOpts),t){t=Tt(t);let{class:l,style:d}=t;l&&!As(l)&&(t.class=ft(l)),Ms(d)&&(Sm(d)&&!bt(d)&&(d=Ds({},d)),t.style=At(d))}const i=As(e)?1:_5(e)?128:Z5(e)?64:Ms(e)?4:pt(e)?2:0;return je(e,t,s,n,o,i,r,!0)}function Tt(e){return e?Sm(e)||Gl in e?Ds({},e):e:null}function wr(e,t,s=!1){const{props:n,ref:o,patchFlag:r,children:i}=e,l=t?Ud(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&cp(l),ref:t&&t.ref?s&&o?bt(o)?o.concat(rl(t)):[o,rl(t)]:rl(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==wt?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&wr(e.ssContent),ssFallback:e.ssFallback&&wr(e.ssFallback),el:e.el,anchor:e.anchor}}function Sr(e=" ",t=0){return $e(Fd,null,e,t)}function Ye(e="",t=!1){return t?(pe(),kt(Ws,null,e)):$e(Ws,null,e)}function yn(e){return e==null||typeof e=="boolean"?$e(Ws):bt(e)?$e(wt,null,e.slice()):typeof e=="object"?cr(e):$e(Fd,null,String(e))}function cr(e){return e.el===null||e.memo?e:wr(e)}function Hd(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(bt(t))s=16;else if(typeof t=="object")if(n&65){const o=t.default;o&&(o._c&&(o._d=!1),Hd(e,o()),o._c&&(o._d=!0));return}else{s=32;const o=t._;!o&&!(Gl in t)?t._ctx=ds:o===3&&ds&&(ds.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else pt(t)?(t={default:t,_ctx:ds},s=32):(t=String(t),n&64?(s=16,t=[Sr(t)]):s=8);e.children=t,e.shapeFlag|=s}function Ud(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const o in n)if(o==="class")t.class!==n.class&&(t.class=ft([t.class,n.class]));else if(o==="style")t.style=At([t.style,n.style]);else if(kd(o)){const r=t[o],i=n[o];i&&r!==i&&!(bt(r)&&r.includes(i))&&(t[o]=r?[].concat(r,i):i)}else o!==""&&(t[o]=n[o])}return t}function fn(e,t,s,n=null){Xs(e,t,7,[s,n])}const e9=ip();let t9=0;function s9(e,t,s){const n=e.type,o=(t?t.appContext:e.appContext)||e9,r={uid:t9++,vnode:e,type:n,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new g4(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:sp(n,o),emitsOptions:Hm(n,o),emit:null,emitted:null,propsDefaults:Ht,inheritAttrs:n.inheritAttrs,ctx:Ht,data:Ht,props:Ht,attrs:Ht,slots:Ht,refs:Ht,setupState:Ht,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=h5.bind(null,r),e.ce&&e.ce(r),r}let ss=null;const up=()=>ss||ds,Do=e=>{ss=e,e.scope.on()},to=()=>{ss&&ss.scope.off(),ss=null};function dp(e){return e.vnode.shapeFlag&4}let Gi=!1;function n9(e,t=!1){Gi=t;const{props:s,children:n}=e.vnode,o=dp(e);D5(e,s,o,t),$5(e,n);const r=o?r9(e,t):void 0;return Gi=!1,r}function r9(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=Em(new Proxy(e.ctx,P5));const{setup:n}=s;if(n){const o=e.setupContext=n.length>1?i9(e):null;Do(e),Go();const r=vr(n,e,0,[e.props,o]);if(Zo(),to(),km(r)){if(r.then(to,to),t)return r.then(i=>{$f(e,i,t)}).catch(i=>{$l(i,e,0)});e.asyncDep=r}else $f(e,r,t)}else fp(e,t)}function $f(e,t,s){pt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ms(t)&&(e.setupState=Am(t)),fp(e,s)}let zf;function fp(e,t,s){const n=e.type;if(!e.render){if(!t&&zf&&!n.render){const o=n.template;if(o){const{isCustomElement:r,compilerOptions:i}=e.appContext.config,{delimiters:l,compilerOptions:d}=n,c=Ds(Ds({isCustomElement:r,delimiters:l},i),d);n.render=zf(o,c)}}e.render=n.render||jn}Do(e),Go(),N5(e),Zo(),to()}function o9(e){return new Proxy(e.attrs,{get(t,s){return Us(e,"get","$attrs"),t[s]}})}function i9(e){const t=n=>{e.exposed=n||{}};let s;return{get attrs(){return s||(s=o9(e))},slots:e.slots,emit:e.emit,expose:t}}function Zl(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Am(Em(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in _l)return _l[s](e)}}))}function a9(e,t=!0){return pt(e)?e.displayName||e.name:e.name||t&&e.__name}function l9(e){return pt(e)&&"__vccOpts"in e}const c9=(e,t)=>G4(e,t,Gi);function u9(e,t,s){const n=arguments.length;return n===2?Ms(t)&&!bt(t)?yl(t)?$e(e,null,[t]):$e(e,t):$e(e,null,t):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&yl(s)&&(s=[s]),$e(e,t,s))}const d9="3.2.37";function f9(e,t){const s=Object.create(null),n=e.split(",");for(let o=0;o<n.length;o++)s[n[o]]=!0;return t?o=>!!s[o.toLowerCase()]:o=>!!s[o]}const h9="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",m9=f9(h9);function hp(e){return!!e||e===""}const p9=/^on[^a-z]/,v9=e=>p9.test(e),g9=e=>e.startsWith("onUpdate:"),aa=Object.assign,la=Array.isArray,_9=e=>typeof e=="function",Bu=e=>typeof e=="string",b9=e=>e!==null&&typeof e=="object",Dd=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},y9=/-(\w)/g,Kf=Dd(e=>e.replace(y9,(t,s)=>s?s.toUpperCase():"")),w9=/\B([A-Z])/g,Oo=Dd(e=>e.replace(w9,"-$1").toLowerCase()),S9=Dd(e=>e.charAt(0).toUpperCase()+e.slice(1)),Lu=e=>{const t=parseFloat(e);return isNaN(t)?e:t},E9="http://www.w3.org/2000/svg",Kr=typeof document<"u"?document:null,Yf=Kr&&Kr.createElement("template"),A9={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const o=t?Kr.createElementNS(E9,e):Kr.createElement(e,s?{is:s}:void 0);return e==="select"&&n&&n.multiple!=null&&o.setAttribute("multiple",n.multiple),o},createText:e=>Kr.createTextNode(e),createComment:e=>Kr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Kr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,s,n,o,r){const i=s?s.previousSibling:t.lastChild;if(o&&(o===r||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),s),!(o===r||!(o=o.nextSibling)););else{Yf.innerHTML=n?`<svg>${e}</svg>`:e;const l=Yf.content;if(n){const d=l.firstChild;for(;d.firstChild;)l.appendChild(d.firstChild);l.removeChild(d)}t.insertBefore(l,s)}return[i?i.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}};function M9(e,t,s){const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}function x9(e,t,s){const n=e.style,o=Bu(s);if(s&&!o){for(const r in s)Pu(n,r,s[r]);if(t&&!Bu(t))for(const r in t)s[r]==null&&Pu(n,r,"")}else{const r=n.display;o?t!==s&&(n.cssText=s):t&&e.removeAttribute("style"),"_vod"in e&&(n.display=r)}}const Xf=/\s*!important$/;function Pu(e,t,s){if(la(s))s.forEach(n=>Pu(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=R9(e,t);Xf.test(s)?e.setProperty(Oo(n),s.replace(Xf,""),"important"):e[n]=s}}const Wf=["Webkit","Moz","ms"],jc={};function R9(e,t){const s=jc[t];if(s)return s;let n=Rn(t);if(n!=="filter"&&n in e)return jc[t]=n;n=S9(n);for(let o=0;o<Wf.length;o++){const r=Wf[o]+n;if(r in e)return jc[t]=r}return t}const Gf="http://www.w3.org/1999/xlink";function T9(e,t,s,n,o){if(n&&t.startsWith("xlink:"))s==null?e.removeAttributeNS(Gf,t.slice(6,t.length)):e.setAttributeNS(Gf,t,s);else{const r=m9(t);s==null||r&&!hp(s)?e.removeAttribute(t):e.setAttribute(t,r?"":s)}}function k9(e,t,s,n,o,r,i){if(t==="innerHTML"||t==="textContent"){n&&i(n,o,r),e[t]=s==null?"":s;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=s;const d=s==null?"":s;(e.value!==d||e.tagName==="OPTION")&&(e.value=d),s==null&&e.removeAttribute(t);return}let l=!1;if(s===""||s==null){const d=typeof e[t];d==="boolean"?s=hp(s):s==null&&d==="string"?(s="",l=!0):d==="number"&&(s=0,l=!0)}try{e[t]=s}catch{}l&&e.removeAttribute(t)}const[mp,C9]=(()=>{let e=Date.now,t=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const s=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(s&&Number(s[1])<=53)}return[e,t]})();let Nu=0;const O9=Promise.resolve(),I9=()=>{Nu=0},B9=()=>Nu||(O9.then(I9),Nu=mp());function L9(e,t,s,n){e.addEventListener(t,s,n)}function P9(e,t,s,n){e.removeEventListener(t,s,n)}function N9(e,t,s,n,o=null){const r=e._vei||(e._vei={}),i=r[t];if(n&&i)i.value=n;else{const[l,d]=j9(t);if(n){const c=r[t]=F9(n,o);L9(e,l,c,d)}else i&&(P9(e,l,i,d),r[t]=void 0)}}const Zf=/(?:Once|Passive|Capture)$/;function j9(e){let t;if(Zf.test(e)){t={};let s;for(;s=e.match(Zf);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[Oo(e.slice(2)),t]}function F9(e,t){const s=n=>{const o=n.timeStamp||mp();(C9||o>=s.attached-1)&&Xs(H9(n,s.value),t,5,[n])};return s.value=e,s.attached=B9(),s}function H9(e,t){if(la(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>o=>!o._stopped&&n&&n(o))}else return t}const Qf=/^on[a-z]/,U9=(e,t,s,n,o=!1,r,i,l,d)=>{t==="class"?M9(e,n,o):t==="style"?x9(e,s,n):v9(t)?g9(t)||N9(e,t,s,n,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):D9(e,t,n,o))?k9(e,t,n,r,i,l,d):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),T9(e,t,n,o))};function D9(e,t,s,n){return n?!!(t==="innerHTML"||t==="textContent"||t in e&&Qf.test(t)&&_9(s)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Qf.test(t)&&Bu(s)?!1:t in e}function q9(e,t){const s=E5(e);class n extends qd{constructor(r){super(s,r,t)}}return n.def=s,n}const V9=typeof HTMLElement<"u"?HTMLElement:class{};class qd extends V9{constructor(t,s={},n){super(),this._def=t,this._props=s,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&n?n(this._createVNode(),this.shadowRoot):this.attachShadow({mode:"open"})}connectedCallback(){this._connected=!0,this._instance||this._resolveDef()}disconnectedCallback(){this._connected=!1,Bm(()=>{this._connected||(o0(null,this.shadowRoot),this._instance=null)})}_resolveDef(){if(this._resolved)return;this._resolved=!0;for(let n=0;n<this.attributes.length;n++)this._setAttr(this.attributes[n].name);new MutationObserver(n=>{for(const o of n)this._setAttr(o.attributeName)}).observe(this,{attributes:!0});const t=n=>{const{props:o,styles:r}=n,i=!la(o),l=o?i?Object.keys(o):o:[];let d;if(i)for(const c in this._props){const f=o[c];(f===Number||f&&f.type===Number)&&(this._props[c]=Lu(this._props[c]),(d||(d=Object.create(null)))[c]=!0)}this._numberProps=d;for(const c of Object.keys(this))c[0]!=="_"&&this._setProp(c,this[c],!0,!1);for(const c of l.map(Kf))Object.defineProperty(this,c,{get(){return this._getProp(c)},set(f){this._setProp(c,f)}});this._applyStyles(r),this._update()},s=this._def.__asyncLoader;s?s().then(t):t(this._def)}_setAttr(t){let s=this.getAttribute(t);this._numberProps&&this._numberProps[t]&&(s=Lu(s)),this._setProp(Kf(t),s,!1)}_getProp(t){return this._props[t]}_setProp(t,s,n=!0,o=!0){s!==this._props[t]&&(this._props[t]=s,o&&this._instance&&this._update(),n&&(s===!0?this.setAttribute(Oo(t),""):typeof s=="string"||typeof s=="number"?this.setAttribute(Oo(t),s+""):s||this.removeAttribute(Oo(t))))}_update(){o0(this._createVNode(),this.shadowRoot)}_createVNode(){const t=$e(this._def,aa({},this._props));return this._instance||(t.ce=s=>{this._instance=s,s.isCE=!0,s.emit=(o,...r)=>{this.dispatchEvent(new CustomEvent(o,{detail:r}))};let n=this;for(;n=n&&(n.parentNode||n.host);)if(n instanceof qd){s.parent=n._instance;break}}),t}_applyStyles(t){t&&t.forEach(s=>{const n=document.createElement("style");n.textContent=s,this.shadowRoot.appendChild(n)})}}const Qn="transition",di="animation",Wt=(e,{slots:t})=>u9($m,vp(e),t);Wt.displayName="Transition";const pp={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},$9=Wt.props=aa({},$m.props,pp),Br=(e,t=[])=>{la(e)?e.forEach(s=>s(...t)):e&&e(...t)},Jf=e=>e?la(e)?e.some(t=>t.length>1):e.length>1:!1;function vp(e){const t={};for(const p in e)p in pp||(t[p]=e[p]);if(e.css===!1)return t;const{name:s="v",type:n,duration:o,enterFromClass:r=`${s}-enter-from`,enterActiveClass:i=`${s}-enter-active`,enterToClass:l=`${s}-enter-to`,appearFromClass:d=r,appearActiveClass:c=i,appearToClass:f=l,leaveFromClass:u=`${s}-leave-from`,leaveActiveClass:v=`${s}-leave-active`,leaveToClass:w=`${s}-leave-to`}=e,a=z9(o),j=a&&a[0],N=a&&a[1],{onBeforeEnter:P,onEnter:g,onEnterCancelled:I,onLeave:F,onLeaveCancelled:O,onBeforeAppear:q=P,onAppear:_=g,onAppearCancelled:k=I}=t,R=(p,S,x)=>{ir(p,S?f:l),ir(p,S?c:i),x&&x()},y=(p,S)=>{p._isLeaving=!1,ir(p,u),ir(p,w),ir(p,v),S&&S()},A=p=>(S,x)=>{const M=p?_:g,D=()=>R(S,p,x);Br(M,[S,D]),e0(()=>{ir(S,p?d:r),On(S,p?f:l),Jf(M)||t0(S,n,j,D)})};return aa(t,{onBeforeEnter(p){Br(P,[p]),On(p,r),On(p,i)},onBeforeAppear(p){Br(q,[p]),On(p,d),On(p,c)},onEnter:A(!1),onAppear:A(!0),onLeave(p,S){p._isLeaving=!0;const x=()=>y(p,S);On(p,u),_p(),On(p,v),e0(()=>{!p._isLeaving||(ir(p,u),On(p,w),Jf(F)||t0(p,n,N,x))}),Br(F,[p,x])},onEnterCancelled(p){R(p,!1),Br(I,[p])},onAppearCancelled(p){R(p,!0),Br(k,[p])},onLeaveCancelled(p){y(p),Br(O,[p])}})}function z9(e){if(e==null)return null;if(b9(e))return[Fc(e.enter),Fc(e.leave)];{const t=Fc(e);return[t,t]}}function Fc(e){return Lu(e)}function On(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e._vtc||(e._vtc=new Set)).add(t)}function ir(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const{_vtc:s}=e;s&&(s.delete(t),s.size||(e._vtc=void 0))}function e0(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let K9=0;function t0(e,t,s,n){const o=e._endId=++K9,r=()=>{o===e._endId&&n()};if(s)return setTimeout(r,s);const{type:i,timeout:l,propCount:d}=gp(e,t);if(!i)return n();const c=i+"end";let f=0;const u=()=>{e.removeEventListener(c,v),r()},v=w=>{w.target===e&&++f>=d&&u()};setTimeout(()=>{f<d&&u()},l+1),e.addEventListener(c,v)}function gp(e,t){const s=window.getComputedStyle(e),n=a=>(s[a]||"").split(", "),o=n(Qn+"Delay"),r=n(Qn+"Duration"),i=s0(o,r),l=n(di+"Delay"),d=n(di+"Duration"),c=s0(l,d);let f=null,u=0,v=0;t===Qn?i>0&&(f=Qn,u=i,v=r.length):t===di?c>0&&(f=di,u=c,v=d.length):(u=Math.max(i,c),f=u>0?i>c?Qn:di:null,v=f?f===Qn?r.length:d.length:0);const w=f===Qn&&/\b(transform|all)(,|$)/.test(s[Qn+"Property"]);return{type:f,timeout:u,propCount:v,hasTransform:w}}function s0(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((s,n)=>n0(s)+n0(e[n])))}function n0(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function _p(){return document.body.offsetHeight}const bp=new WeakMap,yp=new WeakMap,Y9={name:"TransitionGroup",props:aa({},$9,{tag:String,moveClass:String}),setup(e,{slots:t}){const s=up(),n=Vm();let o,r;return Xm(()=>{if(!o.length)return;const i=e.moveClass||`${e.name||"v"}-move`;if(!Z9(o[0].el,s.vnode.el,i))return;o.forEach(X9),o.forEach(W9);const l=o.filter(G9);_p(),l.forEach(d=>{const c=d.el,f=c.style;On(c,i),f.transform=f.webkitTransform=f.transitionDuration="";const u=c._moveCb=v=>{v&&v.target!==c||(!v||/transform$/.test(v.propertyName))&&(c.removeEventListener("transitionend",u),c._moveCb=null,ir(c,i))};c.addEventListener("transitionend",u)})}),()=>{const i=xt(e),l=vp(i);let d=i.tag||wt;o=r,r=t.default?Ld(t.default()):[];for(let c=0;c<r.length;c++){const f=r[c];f.key!=null&&Xi(f,Yi(f,l,n,s))}if(o)for(let c=0;c<o.length;c++){const f=o[c];Xi(f,Yi(f,l,n,s)),bp.set(f,f.el.getBoundingClientRect())}return $e(d,null,r)}}},Vd=Y9;function X9(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function W9(e){yp.set(e,e.el.getBoundingClientRect())}function G9(e){const t=bp.get(e),s=yp.get(e),n=t.left-s.left,o=t.top-s.top;if(n||o){const r=e.el.style;return r.transform=r.webkitTransform=`translate(${n}px,${o}px)`,r.transitionDuration="0s",e}}function Z9(e,t,s){const n=e.cloneNode();e._vtc&&e._vtc.forEach(i=>{i.split(/\s+/).forEach(l=>l&&n.classList.remove(l))}),s.split(/\s+/).forEach(i=>i&&n.classList.add(i)),n.style.display="none";const o=t.nodeType===1?t:t.parentNode;o.appendChild(n);const{hasTransform:r}=gp(n);return o.removeChild(n),r}const Q9=["ctrl","shift","alt","meta"],J9={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Q9.some(s=>e[`${s}Key`]&&!t.includes(s))},ur=(e,t)=>(s,...n)=>{for(let o=0;o<t.length;o++){const r=J9[t[o]];if(r&&r(s,t))return}return e(s,...n)},e8={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},In=(e,t)=>s=>{if(!("key"in s))return;const n=Oo(s.key);if(t.some(o=>o===n||e8[o]===n))return e(s)},Ql={beforeMount(e,{value:t},{transition:s}){e._vod=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):fi(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:n}){!t!=!s&&(n?t?(n.beforeEnter(e),fi(e,!0),n.enter(e)):n.leave(e,()=>{fi(e,!1)}):fi(e,t))},beforeUnmount(e,{value:t}){fi(e,t)}};function fi(e,t){e.style.display=t?e._vod:"none"}const t8=aa({patchProp:U9},A9);let r0;function s8(){return r0||(r0=X5(t8))}const o0=(...e)=>{s8().render(...e)};var Ut=(e,t)=>{const s=e.__vccOpts||e;for(const[n,o]of t)s[n]=o;return s};const n8={name:"AppLoader",props:{show:{type:Boolean,default:!1},infinite:{type:Boolean,default:!1},type:{type:String,required:!0},messageId:{type:String,default:""}}},r8=je("div",{id:"vac-circle"},null,-1),o8=je("div",{id:"vac-circle"},null,-1),i8=je("div",{id:"vac-circle"},null,-1),a8=je("div",{id:"vac-circle"},null,-1),l8=je("div",{id:"vac-circle"},null,-1),c8=je("div",{id:"vac-circle"},null,-1);function u8(e,t,s,n,o,r){return pe(),kt(Wt,{name:"vac-fade-spinner",appear:""},{default:tt(()=>[s.show?(pe(),xe("div",{key:0,class:ft(["vac-loader-wrapper",{"vac-container-center":!s.infinite,"vac-container-top":s.infinite}])},[s.type==="rooms"?ze(e.$slots,"spinner-icon-rooms",{key:0},()=>[r8]):Ye("",!0),s.type==="infinite-rooms"?ze(e.$slots,"spinner-icon-infinite-rooms",{key:1},()=>[o8]):Ye("",!0),s.type==="message-file"?ze(e.$slots,"spinner-icon-message-file_"+s.messageId,{key:2},()=>[i8]):Ye("",!0),s.type==="room-file"?ze(e.$slots,"spinner-icon-room-file",{key:3},()=>[a8]):Ye("",!0),s.type==="messages"?ze(e.$slots,"spinner-icon-messages",{key:4},()=>[l8]):Ye("",!0),s.type==="infinite-messages"?ze(e.$slots,"spinner-icon-infinite-messages",{key:5},()=>[c8]):Ye("",!0)],2)):Ye("",!0)]),_:3})}var Jl=Ut(n8,[["render",u8]]);const d8={name:"SvgIcon",props:{name:{type:String,default:null},param:{type:String,default:null}},data(){return{svgItem:{search:{path:"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"},add:{path:"M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"},toggle:{path:"M5,13L9,17L7.6,18.42L1.18,12L7.6,5.58L9,7L5,11H21V13H5M21,6V8H11V6H21M21,16V18H11V16H21Z"},menu:{path:"M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z"},close:{path:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z"},file:{path:"M14,17H7V15H14M17,13H7V11H17M17,9H7V7H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z"},paperclip:{path:"M16.5,6V17.5A4,4 0 0,1 12.5,21.5A4,4 0 0,1 8.5,17.5V5A2.5,2.5 0 0,1 11,2.5A2.5,2.5 0 0,1 13.5,5V15.5A1,1 0 0,1 12.5,16.5A1,1 0 0,1 11.5,15.5V6H10V15.5A2.5,2.5 0 0,0 12.5,18A2.5,2.5 0 0,0 15,15.5V5A4,4 0 0,0 11,1A4,4 0 0,0 7,5V17.5A5.5,5.5 0 0,0 12.5,23A5.5,5.5 0 0,0 18,17.5V6H16.5Z"},"close-outline":{path:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"},send:{path:"M2,21L23,12L2,3V10L17,12L2,14V21Z"},emoji:{path:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"},document:{path:"M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z"},pencil:{path:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"},checkmark:{path:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"},"double-checkmark":{path:"M18 7l-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41L6 19l1.41-1.41L1.83 12 .41 13.41z"},eye:{path:"M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z"},dropdown:{path:"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"},deleted:{path:"M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12C4,13.85 4.63,15.55 5.68,16.91L16.91,5.68C15.55,4.63 13.85,4 12,4M12,20A8,8 0 0,0 20,12C20,10.15 19.37,8.45 18.32,7.09L7.09,18.32C8.45,19.37 10.15,20 12,20Z"},microphone:{size:"large",path:"M432.8,216.4v39.2c0,45.2-15.3,84.3-45.2,118.4c-29.8,33.2-67.3,52.8-111.6,57.9v40.9h78.4c5.1,0,10.2,1.7,13.6,6c4.3,4.3,6,8.5,6,13.6c0,5.1-1.7,10.2-6,13.6c-4.3,4.3-8.5,6-13.6,6H157.6c-5.1,0-10.2-1.7-13.6-6c-4.3-4.3-6-8.5-6-13.6c0-5.1,1.7-10.2,6-13.6c4.3-4.3,8.5-6,13.6-6H236v-40.9c-44.3-5.1-81.8-23.9-111.6-57.9s-45.2-73.3-45.2-118.4v-39.2c0-5.1,1.7-10.2,6-13.6c4.3-4.3,8.5-6,13.6-6s10.2,1.7,13.6,6c4.3,4.3,6,8.5,6,13.6v39.2c0,37.5,13.6,70.7,40,97.1s59.6,40,97.1,40s70.7-13.6,97.1-40c26.4-26.4,40-59.6,40-97.1v-39.2c0-5.1,1.7-10.2,6-13.6c4.3-4.3,8.5-6,13.6-6c5.1,0,10.2,1.7,13.6,6C430.2,206.2,432.8,211.3,432.8,216.4z M353.5,98v157.6c0,27.3-9.4,50.3-29,69c-19.6,19.6-42.6,29-69,29s-50.3-9.4-69-29c-19.6-19.6-29-42.6-29-69V98c0-27.3,9.4-50.3,29-69c19.6-19.6,42.6-29,69-29s50.3,9.4,69,29C344.2,47.7,353.5,71.6,353.5,98z"},"audio-play":{size:"medium",path:"M43.331,21.237L7.233,0.397c-0.917-0.529-2.044-0.529-2.96,0c-0.916,0.528-1.48,1.505-1.48,2.563v41.684   c0,1.058,0.564,2.035,1.48,2.563c0.458,0.268,0.969,0.397,1.48,0.397c0.511,0,1.022-0.133,1.48-0.397l36.098-20.84   c0.918-0.529,1.479-1.506,1.479-2.564S44.247,21.767,43.331,21.237z"},"audio-pause":{size:"medium",path:"M17.991,40.976c0,3.662-2.969,6.631-6.631,6.631l0,0c-3.662,0-6.631-2.969-6.631-6.631V6.631C4.729,2.969,7.698,0,11.36,0l0,0c3.662,0,6.631,2.969,6.631,6.631V40.976z",path2:"M42.877,40.976c0,3.662-2.969,6.631-6.631,6.631l0,0c-3.662,0-6.631-2.969-6.631-6.631V6.631C29.616,2.969,32.585,0,36.246,0l0,0c3.662,0,6.631,2.969,6.631,6.631V40.976z"}}}},computed:{svgId(){const e=this.param?"-"+this.param:"";return`vac-icon-${this.name}${e}`},size(){const e=this.svgItem[this.name];return e.size==="large"?512:e.size==="medium"?48:24}}},f8=["viewBox"],h8=["id","d"],m8=["id","d"];function p8(e,t,s,n,o,r){return pe(),xe("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",width:"24",height:"24",viewBox:`0 0 ${r.size} ${r.size}`},[je("path",{id:r.svgId,d:o.svgItem[s.name].path},null,8,h8),o.svgItem[s.name].path2?(pe(),xe("path",{key:0,id:r.svgId,d:o.svgItem[s.name].path2},null,8,m8)):Ye("",!0)],8,f8)}var is=Ut(d8,[["render",p8]]);const v8={name:"RoomsSearch",components:{SvgIcon:is},props:{textMessages:{type:Object,required:!0},showSearch:{type:Boolean,required:!0},showAddRoom:{type:Boolean,required:!0},rooms:{type:Array,required:!0},loadingRooms:{type:Boolean,required:!0}},emits:["search-room","add-room"],computed:{showSearchBar(){return this.showSearch||this.showAddRoom}}},g8={key:0,class:"vac-icon-search"},_8=["placeholder"];function b8(e,t,s,n,o,r){const i=st("svg-icon");return pe(),xe("div",{class:ft({"vac-box-search":r.showSearchBar,"vac-box-empty":!r.showSearchBar})},[s.showSearch?(pe(),xe(wt,{key:0},[!s.loadingRooms&&s.rooms.length?(pe(),xe("div",g8,[ze(e.$slots,"search-icon",{},()=>[$e(i,{name:"search"})])])):Ye("",!0),!s.loadingRooms&&s.rooms.length?(pe(),xe("input",{key:1,type:"search",placeholder:s.textMessages.SEARCH,autocomplete:"off",class:"vac-input",onInput:t[0]||(t[0]=l=>e.$emit("search-room",l))},null,40,_8)):Ye("",!0)],64)):Ye("",!0),s.showAddRoom?(pe(),xe("div",{key:1,class:"vac-svg-button vac-add-icon",onClick:t[1]||(t[1]=l=>e.$emit("add-room"))},[ze(e.$slots,"add-icon",{},()=>[$e(i,{name:"add"})])])):Ye("",!0)],2)}var y8=Ut(v8,[["render",b8]]),ls={},Qo={};Qo.__esModule=!0;Qo.inherits=w8;function w8(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=Object.create(e.prototype);for(var o in s)n[o]=s[o];return n.constructor=t,t.prototype=n,t}var ca={};ca.__esModule=!0;var S8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ps={defaultProtocol:"http",events:null,format:i0,formatHref:i0,nl2br:!1,tagName:"a",target:A8,validate:!0,ignoreTags:[],attributes:null,className:"linkified"};ca.defaults=Ps;ca.Options=wp;ca.contains=E8;function wp(e){e=e||{},this.defaultProtocol=e.hasOwnProperty("defaultProtocol")?e.defaultProtocol:Ps.defaultProtocol,this.events=e.hasOwnProperty("events")?e.events:Ps.events,this.format=e.hasOwnProperty("format")?e.format:Ps.format,this.formatHref=e.hasOwnProperty("formatHref")?e.formatHref:Ps.formatHref,this.nl2br=e.hasOwnProperty("nl2br")?e.nl2br:Ps.nl2br,this.tagName=e.hasOwnProperty("tagName")?e.tagName:Ps.tagName,this.target=e.hasOwnProperty("target")?e.target:Ps.target,this.validate=e.hasOwnProperty("validate")?e.validate:Ps.validate,this.ignoreTags=[],this.attributes=e.attributes||e.linkAttributes||Ps.attributes,this.className=e.hasOwnProperty("className")?e.className:e.linkClass||Ps.className;for(var t=e.hasOwnProperty("ignoreTags")?e.ignoreTags:Ps.ignoreTags,s=0;s<t.length;s++)this.ignoreTags.push(t[s].toUpperCase())}wp.prototype={resolve:function(t){var s=t.toHref(this.defaultProtocol);return{formatted:this.get("format",t.toString(),t),formattedHref:this.get("formatHref",s,t),tagName:this.get("tagName",s,t),className:this.get("className",s,t),target:this.get("target",s,t),events:this.getObject("events",s,t),attributes:this.getObject("attributes",s,t)}},check:function(t){return this.get("validate",t.toString(),t)},get:function(t,s,n){var o=void 0,r=this[t];if(!r)return r;switch(typeof r>"u"?"undefined":S8(r)){case"function":return r(s,n.type);case"object":return o=r.hasOwnProperty(n.type)?r[n.type]:Ps[t],typeof o=="function"?o(s,n.type):o}return r},getObject:function(t,s,n){var o=this[t];return typeof o=="function"?o(s,n.type):o}};function E8(e,t){for(var s=0;s<e.length;s++)if(e[s]===t)return!0;return!1}function i0(e){return e}function A8(e,t){return t==="url"?"_blank":null}var Mn={},Fn={};Fn.__esModule=!0;Fn.stateify=Fn.TokenState=Fn.CharacterState=void 0;var Sp=Qo;function $d(){return function(e){this.j=[],this.T=e||null}}var zd=$d();zd.prototype={defaultTransition:!1,on:function(t,s){if(t instanceof Array){for(var n=0;n<t.length;n++)this.j.push([t[n],s]);return this}return this.j.push([t,s]),this},next:function(t){for(var s=0;s<this.j.length;s++){var n=this.j[s],o=n[0],r=n[1];if(this.test(t,o))return r}return this.defaultTransition},accepts:function(){return!!this.T},test:function(t,s){return t===s},emit:function(){return this.T}};var ju=(0,Sp.inherits)(zd,$d(),{test:function(t,s){return t===s||s instanceof RegExp&&s.test(t)}}),M8=(0,Sp.inherits)(zd,$d(),{jump:function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=this.next(new t(""));return n===this.defaultTransition?(n=new this.constructor(s),this.on(t,n)):s&&(n.T=s),n},test:function(t,s){return t instanceof s}});function x8(e,t,s,n){for(var o=0,r=e.length,i=t,l=[],d=void 0;o<r&&(d=i.next(e[o]));)i=d,o++;if(o>=r)return[];for(;o<r-1;)d=new ju(n),l.push(d),i.on(e[o],d),i=d,o++;return d=new ju(s),l.push(d),i.on(e[r-1],d),l}Fn.CharacterState=ju;Fn.TokenState=M8;Fn.stateify=x8;var Je={},ec={};ec.__esModule=!0;function R8(){return function(e){e&&(this.v=e)}}ec.createTokenClass=R8;Je.__esModule=!0;Je.AMPERSAND=Je.CLOSEPAREN=Je.CLOSEANGLEBRACKET=Je.CLOSEBRACKET=Je.CLOSEBRACE=Je.OPENPAREN=Je.OPENANGLEBRACKET=Je.OPENBRACKET=Je.OPENBRACE=Je.WS=Je.TLD=Je.SYM=Je.UNDERSCORE=Je.SLASH=Je.MAILTO=Je.PROTOCOL=Je.QUERY=Je.POUND=Je.PLUS=Je.NUM=Je.NL=Je.LOCALHOST=Je.PUNCTUATION=Je.DOT=Je.COLON=Je.AT=Je.DOMAIN=Je.Base=void 0;var Ep=ec,T8=Qo,Kd=(0,Ep.createTokenClass)();Kd.prototype={toString:function(){return this.v+""}};function Dt(e){var t=e?{v:e}:{};return(0,T8.inherits)(Kd,(0,Ep.createTokenClass)(),t)}var k8=Dt(),C8=Dt("@"),O8=Dt(":"),I8=Dt("."),B8=Dt(),L8=Dt(),P8=Dt(`
`),N8=Dt(),j8=Dt("+"),F8=Dt("#"),H8=Dt(),U8=Dt("mailto:"),D8=Dt("?"),q8=Dt("/"),V8=Dt("_"),$8=Dt(),z8=Dt(),K8=Dt(),Y8=Dt("{"),X8=Dt("["),W8=Dt("<"),G8=Dt("("),Z8=Dt("}"),Q8=Dt("]"),J8=Dt(">"),ey=Dt(")"),ty=Dt("&");Je.Base=Kd;Je.DOMAIN=k8;Je.AT=C8;Je.COLON=O8;Je.DOT=I8;Je.PUNCTUATION=B8;Je.LOCALHOST=L8;Je.NL=P8;Je.NUM=N8;Je.PLUS=j8;Je.POUND=F8;Je.QUERY=D8;Je.PROTOCOL=H8;Je.MAILTO=U8;Je.SLASH=q8;Je.UNDERSCORE=V8;Je.SYM=$8;Je.TLD=z8;Je.WS=K8;Je.OPENBRACE=Y8;Je.OPENBRACKET=X8;Je.OPENANGLEBRACKET=W8;Je.OPENPAREN=G8;Je.CLOSEBRACE=Z8;Je.CLOSEBRACKET=Q8;Je.CLOSEANGLEBRACKET=J8;Je.CLOSEPAREN=ey;Je.AMPERSAND=ty;Mn.__esModule=!0;Mn.start=Mn.run=Mn.TOKENS=Mn.State=void 0;var Er=Fn,ht=Je,sy=ny(ht);function ny(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t.default=e,t}var a0="aaa|aarp|abarth|abb|abbott|abbvie|abc|able|abogado|abudhabi|ac|academy|accenture|accountant|accountants|aco|active|actor|ad|adac|ads|adult|ae|aeg|aero|aetna|af|afamilycompany|afl|africa|ag|agakhan|agency|ai|aig|aigo|airbus|airforce|airtel|akdn|al|alfaromeo|alibaba|alipay|allfinanz|allstate|ally|alsace|alstom|am|americanexpress|americanfamily|amex|amfam|amica|amsterdam|analytics|android|anquan|anz|ao|aol|apartments|app|apple|aq|aquarelle|ar|arab|aramco|archi|army|arpa|art|arte|as|asda|asia|associates|at|athleta|attorney|au|auction|audi|audible|audio|auspost|author|auto|autos|avianca|aw|aws|ax|axa|az|azure|ba|baby|baidu|banamex|bananarepublic|band|bank|bar|barcelona|barclaycard|barclays|barefoot|bargains|baseball|basketball|bauhaus|bayern|bb|bbc|bbt|bbva|bcg|bcn|bd|be|beats|beauty|beer|bentley|berlin|best|bestbuy|bet|bf|bg|bh|bharti|bi|bible|bid|bike|bing|bingo|bio|biz|bj|black|blackfriday|blanco|blockbuster|blog|bloomberg|blue|bm|bms|bmw|bn|bnl|bnpparibas|bo|boats|boehringer|bofa|bom|bond|boo|book|booking|boots|bosch|bostik|boston|bot|boutique|box|br|bradesco|bridgestone|broadway|broker|brother|brussels|bs|bt|budapest|bugatti|build|builders|business|buy|buzz|bv|bw|by|bz|bzh|ca|cab|cafe|cal|call|calvinklein|cam|camera|camp|cancerresearch|canon|capetown|capital|capitalone|car|caravan|cards|care|career|careers|cars|cartier|casa|case|caseih|cash|casino|cat|catering|catholic|cba|cbn|cbre|cbs|cc|cd|ceb|center|ceo|cern|cf|cfa|cfd|cg|ch|chanel|channel|chase|chat|cheap|chintai|chloe|christmas|chrome|chrysler|church|ci|cipriani|circle|cisco|citadel|citi|citic|city|cityeats|ck|cl|claims|cleaning|click|clinic|clinique|clothing|cloud|club|clubmed|cm|cn|co|coach|codes|coffee|college|cologne|com|comcast|commbank|community|company|compare|computer|comsec|condos|construction|consulting|contact|contractors|cooking|cookingchannel|cool|coop|corsica|country|coupon|coupons|courses|cr|credit|creditcard|creditunion|cricket|crown|crs|cruise|cruises|csc|cu|cuisinella|cv|cw|cx|cy|cymru|cyou|cz|dabur|dad|dance|data|date|dating|datsun|day|dclk|dds|de|deal|dealer|deals|degree|delivery|dell|deloitte|delta|democrat|dental|dentist|desi|design|dev|dhl|diamonds|diet|digital|direct|directory|discount|discover|dish|diy|dj|dk|dm|dnp|do|docs|doctor|dodge|dog|doha|domains|dot|download|drive|dtv|dubai|duck|dunlop|duns|dupont|durban|dvag|dvr|dz|earth|eat|ec|eco|edeka|edu|education|ee|eg|email|emerck|energy|engineer|engineering|enterprises|epost|epson|equipment|er|ericsson|erni|es|esq|estate|esurance|et|etisalat|eu|eurovision|eus|events|everbank|exchange|expert|exposed|express|extraspace|fage|fail|fairwinds|faith|family|fan|fans|farm|farmers|fashion|fast|fedex|feedback|ferrari|ferrero|fi|fiat|fidelity|fido|film|final|finance|financial|fire|firestone|firmdale|fish|fishing|fit|fitness|fj|fk|flickr|flights|flir|florist|flowers|fly|fm|fo|foo|food|foodnetwork|football|ford|forex|forsale|forum|foundation|fox|fr|free|fresenius|frl|frogans|frontdoor|frontier|ftr|fujitsu|fujixerox|fun|fund|furniture|futbol|fyi|ga|gal|gallery|gallo|gallup|game|games|gap|garden|gb|gbiz|gd|gdn|ge|gea|gent|genting|george|gf|gg|ggee|gh|gi|gift|gifts|gives|giving|gl|glade|glass|gle|global|globo|gm|gmail|gmbh|gmo|gmx|gn|godaddy|gold|goldpoint|golf|goo|goodhands|goodyear|goog|google|gop|got|gov|gp|gq|gr|grainger|graphics|gratis|green|gripe|grocery|group|gs|gt|gu|guardian|gucci|guge|guide|guitars|guru|gw|gy|hair|hamburg|hangout|haus|hbo|hdfc|hdfcbank|health|healthcare|help|helsinki|here|hermes|hgtv|hiphop|hisamitsu|hitachi|hiv|hk|hkt|hm|hn|hockey|holdings|holiday|homedepot|homegoods|homes|homesense|honda|honeywell|horse|hospital|host|hosting|hot|hoteles|hotels|hotmail|house|how|hr|hsbc|ht|htc|hu|hughes|hyatt|hyundai|ibm|icbc|ice|icu|id|ie|ieee|ifm|ikano|il|im|imamat|imdb|immo|immobilien|in|industries|infiniti|info|ing|ink|institute|insurance|insure|int|intel|international|intuit|investments|io|ipiranga|iq|ir|irish|is|iselect|ismaili|ist|istanbul|it|itau|itv|iveco|iwc|jaguar|java|jcb|jcp|je|jeep|jetzt|jewelry|jio|jlc|jll|jm|jmp|jnj|jo|jobs|joburg|jot|joy|jp|jpmorgan|jprs|juegos|juniper|kaufen|kddi|ke|kerryhotels|kerrylogistics|kerryproperties|kfh|kg|kh|ki|kia|kim|kinder|kindle|kitchen|kiwi|km|kn|koeln|komatsu|kosher|kp|kpmg|kpn|kr|krd|kred|kuokgroup|kw|ky|kyoto|kz|la|lacaixa|ladbrokes|lamborghini|lamer|lancaster|lancia|lancome|land|landrover|lanxess|lasalle|lat|latino|latrobe|law|lawyer|lb|lc|lds|lease|leclerc|lefrak|legal|lego|lexus|lgbt|li|liaison|lidl|life|lifeinsurance|lifestyle|lighting|like|lilly|limited|limo|lincoln|linde|link|lipsy|live|living|lixil|lk|loan|loans|locker|locus|loft|lol|london|lotte|lotto|love|lpl|lplfinancial|lr|ls|lt|ltd|ltda|lu|lundbeck|lupin|luxe|luxury|lv|ly|ma|macys|madrid|maif|maison|makeup|man|management|mango|map|market|marketing|markets|marriott|marshalls|maserati|mattel|mba|mc|mckinsey|md|me|med|media|meet|melbourne|meme|memorial|men|menu|meo|merckmsd|metlife|mg|mh|miami|microsoft|mil|mini|mint|mit|mitsubishi|mk|ml|mlb|mls|mm|mma|mn|mo|mobi|mobile|mobily|moda|moe|moi|mom|monash|money|monster|mopar|mormon|mortgage|moscow|moto|motorcycles|mov|movie|movistar|mp|mq|mr|ms|msd|mt|mtn|mtr|mu|museum|mutual|mv|mw|mx|my|mz|na|nab|nadex|nagoya|name|nationwide|natura|navy|nba|nc|ne|nec|net|netbank|netflix|network|neustar|new|newholland|news|next|nextdirect|nexus|nf|nfl|ng|ngo|nhk|ni|nico|nike|nikon|ninja|nissan|nissay|nl|no|nokia|northwesternmutual|norton|now|nowruz|nowtv|np|nr|nra|nrw|ntt|nu|nyc|nz|obi|observer|off|office|okinawa|olayan|olayangroup|oldnavy|ollo|om|omega|one|ong|onl|online|onyourside|ooo|open|oracle|orange|org|organic|origins|osaka|otsuka|ott|ovh|pa|page|panasonic|panerai|paris|pars|partners|parts|party|passagens|pay|pccw|pe|pet|pf|pfizer|pg|ph|pharmacy|phd|philips|phone|photo|photography|photos|physio|piaget|pics|pictet|pictures|pid|pin|ping|pink|pioneer|pizza|pk|pl|place|play|playstation|plumbing|plus|pm|pn|pnc|pohl|poker|politie|porn|post|pr|pramerica|praxi|press|prime|pro|prod|productions|prof|progressive|promo|properties|property|protection|pru|prudential|ps|pt|pub|pw|pwc|py|qa|qpon|quebec|quest|qvc|racing|radio|raid|re|read|realestate|realtor|realty|recipes|red|redstone|redumbrella|rehab|reise|reisen|reit|reliance|ren|rent|rentals|repair|report|republican|rest|restaurant|review|reviews|rexroth|rich|richardli|ricoh|rightathome|ril|rio|rip|rmit|ro|rocher|rocks|rodeo|rogers|room|rs|rsvp|ru|rugby|ruhr|run|rw|rwe|ryukyu|sa|saarland|safe|safety|sakura|sale|salon|samsclub|samsung|sandvik|sandvikcoromant|sanofi|sap|sapo|sarl|sas|save|saxo|sb|sbi|sbs|sc|sca|scb|schaeffler|schmidt|scholarships|school|schule|schwarz|science|scjohnson|scor|scot|sd|se|search|seat|secure|security|seek|select|sener|services|ses|seven|sew|sex|sexy|sfr|sg|sh|shangrila|sharp|shaw|shell|shia|shiksha|shoes|shop|shopping|shouji|show|showtime|shriram|si|silk|sina|singles|site|sj|sk|ski|skin|sky|skype|sl|sling|sm|smart|smile|sn|sncf|so|soccer|social|softbank|software|sohu|solar|solutions|song|sony|soy|space|spiegel|spot|spreadbetting|sr|srl|srt|st|stada|staples|star|starhub|statebank|statefarm|statoil|stc|stcgroup|stockholm|storage|store|stream|studio|study|style|su|sucks|supplies|supply|support|surf|surgery|suzuki|sv|swatch|swiftcover|swiss|sx|sy|sydney|symantec|systems|sz|tab|taipei|talk|taobao|target|tatamotors|tatar|tattoo|tax|taxi|tc|tci|td|tdk|team|tech|technology|tel|telecity|telefonica|temasek|tennis|teva|tf|tg|th|thd|theater|theatre|tiaa|tickets|tienda|tiffany|tips|tires|tirol|tj|tjmaxx|tjx|tk|tkmaxx|tl|tm|tmall|tn|to|today|tokyo|tools|top|toray|toshiba|total|tours|town|toyota|toys|tr|trade|trading|training|travel|travelchannel|travelers|travelersinsurance|trust|trv|tt|tube|tui|tunes|tushu|tv|tvs|tw|tz|ua|ubank|ubs|uconnect|ug|uk|unicom|university|uno|uol|ups|us|uy|uz|va|vacations|vana|vanguard|vc|ve|vegas|ventures|verisign|versicherung|vet|vg|vi|viajes|video|vig|viking|villas|vin|vip|virgin|visa|vision|vista|vistaprint|viva|vivo|vlaanderen|vn|vodka|volkswagen|volvo|vote|voting|voto|voyage|vu|vuelos|wales|walmart|walter|wang|wanggou|warman|watch|watches|weather|weatherchannel|webcam|weber|website|wed|wedding|weibo|weir|wf|whoswho|wien|wiki|williamhill|win|windows|wine|winners|wme|wolterskluwer|woodside|work|works|world|wow|ws|wtc|wtf|xbox|xerox|xfinity|xihuan|xin|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--30rr7y|xn--3bst00m|xn--3ds443g|xn--3e0b707e|xn--3hcrj9c|xn--3oq18vl8pn36a|xn--3pxu8k|xn--42c2d9a|xn--45br5cyl|xn--45brj9c|xn--45q11c|xn--4gbrim|xn--54b7fta0cc|xn--55qw42g|xn--55qx5d|xn--5su34j936bgsg|xn--5tzm5g|xn--6frz82g|xn--6qq986b3xl|xn--80adxhks|xn--80ao21a|xn--80aqecdr1a|xn--80asehdb|xn--80aswg|xn--8y0a063a|xn--90a3ac|xn--90ae|xn--90ais|xn--9dbq2a|xn--9et52u|xn--9krt00a|xn--b4w605ferd|xn--bck1b9a5dre4c|xn--c1avg|xn--c2br7g|xn--cck2b3b|xn--cg4bki|xn--clchc0ea0b2g2a9gcd|xn--czr694b|xn--czrs0t|xn--czru2d|xn--d1acj3b|xn--d1alf|xn--e1a4c|xn--eckvdtc9d|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fhbei|xn--fiq228c5hs|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--fjq720a|xn--flw351e|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--fzys8d69uvgm|xn--g2xx48c|xn--gckr3f0f|xn--gecrj9c|xn--gk3at1e|xn--h2breg3eve|xn--h2brj9c|xn--h2brj9c8c|xn--hxt814e|xn--i1b6b1a6a2e|xn--imr513n|xn--io0a7i|xn--j1aef|xn--j1amh|xn--j6w193g|xn--jlq61u9w7b|xn--jvr189m|xn--kcrx77d1x4a|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--kput3i|xn--l1acc|xn--lgbbat1ad8j|xn--mgb9awbf|xn--mgba3a3ejt|xn--mgba3a4f16a|xn--mgba7c0bbn0a|xn--mgbaakc7dvf|xn--mgbaam7a8h|xn--mgbab2bd|xn--mgbai9azgqp6j|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a|xn--mgbbh1a71e|xn--mgbc0a9azcg|xn--mgbca7dzdo|xn--mgberp4a5d4ar|xn--mgbgu82a|xn--mgbi4ecexp|xn--mgbpl2fh|xn--mgbt3dhd|xn--mgbtx2b|xn--mgbx4cd0ab|xn--mix891f|xn--mk1bu44c|xn--mxtq1m|xn--ngbc5azd|xn--ngbe9e0a|xn--ngbrx|xn--node|xn--nqv7f|xn--nqv7fs00ema|xn--nyqy26a|xn--o3cw4h|xn--ogbpf8fl|xn--p1acf|xn--p1ai|xn--pbt977c|xn--pgbs0dh|xn--pssy2u|xn--q9jyb4c|xn--qcka1pmc|xn--qxam|xn--rhqv96g|xn--rovu88b|xn--rvc1e0am3e|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--tckwe|xn--tiq49xqyj|xn--unup4y|xn--vermgensberater-ctb|xn--vermgensberatung-pwb|xn--vhquv|xn--vuq861b|xn--w4r85el8fhu5dnra|xn--w4rs40l|xn--wgbh1c|xn--wgbl6a|xn--xhq521b|xn--xkc2al3hye2a|xn--xkc2dl3a5ee0h|xn--y9a3aq|xn--yfro4i67o|xn--ygbi2ammx|xn--zfr164b|xperia|xxx|xyz|yachts|yahoo|yamaxun|yandex|ye|yodobashi|yoga|yokohama|you|youtube|yt|yun|za|zappos|zara|zero|zip|zippo|zm|zone|zuerich|zw".split("|"),Yd="0123456789".split(""),tc="0123456789abcdefghijklmnopqrstuvwxyz".split(""),Ap=[" ","\f","\r","	","\v","\xA0","\u1680","\u180E"],xs=[],It=function(t){return new Er.CharacterState(t)},Gs=It(),Fu=It(ht.NUM),qo=It(ht.DOMAIN),Zi=It(),Hu=It(ht.WS);Gs.on("@",It(ht.AT)).on(".",It(ht.DOT)).on("+",It(ht.PLUS)).on("#",It(ht.POUND)).on("?",It(ht.QUERY)).on("/",It(ht.SLASH)).on("_",It(ht.UNDERSCORE)).on(":",It(ht.COLON)).on("{",It(ht.OPENBRACE)).on("[",It(ht.OPENBRACKET)).on("<",It(ht.OPENANGLEBRACKET)).on("(",It(ht.OPENPAREN)).on("}",It(ht.CLOSEBRACE)).on("]",It(ht.CLOSEBRACKET)).on(">",It(ht.CLOSEANGLEBRACKET)).on(")",It(ht.CLOSEPAREN)).on("&",It(ht.AMPERSAND)).on([",",";","!",'"',"'"],It(ht.PUNCTUATION));Gs.on(`
`,It(ht.NL)).on(Ap,Hu);Hu.on(Ap,Hu);for(var Hc=0;Hc<a0.length;Hc++){var ry=(0,Er.stateify)(a0[Hc],Gs,ht.TLD,ht.DOMAIN);xs.push.apply(xs,ry)}var Mp=(0,Er.stateify)("file",Gs,ht.DOMAIN,ht.DOMAIN),xp=(0,Er.stateify)("ftp",Gs,ht.DOMAIN,ht.DOMAIN),Rp=(0,Er.stateify)("http",Gs,ht.DOMAIN,ht.DOMAIN),Tp=(0,Er.stateify)("mailto",Gs,ht.DOMAIN,ht.DOMAIN);xs.push.apply(xs,Mp);xs.push.apply(xs,xp);xs.push.apply(xs,Rp);xs.push.apply(xs,Tp);var oy=Mp.pop(),iy=xp.pop(),ay=Rp.pop(),ly=Tp.pop(),sc=It(ht.DOMAIN),nc=It(ht.PROTOCOL),cy=It(ht.MAILTO);iy.on("s",sc).on(":",nc);ay.on("s",sc).on(":",nc);xs.push(sc);oy.on(":",nc);sc.on(":",nc);ly.on(":",cy);var uy=(0,Er.stateify)("localhost",Gs,ht.LOCALHOST,ht.DOMAIN);xs.push.apply(xs,uy);Gs.on(Yd,Fu);Fu.on("-",Zi).on(Yd,Fu).on(tc,qo);qo.on("-",Zi).on(tc,qo);for(var Uc=0;Uc<xs.length;Uc++)xs[Uc].on("-",Zi).on(tc,qo);Zi.on("-",Zi).on(Yd,qo).on(tc,qo);Gs.defaultTransition=It(ht.SYM);var dy=function(t){for(var s=t.replace(/[A-Z]/g,function(v){return v.toLowerCase()}),n=t.length,o=[],r=0;r<n;){for(var i=Gs,l=null,d=0,c=null,f=-1;r<n&&(l=i.next(s[r]));)i=l,i.accepts()?(f=0,c=i):f>=0&&f++,d++,r++;if(!(f<0)){r-=f,d-=f;var u=c.emit();o.push(new u(t.substr(r-d,d)))}}return o},fy=Gs;Mn.State=Er.CharacterState;Mn.TOKENS=sy;Mn.run=dy;Mn.start=fy;var xn={},Os={};Os.__esModule=!0;Os.URL=Os.TEXT=Os.NL=Os.EMAIL=Os.MAILTOEMAIL=Os.Base=void 0;var Jo=ec,ua=Qo,Pi=Je;function hy(e){return e instanceof Pi.DOMAIN||e instanceof Pi.TLD}var lo=(0,Jo.createTokenClass)();lo.prototype={type:"token",isLink:!1,toString:function(){for(var t=[],s=0;s<this.v.length;s++)t.push(this.v[s].toString());return t.join("")},toHref:function(){return this.toString()},toObject:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"http";return{type:this.type,value:this.toString(),href:this.toHref(t)}}};var my=(0,ua.inherits)(lo,(0,Jo.createTokenClass)(),{type:"email",isLink:!0}),py=(0,ua.inherits)(lo,(0,Jo.createTokenClass)(),{type:"email",isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),vy=(0,ua.inherits)(lo,(0,Jo.createTokenClass)(),{type:"text"}),gy=(0,ua.inherits)(lo,(0,Jo.createTokenClass)(),{type:"nl"}),_y=(0,ua.inherits)(lo,(0,Jo.createTokenClass)(),{type:"url",isLink:!0,toHref:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"http",s=!1,n=!1,o=this.v,r=[],i=0;o[i]instanceof Pi.PROTOCOL;)s=!0,r.push(o[i].toString().toLowerCase()),i++;for(;o[i]instanceof Pi.SLASH;)n=!0,r.push(o[i].toString()),i++;for(;hy(o[i]);)r.push(o[i].toString().toLowerCase()),i++;for(;i<o.length;i++)r.push(o[i].toString());return r=r.join(""),s||n||(r=t+"://"+r),r},hasProtocol:function(){return this.v[0]instanceof Pi.PROTOCOL}});Os.Base=lo;Os.MAILTOEMAIL=my;Os.EMAIL=py;Os.NL=gy;Os.TEXT=vy;Os.URL=_y;xn.__esModule=!0;xn.start=xn.run=xn.TOKENS=xn.State=void 0;var kp=Fn,Is=Os,by=yy(Is),Ue=Je;function yy(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t.default=e,t}var vt=function(t){return new kp.TokenState(t)},rc=vt(),Cp=vt(),Op=vt(),Xd=vt(),Ip=vt(),gr=vt(),oc=vt(),da=vt(Is.URL),Bp=vt(),Lp=vt(Is.URL),Kt=vt(Is.URL),Qi=vt(),fa=vt(),ha=vt(),ma=vt(),pa=vt(),no=vt(Is.URL),ro=vt(Is.URL),oo=vt(Is.URL),io=vt(Is.URL),Ji=vt(),ea=vt(),ta=vt(),sa=vt(),Io=vt(),Wd=vt(),ic=vt(Is.EMAIL),Pp=vt(),wy=vt(Is.EMAIL),Gr=vt(Is.MAILTOEMAIL),Uu=vt(),Vo=vt(),ac=vt(),Np=vt(),Sy=vt(Is.NL);rc.on(Ue.NL,Sy).on(Ue.PROTOCOL,Cp).on(Ue.MAILTO,Op).on(Ue.SLASH,Xd);Cp.on(Ue.SLASH,Xd);Xd.on(Ue.SLASH,Ip);rc.on(Ue.TLD,gr).on(Ue.DOMAIN,gr).on(Ue.LOCALHOST,da).on(Ue.NUM,gr);Ip.on(Ue.TLD,Kt).on(Ue.DOMAIN,Kt).on(Ue.NUM,Kt).on(Ue.LOCALHOST,Kt);gr.on(Ue.DOT,oc);Io.on(Ue.DOT,Wd);oc.on(Ue.TLD,da).on(Ue.DOMAIN,gr).on(Ue.NUM,gr).on(Ue.LOCALHOST,gr);Wd.on(Ue.TLD,ic).on(Ue.DOMAIN,Io).on(Ue.NUM,Io).on(Ue.LOCALHOST,Io);da.on(Ue.DOT,oc);ic.on(Ue.DOT,Wd);da.on(Ue.COLON,Bp).on(Ue.SLASH,Kt);Bp.on(Ue.NUM,Lp);Lp.on(Ue.SLASH,Kt);ic.on(Ue.COLON,Pp);Pp.on(Ue.NUM,wy);var hs=[Ue.DOMAIN,Ue.AT,Ue.LOCALHOST,Ue.NUM,Ue.PLUS,Ue.POUND,Ue.PROTOCOL,Ue.SLASH,Ue.TLD,Ue.UNDERSCORE,Ue.SYM,Ue.AMPERSAND],ms=[Ue.COLON,Ue.DOT,Ue.QUERY,Ue.PUNCTUATION,Ue.CLOSEBRACE,Ue.CLOSEBRACKET,Ue.CLOSEANGLEBRACKET,Ue.CLOSEPAREN,Ue.OPENBRACE,Ue.OPENBRACKET,Ue.OPENANGLEBRACKET,Ue.OPENPAREN];Kt.on(Ue.OPENBRACE,fa).on(Ue.OPENBRACKET,ha).on(Ue.OPENANGLEBRACKET,ma).on(Ue.OPENPAREN,pa);Qi.on(Ue.OPENBRACE,fa).on(Ue.OPENBRACKET,ha).on(Ue.OPENANGLEBRACKET,ma).on(Ue.OPENPAREN,pa);fa.on(Ue.CLOSEBRACE,Kt);ha.on(Ue.CLOSEBRACKET,Kt);ma.on(Ue.CLOSEANGLEBRACKET,Kt);pa.on(Ue.CLOSEPAREN,Kt);no.on(Ue.CLOSEBRACE,Kt);ro.on(Ue.CLOSEBRACKET,Kt);oo.on(Ue.CLOSEANGLEBRACKET,Kt);io.on(Ue.CLOSEPAREN,Kt);Ji.on(Ue.CLOSEBRACE,Kt);ea.on(Ue.CLOSEBRACKET,Kt);ta.on(Ue.CLOSEANGLEBRACKET,Kt);sa.on(Ue.CLOSEPAREN,Kt);fa.on(hs,no);ha.on(hs,ro);ma.on(hs,oo);pa.on(hs,io);fa.on(ms,Ji);ha.on(ms,ea);ma.on(ms,ta);pa.on(ms,sa);no.on(hs,no);ro.on(hs,ro);oo.on(hs,oo);io.on(hs,io);no.on(ms,no);ro.on(ms,ro);oo.on(ms,oo);io.on(ms,io);Ji.on(hs,no);ea.on(hs,ro);ta.on(hs,oo);sa.on(hs,io);Ji.on(ms,Ji);ea.on(ms,ea);ta.on(ms,ta);sa.on(ms,sa);Kt.on(hs,Kt);Qi.on(hs,Kt);Kt.on(ms,Qi);Qi.on(ms,Qi);Op.on(Ue.TLD,Gr).on(Ue.DOMAIN,Gr).on(Ue.NUM,Gr).on(Ue.LOCALHOST,Gr);Gr.on(hs,Gr).on(ms,Uu);Uu.on(hs,Gr).on(ms,Uu);var va=[Ue.DOMAIN,Ue.NUM,Ue.PLUS,Ue.POUND,Ue.QUERY,Ue.UNDERSCORE,Ue.SYM,Ue.AMPERSAND,Ue.TLD];gr.on(va,Vo).on(Ue.AT,ac);da.on(va,Vo).on(Ue.AT,ac);oc.on(va,Vo);Vo.on(va,Vo).on(Ue.AT,ac).on(Ue.DOT,Np);Np.on(va,Vo);ac.on(Ue.TLD,Io).on(Ue.DOMAIN,Io).on(Ue.LOCALHOST,ic);var Ey=function(t){for(var s=t.length,n=0,o=[],r=[];n<s;){for(var i=rc,l=null,d=null,c=0,f=null,u=-1;n<s&&!(l=i.next(t[n]));)r.push(t[n++]);for(;n<s&&(d=l||i.next(t[n]));)l=null,i=d,i.accepts()?(u=0,f=i):u>=0&&u++,n++,c++;if(u<0)for(var v=n-c;v<n;v++)r.push(t[v]);else{r.length>0&&(o.push(new Is.TEXT(r)),r=[]),n-=u,c-=u;var w=f.emit();o.push(new w(t.slice(n-c,n)))}}return r.length>0&&o.push(new Is.TEXT(r)),o};xn.State=kp.TokenState;xn.TOKENS=by;xn.run=Ey;xn.start=rc;ls.__esModule=!0;ls.tokenize=ls.test=ls.scanner=ls.parser=ls.options=ls.inherits=ls.find=void 0;var Ay=Qo,My=ca,xy=Gd(My),Ry=Mn,jp=Gd(Ry),Ty=xn,Fp=Gd(Ty);function Gd(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t.default=e,t}Array.isArray||(Array.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"});var Zd=function(t){return Fp.run(jp.run(t))},ky=function(t){for(var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=Zd(t),o=[],r=0;r<n.length;r++){var i=n[r];i.isLink&&(!s||i.type===s)&&o.push(i.toObject())}return o},Cy=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=Zd(t);return n.length===1&&n[0].isLink&&(!s||n[0].type===s)};ls.find=ky;ls.inherits=Ay.inherits;ls.options=xy;ls.parser=Fp;ls.scanner=jp;ls.test=Cy;ls.tokenize=Zd;var Hp=ls,Oy=(e,t,s)=>{const n={bold:s.bold,italic:s.italic,strike:s.strike,underline:s.underline,multilineCode:s.multilineCode,inlineCode:s.inlineCode},o={[n.bold]:{end:"\\"+n.bold,allowed_chars:".",type:"bold"},[n.italic]:{end:n.italic,allowed_chars:".",type:"italic"},[n.strike]:{end:n.strike,allowed_chars:".",type:"strike"},[n.underline]:{end:n.underline,allowed_chars:".",type:"underline"},[n.multilineCode]:{end:n.multilineCode,allowed_chars:`(.|
)`,type:"multiline-code"},[n.inlineCode]:{end:n.inlineCode,allowed_chars:".",type:"inline-code"},"<usertag>":{allowed_chars:".",end:"</usertag>",type:"tag"}},r=ol(e,o),i=Iy(r,o),l=[].concat.apply([],i);return t&&Ly(l),l};function ol(e,t){let s=[],n=-1,o=null,r=Hp.find(e),i=!1;if(r.length>0&&(n=e.indexOf(r[0].value),i=!0),Object.keys(t).forEach(l=>{const d=e.indexOf(l);d>=0&&(n<0||d<n)&&(n=d,o=l,i=!1)}),i&&o!==-1){let l=e.substr(0,n),d=e.substr(n,r[0].value.length),c=e.substr(n+r[0].value.length);return s.push(l),s.push(d),s=s.concat(ol(c,t)),s}if(o){let l=e.substr(0,n);const d=o;let c=e.substr(n+d.length);if(e.replace(/\s/g,"").length===d.length*2)return[e];const f=c.match(new RegExp("^("+(t[d].allowed_chars||".")+"*"+(t[d].end?"?":"")+")"+(t[d].end?"("+t[d].end+")":""),"m"));if(!f||!f[1])l=l+d,s.push(l);else{l&&s.push(l);const u={start:d,content:ol(f[1],t),end:f[2],type:t[d].type};s.push(u),c=c.substr(f[0].length)}return s=s.concat(ol(c,t)),s}else return e?[e]:[]}function Iy(e,t){const s=[];return e.forEach(n=>{typeof n=="string"?s.push({types:[],value:n}):t[n.start]&&s.push(By(n))}),s}function By(e){const t=[];return Up(e,t,[]),t}function Up(e,t,s){e.content.forEach(n=>{typeof n=="string"?t.push({types:l0(s.concat([e.type])),value:n}):Up(n,t,l0([n.type].concat([e.type]).concat(s)))})}function l0(e){return[...new Set(e)]}function Ly(e){const t=[];return e.forEach(s=>{const n=Hp.find(s.value);if(n.length){const o=s.value.replace(n[0].value,"");t.push({types:s.types,value:o}),s.types=["url"].concat(s.types),s.href=n[0].href,s.value=n[0].value}t.push(s)}),t}const Qd=["png","jpg","jpeg","webp","svg","gif"],Dp=["mp4","video/ogg","webm","quicktime"],Py=["mp3","audio/ogg","wav","mpeg"],Ny={name:"FormatMessage",components:{SvgIcon:is},props:{messageId:{type:String,default:""},roomId:{type:String,default:""},roomList:{type:Boolean,default:!1},content:{type:[String,Number],required:!0},deleted:{type:Boolean,default:!1},users:{type:Array,default:()=>[]},linkify:{type:Boolean,default:!0},singleLine:{type:Boolean,default:!1},reply:{type:Boolean,default:!1},textFormatting:{type:Object,required:!0},textMessages:{type:Object,default:()=>{}},linkOptions:{type:Object,required:!0}},emits:["open-user-tag"],computed:{linkifiedMessage(){if(this.deleted)return[{value:this.textMessages.MESSAGE_DELETED}];const e=Oy(this.formatTags(this.content),this.linkify&&!this.linkOptions.disabled,this.textFormatting);return e.forEach(t=>{t.url=this.checkType(t,"url"),t.bold=this.checkType(t,"bold"),t.italic=this.checkType(t,"italic"),t.strike=this.checkType(t,"strike"),t.underline=this.checkType(t,"underline"),t.inline=this.checkType(t,"inline-code"),t.multiline=this.checkType(t,"multiline-code"),t.tag=this.checkType(t,"tag"),t.image=this.checkImageType(t),t.value=this.replaceEmojiByElement(t.value)}),e},formattedContent(){return this.deleted?this.textMessages.MESSAGE_DELETED:this.formatTags(this.content)}},methods:{checkType(e,t){return e.types.indexOf(t)!==-1},checkImageType(e){let t=e.value.lastIndexOf(".");e.value.lastIndexOf("/")>t&&(t=-1);const n=e.value.substring(t+1,e.value.length),o=t>0&&Qd.some(r=>n.toLowerCase().includes(r));return o&&this.setImageSize(e),o},setImageSize(e){const t=new Image;t.src=e.value,t.addEventListener("load",s);function s(n){const o=n.path[0].width/150;e.height=Math.round(n.path[0].height/o)+"px",t.removeEventListener("load",s)}},formatTags(e){const t="<usertag>",s="</usertag>",n=[...e.matchAll(new RegExp(t,"gi"))].map(r=>r.index),o=e;return n.forEach(r=>{const i=o.substring(r+t.length,o.indexOf(s,r)),l=this.users.find(d=>d._id===i);e=e.replaceAll(i,`@${(l==null?void 0:l.username)||"unknown"}`)}),e},openTag(e){if(!this.singleLine&&this.checkType(e,"tag")){const t=this.users.find(s=>e.value.indexOf(s.username)!==-1);this.$emit("open-user-tag",t)}},replaceEmojiByElement(e){let t;return this.singleLine?t=16:t=this.containsOnlyEmojis()?28:20,e.replaceAll(/[\p{Extended_Pictographic}\u{1F3FB}-\u{1F3FF}\u{1F9B0}-\u{1F9B3}]/gu,s=>`<span style="font-size: ${t}px">${s}</span>`)},containsOnlyEmojis(){const e=this.content.replace(new RegExp("[\0-\u1EEFf]","g"),""),t=this.content.replace(new RegExp(`[
\rs]+|( )+`,"g"),"");return e.length===t.length}}},jy={class:"vac-image-link-container"},Fy={class:"vac-image-link-message"},Hy=["innerHTML"],Uy=["innerHTML"];function Dy(e,t,s,n,o,r){const i=st("svg-icon");return pe(),xe("div",{class:ft(["vac-format-message-wrapper",{"vac-text-ellipsis":s.singleLine}])},[s.textFormatting.disabled?(pe(),xe("div",{key:1,innerHTML:r.formattedContent},null,8,Uy)):(pe(),xe("div",{key:0,class:ft({"vac-text-ellipsis":s.singleLine})},[(pe(!0),xe(wt,null,ut(r.linkifiedMessage,(l,d)=>(pe(),xe("div",{key:d,class:"vac-format-container"},[(pe(),kt(L5(l.url?"a":"span"),{class:ft({"vac-text-ellipsis":s.singleLine,"vac-text-bold":l.bold,"vac-text-italic":s.deleted||l.italic,"vac-text-strike":l.strike,"vac-text-underline":l.underline,"vac-text-inline-code":!s.singleLine&&l.inline,"vac-text-multiline-code":!s.singleLine&&l.multiline,"vac-text-tag":!s.singleLine&&!s.reply&&l.tag}),href:l.href,target:l.href?s.linkOptions.target:null,rel:l.href?s.linkOptions.rel:null,onClick:c=>r.openTag(l)},{default:tt(()=>[s.deleted?(pe(),xe(wt,{key:0},[ze(e.$slots,s.roomList?"deleted-icon-room_"+s.roomId:"deleted-icon_"+s.messageId,{},()=>[$e(i,{name:"deleted",class:ft(["vac-icon-deleted",{"vac-icon-deleted-room":s.roomList}])},null,8,["class"])]),Sr(" "+at(s.textMessages.MESSAGE_DELETED),1)],64)):l.url&&l.image?(pe(),xe(wt,{key:1},[je("div",jy,[je("div",{class:"vac-image-link",style:At({"background-image":`url('${l.value}')`,height:l.height})},null,4)]),je("div",Fy,[je("span",null,at(l.value),1)])],64)):(pe(),xe("span",{key:2,innerHTML:l.value},null,8,Hy))]),_:2},1032,["class","href","target","rel","onClick"]))]))),128))],2))],2)}var ga=Ut(Ny,[["render",Dy]]);const Yr="__v-click-outside",qp=typeof window<"u",qy=typeof navigator<"u",Vy=qp&&("ontouchstart"in window||qy&&navigator.msMaxTouchPoints>0),$y=Vy?["touchstart"]:["click"],zy=e=>{const t=typeof e=="function";if(!t&&typeof e!="object")throw new Error("v-click-outside: Binding value must be a function or an object");return{handler:t?e:e.handler,middleware:e.middleware||(s=>s),events:e.events||$y,isActive:e.isActive!==!1,detectIframe:e.detectIframe!==!1,capture:Boolean(e.capture)}},Vp=({event:e,handler:t,middleware:s})=>{s(e)&&t(e)},Ky=({el:e,event:t,handler:s,middleware:n})=>{setTimeout(()=>{const{activeElement:o}=document;o&&o.tagName==="IFRAME"&&!e.contains(o)&&Vp({event:t,handler:s,middleware:n})},0)},Yy=({el:e,event:t,handler:s,middleware:n})=>{const o=t.path||t.composedPath&&t.composedPath();(o?o.indexOf(e)<0:!e.contains(t.target))&&Vp({event:t,handler:s,middleware:n})},$p=(e,{value:t})=>{const{events:s,handler:n,middleware:o,isActive:r,detectIframe:i,capture:l}=zy(t);if(!!r){if(e[Yr]=s.map(d=>({event:d,srcTarget:document.documentElement,handler:c=>Yy({el:e,event:c,handler:n,middleware:o}),capture:l})),i){const d={event:"blur",srcTarget:window,handler:c=>Ky({el:e,event:c,handler:n,middleware:o}),capture:l};e[Yr]=[...e[Yr],d]}e[Yr].forEach(({event:d,srcTarget:c,handler:f})=>setTimeout(()=>{!e[Yr]||c.addEventListener(d,f,l)},0))}},zp=e=>{(e[Yr]||[]).forEach(({event:s,srcTarget:n,handler:o,capture:r})=>n.removeEventListener(s,o,r)),delete e[Yr]},Xy=(e,{value:t,oldValue:s})=>{JSON.stringify(t)!==JSON.stringify(s)&&(zp(e),$p(e,{value:t}))},Wy={beforeMount:$p,updated:Xy,unmounted:zp};var lc=qp?Wy:{},Kp=(e,t,s)=>{if(e.typingUsers&&e.typingUsers.length){const n=e.users.filter(o=>{if(o._id!==t&&e.typingUsers.indexOf(o._id)!==-1&&!(o.status&&o.status.state==="offline"))return!0});return n.length?e.users.length===2?s.IS_TYPING:n.map(o=>o.username).join(", ")+" "+s.IS_TYPING:void 0}};function na(e,t){if(!(!t||!t.type))return e.some(s=>t.type.toLowerCase().includes(s))}function $o(e){return na(Qd,e)}function _a(e){return na(Dp,e)}function c0(e){return na(Qd,e)||na(Dp,e)}function cc(e){return na(Py,e)}const Gy={name:"RoomsContent",components:{SvgIcon:is,FormatMessage:ga},directives:{clickOutside:lc},props:{currentUserId:{type:[String,Number],required:!0},room:{type:Object,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},textMessages:{type:Object,required:!0},roomActions:{type:Array,required:!0}},emits:["room-action-handler"],data(){return{roomMenuOpened:null}},computed:{getLastMessage(){const e=this.typingUsers;if(e)return e;const t=this.room.lastMessage.content;if(this.room.users.length<=2)return t;const s=this.room.users.find(n=>n._id===this.room.lastMessage.senderId);return this.room.lastMessage.username?`${this.room.lastMessage.username} - ${t}`:!s||s._id===this.currentUserId?t:`${s.username} - ${t}`},userStatus(){if(!this.room.users||this.room.users.length!==2)return;const e=this.room.users.find(t=>t._id!==this.currentUserId);return e&&e.status?e.status.state:null},typingUsers(){return Kp(this.room,this.currentUserId,this.textMessages)},isMessageCheckmarkVisible(){return!this.typingUsers&&this.room.lastMessage&&!this.room.lastMessage.deleted&&this.room.lastMessage.senderId===this.currentUserId&&(this.room.lastMessage.saved||this.room.lastMessage.distributed||this.room.lastMessage.seen)},formattedDuration(){var e,t;const s=(t=(e=this.room.lastMessage)==null?void 0:e.files)==null?void 0:t[0];if(s){if(!s.duration)return`${s.name}.${s.extension}`;let n=Math.floor(s.duration);return(n-(n%=60))/60+(n>9?":":":0")+n}return""},isAudio(){return this.room.lastMessage.files?cc(this.room.lastMessage.files[0]):!1}},methods:{roomActionHandler(e){this.closeRoomMenu(),this.$emit("room-action-handler",{action:e,roomId:this.room.roomId})},closeRoomMenu(){this.roomMenuOpened=null}}},Zy={class:"vac-room-container"},Qy={class:"vac-name-container vac-text-ellipsis"},Jy={class:"vac-title-container"},e6={class:"vac-room-name vac-text-ellipsis"},t6={key:1,class:"vac-text-date"},s6={key:0},n6={key:1,class:"vac-text-ellipsis"},r6={key:3,class:"vac-text-ellipsis"},o6={class:"vac-room-options-container"},i6={key:0,class:"vac-badge-counter vac-room-badge"},a6={key:0,class:"vac-menu-options"},l6={class:"vac-menu-list"},c6=["onClick"];function u6(e,t,s,n,o,r){const i=st("svg-icon"),l=st("format-message"),d=Wl("click-outside");return pe(),xe("div",Zy,[ze(e.$slots,"room-list-item_"+s.room.roomId,{},()=>[ze(e.$slots,"room-list-avatar_"+s.room.roomId,{},()=>[s.room.avatar?(pe(),xe("div",{key:0,class:"vac-avatar",style:At({"background-image":`url('${s.room.avatar}')`})},null,4)):Ye("",!0)]),je("div",Qy,[je("div",Jy,[r.userStatus?(pe(),xe("div",{key:0,class:ft(["vac-state-circle",{"vac-state-online":r.userStatus==="online"}])},null,2)):Ye("",!0),je("div",e6,at(s.room.roomName),1),s.room.lastMessage?(pe(),xe("div",t6,at(s.room.lastMessage.timestamp),1)):Ye("",!0)]),je("div",{class:ft(["vac-text-last",{"vac-message-new":s.room.lastMessage&&s.room.lastMessage.new&&!r.typingUsers}])},[r.isMessageCheckmarkVisible?(pe(),xe("span",s6,[ze(e.$slots,"checkmark-icon_"+s.room.roomId,{},()=>[$e(i,{name:s.room.lastMessage.distributed?"double-checkmark":"checkmark",param:s.room.lastMessage.seen?"seen":"",class:"vac-icon-check"},null,8,["name","param"])])])):Ye("",!0),s.room.lastMessage&&!s.room.lastMessage.deleted&&r.isAudio?(pe(),xe("div",n6,[ze(e.$slots,"microphone-icon_"+s.room.roomId,{},()=>[$e(i,{name:"microphone",class:"vac-icon-microphone"})]),Sr(" "+at(r.formattedDuration),1)])):s.room.lastMessage?(pe(),kt(l,{key:2,"message-id":s.room.lastMessage._id,"room-id":s.room.roomId,"room-list":!0,content:r.getLastMessage,deleted:!!s.room.lastMessage.deleted&&!r.typingUsers,users:s.room.users,"text-messages":s.textMessages,linkify:!1,"text-formatting":s.textFormatting,"link-options":s.linkOptions,"single-line":!0},Lt({_:2},[ut(e.$slots,(c,f)=>({name:f,fn:tt(u=>[ze(e.$slots,f,Bt(Tt(u)))])}))]),1032,["message-id","room-id","content","deleted","users","text-messages","text-formatting","link-options"])):Ye("",!0),!s.room.lastMessage&&r.typingUsers?(pe(),xe("div",r6,at(r.typingUsers),1)):Ye("",!0),je("div",o6,[s.room.unreadCount?(pe(),xe("div",i6,at(s.room.unreadCount),1)):Ye("",!0),ze(e.$slots,"room-list-options_"+s.room.roomId,{},()=>[s.roomActions.length?(pe(),xe("div",{key:0,class:"vac-svg-button vac-list-room-options",onClick:t[0]||(t[0]=ur(c=>o.roomMenuOpened=s.room.roomId,["stop"]))},[ze(e.$slots,"room-list-options-icon_"+s.room.roomId,{},()=>[$e(i,{name:"dropdown",param:"room"})])])):Ye("",!0),s.roomActions.length?(pe(),kt(Wt,{key:1,name:"vac-slide-left"},{default:tt(()=>[o.roomMenuOpened===s.room.roomId?Dn((pe(),xe("div",a6,[je("div",l6,[(pe(!0),xe(wt,null,ut(s.roomActions,c=>(pe(),xe("div",{key:c.name},[je("div",{class:"vac-menu-item",onClick:ur(f=>r.roomActionHandler(c),["stop"])},at(c.title),9,c6)]))),128))])])),[[d,r.closeRoomMenu]]):Ye("",!0)]),_:1})):Ye("",!0)])])],2)])])])}var d6=Ut(Gy,[["render",u6]]),Du=(e,t,s,n=!1)=>!s||s===""?e:e.filter(o=>n?ja(o[t]).startsWith(ja(s)):ja(o[t]).includes(ja(s)));function ja(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const f6={name:"RoomsList",components:{Loader:Jl,RoomsSearch:y8,RoomContent:d6},props:{currentUserId:{type:[String,Number],required:!0},textMessages:{type:Object,required:!0},showRoomsList:{type:Boolean,required:!0},showSearch:{type:Boolean,required:!0},showAddRoom:{type:Boolean,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},isMobile:{type:Boolean,required:!0},rooms:{type:Array,required:!0},loadingRooms:{type:Boolean,required:!0},roomsLoaded:{type:Boolean,required:!0},room:{type:Object,required:!0},roomActions:{type:Array,required:!0},scrollDistance:{type:Number,required:!0}},emits:["add-room","room-action-handler","loading-more-rooms","fetch-room","fetch-more-rooms"],data(){return{filteredRooms:this.rooms||[],observer:null,showLoader:!0,loadingMoreRooms:!1,selectedRoomId:""}},watch:{rooms:{deep:!0,handler(e,t){this.filteredRooms=e,(e.length!==t.length||this.roomsLoaded)&&(this.loadingMoreRooms=!1)}},loadingRooms(e){e||setTimeout(()=>this.initIntersectionObserver())},loadingMoreRooms(e){this.$emit("loading-more-rooms",e)},roomsLoaded:{immediate:!0,handler(e){e&&(this.loadingMoreRooms=!1,this.loadingRooms||(this.showLoader=!1))}},room:{immediate:!0,handler(e){e&&!this.isMobile&&(this.selectedRoomId=e.roomId)}}},methods:{initIntersectionObserver(){this.observer&&(this.showLoader=!0,this.observer.disconnect());const e=document.querySelector("vue-advanced-chat").shadowRoot.getElementById("infinite-loader-rooms");if(e){const t={root:document.querySelector("vue-advanced-chat").shadowRoot.getElementById("rooms-list"),rootMargin:`${this.scrollDistance}px`,threshold:0};this.observer=new IntersectionObserver(s=>{s[0].isIntersecting&&this.loadMoreRooms()},t),this.observer.observe(e)}},searchRoom(e){this.filteredRooms=Du(this.rooms,"roomName",e.target.value)},openRoom(e){e.roomId===this.room.roomId&&!this.isMobile||(this.isMobile||(this.selectedRoomId=e.roomId),this.$emit("fetch-room",{room:e}))},loadMoreRooms(){if(!this.loadingMoreRooms){if(this.roomsLoaded){this.loadingMoreRooms=!1,this.showLoader=!1;return}this.$emit("fetch-more-rooms"),this.loadingMoreRooms=!0}}}},h6={key:0,class:"vac-rooms-empty"},m6={key:1,id:"rooms-list",class:"vac-room-list"},p6=["id","onClick"],v6={key:0,id:"infinite-loader-rooms"};function g6(e,t,s,n,o,r){const i=st("rooms-search"),l=st("loader"),d=st("room-content");return Dn((pe(),xe("div",{class:ft(["vac-rooms-container",{"vac-rooms-container-full":s.isMobile,"vac-app-border-r":!s.isMobile}])},[ze(e.$slots,"rooms-header"),ze(e.$slots,"rooms-list-search",{},()=>[$e(i,{rooms:s.rooms,"loading-rooms":s.loadingRooms,"text-messages":s.textMessages,"show-search":s.showSearch,"show-add-room":s.showAddRoom,onSearchRoom:r.searchRoom,onAddRoom:t[0]||(t[0]=c=>e.$emit("add-room"))},Lt({_:2},[ut(e.$slots,(c,f)=>({name:f,fn:tt(u=>[ze(e.$slots,f,Bt(Tt(u)))])}))]),1032,["rooms","loading-rooms","text-messages","show-search","show-add-room","onSearchRoom"])]),$e(l,{show:s.loadingRooms,type:"rooms"},Lt({_:2},[ut(e.$slots,(c,f)=>({name:f,fn:tt(u=>[ze(e.$slots,f,Bt(Tt(u)))])}))]),1032,["show"]),!s.loadingRooms&&!s.rooms.length?(pe(),xe("div",h6,[ze(e.$slots,"rooms-empty",{},()=>[Sr(at(s.textMessages.ROOMS_EMPTY),1)])])):Ye("",!0),s.loadingRooms?Ye("",!0):(pe(),xe("div",m6,[(pe(!0),xe(wt,null,ut(o.filteredRooms,c=>(pe(),xe("div",{id:c.roomId,key:c.roomId,class:ft(["vac-room-item",{"vac-room-selected":o.selectedRoomId===c.roomId}]),onClick:f=>r.openRoom(c)},[$e(d,{"current-user-id":s.currentUserId,room:c,"text-formatting":s.textFormatting,"link-options":s.linkOptions,"text-messages":s.textMessages,"room-actions":s.roomActions,onRoomActionHandler:t[1]||(t[1]=f=>e.$emit("room-action-handler",f))},Lt({_:2},[ut(e.$slots,(f,u)=>({name:u,fn:tt(v=>[ze(e.$slots,u,Bt(Tt(v)))])}))]),1032,["current-user-id","room","text-formatting","link-options","text-messages","room-actions"])],10,p6))),128)),$e(Wt,{name:"vac-fade-message"},{default:tt(()=>[s.rooms.length&&!s.loadingRooms?(pe(),xe("div",v6,[$e(l,{show:o.showLoader,infinite:!0,type:"infinite-rooms"},Lt({_:2},[ut(e.$slots,(c,f)=>({name:f,fn:tt(u=>[ze(e.$slots,f,Bt(Tt(u)))])}))]),1032,["show"])])):Ye("",!0)]),_:3})]))],2)),[[Ql,s.showRoomsList]])}var _6=Ut(f6,[["render",g6]]);const b6={name:"RoomHeader",components:{SvgIcon:is},directives:{clickOutside:lc},props:{currentUserId:{type:[String,Number],required:!0},textMessages:{type:Object,required:!0},singleRoom:{type:Boolean,required:!0},showRoomsList:{type:Boolean,required:!0},isMobile:{type:Boolean,required:!0},roomInfoEnabled:{type:Boolean,required:!0},menuActions:{type:Array,required:!0},room:{type:Object,required:!0},messageSelectionEnabled:{type:Boolean,required:!0},messageSelectionActions:{type:Array,required:!0},selectedMessagesTotal:{type:Number,required:!0}},emits:["toggle-rooms-list","room-info","menu-action-handler","cancel-message-selection","message-selection-action-handler"],data(){return{menuOpened:!1,messageSelectionAnimationEnded:!0}},computed:{typingUsers(){return Kp(this.room,this.currentUserId,this.textMessages)},userStatus(){if(!this.room.users||this.room.users.length!==2)return;const e=this.room.users.find(s=>s._id!==this.currentUserId);if(!e.status)return;let t="";return e.status.state==="online"?t=this.textMessages.IS_ONLINE:e.status.lastChanged&&(t=this.textMessages.LAST_SEEN+e.status.lastChanged),t}},watch:{messageSelectionEnabled(e){e?this.messageSelectionAnimationEnded=!1:setTimeout(()=>{this.messageSelectionAnimationEnded=!0},300)}},methods:{menuActionHandler(e){this.closeMenu(),this.$emit("menu-action-handler",e)},closeMenu(){this.menuOpened=!1},messageSelectionActionHandler(e){this.$emit("message-selection-action-handler",e)}}},y6={class:"vac-room-header vac-app-border-b"},w6={class:"vac-room-wrapper"},S6={key:0,class:"vac-room-selection"},E6=["id"],A6=["onClick"],M6={class:"vac-selection-button-count"},x6={class:"vac-text-ellipsis"},R6={class:"vac-room-name vac-text-ellipsis"},T6={key:0,class:"vac-room-info vac-text-ellipsis"},k6={key:1,class:"vac-room-info vac-text-ellipsis"},C6={key:0,class:"vac-menu-options"},O6={class:"vac-menu-list"},I6=["onClick"];function B6(e,t,s,n,o,r){const i=st("svg-icon"),l=Wl("click-outside");return pe(),xe("div",y6,[ze(e.$slots,"room-header",{},()=>[je("div",w6,[$e(Wt,{name:"vac-slide-up"},{default:tt(()=>[s.messageSelectionEnabled?(pe(),xe("div",S6,[(pe(!0),xe(wt,null,ut(s.messageSelectionActions,d=>(pe(),xe("div",{id:d.name,key:d.name},[je("div",{class:"vac-selection-button",onClick:c=>r.messageSelectionActionHandler(d)},[Sr(at(d.title)+" ",1),je("span",M6,at(s.selectedMessagesTotal),1)],8,A6)],8,E6))),128)),je("div",{class:"vac-selection-cancel vac-item-clickable",onClick:t[0]||(t[0]=d=>e.$emit("cancel-message-selection"))},at(s.textMessages.CANCEL_SELECT_MESSAGE),1)])):Ye("",!0)]),_:1}),!s.messageSelectionEnabled&&o.messageSelectionAnimationEnded?(pe(),xe(wt,{key:0},[s.singleRoom?Ye("",!0):(pe(),xe("div",{key:0,class:ft(["vac-svg-button vac-toggle-button",{"vac-rotate-icon-init":!s.isMobile,"vac-rotate-icon":!s.showRoomsList&&!s.isMobile}]),onClick:t[1]||(t[1]=d=>e.$emit("toggle-rooms-list"))},[ze(e.$slots,"toggle-icon",{},()=>[$e(i,{name:"toggle"})])],2)),je("div",{class:ft(["vac-info-wrapper",{"vac-item-clickable":s.roomInfoEnabled}]),onClick:t[2]||(t[2]=d=>e.$emit("room-info"))},[ze(e.$slots,"room-header-avatar",{},()=>[s.room.avatar?(pe(),xe("div",{key:0,class:"vac-avatar",style:At({"background-image":`url('${s.room.avatar}')`})},null,4)):Ye("",!0)]),ze(e.$slots,"room-header-info",{},()=>[je("div",x6,[je("div",R6,at(s.room.roomName),1),r.typingUsers?(pe(),xe("div",T6,at(r.typingUsers),1)):(pe(),xe("div",k6,at(r.userStatus),1))])])],2),s.room.roomId?ze(e.$slots,"room-options",{key:1},()=>[s.menuActions.length?(pe(),xe("div",{key:0,class:"vac-svg-button vac-room-options",onClick:t[3]||(t[3]=d=>o.menuOpened=!o.menuOpened)},[ze(e.$slots,"menu-icon",{},()=>[$e(i,{name:"menu"})])])):Ye("",!0),s.menuActions.length?(pe(),kt(Wt,{key:1,name:"vac-slide-left"},{default:tt(()=>[o.menuOpened?Dn((pe(),xe("div",C6,[je("div",O6,[(pe(!0),xe(wt,null,ut(s.menuActions,d=>(pe(),xe("div",{key:d.name},[je("div",{class:"vac-menu-item",onClick:c=>r.menuActionHandler(d)},at(d.title),9,I6)]))),128))])])),[[l,r.closeMenu]]):Ye("",!0)]),_:1})):Ye("",!0)]):Ye("",!0)],64)):Ye("",!0)])])])}var L6=Ut(b6,[["render",B6]]);function Fa(e){if(typeof e!="string"||!e)throw new Error("expected a non-empty string, got: "+e)}function Dc(e){if(typeof e!="number")throw new Error("expected a number, got: "+e)}const P6=1,N6=1,co="emoji",zo="keyvalue",Jd="favorites",j6="tokens",Yp="tokens",F6="unicode",Xp="count",H6="group",U6="order",Wp="group-order",qu="eTag",wl="url",u0="skinTone",ei="readonly",e1="readwrite",Gp="skinUnicodes",D6="skinUnicodes",q6="https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json",V6="en";function $6(e,t){const s=new Set,n=[];for(const o of e){const r=t(o);s.has(r)||(s.add(r),n.push(o))}return n}function d0(e){return $6(e,t=>t.unicode)}function z6(e){function t(s,n,o){const r=n?e.createObjectStore(s,{keyPath:n}):e.createObjectStore(s);if(o)for(const[i,[l,d]]of Object.entries(o))r.createIndex(i,l,{multiEntry:d});return r}t(zo),t(co,F6,{[Yp]:[j6,!0],[Wp]:[[H6,U6]],[Gp]:[D6,!0]}),t(Jd,void 0,{[Xp]:[""]})}const Vu={},il={},Sl={};function Zp(e,t,s){s.onerror=()=>t(s.error),s.onblocked=()=>t(new Error("IDB blocked")),s.onsuccess=()=>e(s.result)}async function K6(e){const t=await new Promise((s,n)=>{const o=indexedDB.open(e,P6);Vu[e]=o,o.onupgradeneeded=r=>{r.oldVersion<N6&&z6(o.result)},Zp(s,n,o)});return t.onclose=()=>t1(e),t}function Y6(e){return il[e]||(il[e]=K6(e)),il[e]}function zn(e,t,s,n){return new Promise((o,r)=>{const i=e.transaction(t,s,{durability:"relaxed"}),l=typeof t=="string"?i.objectStore(t):t.map(c=>i.objectStore(c));let d;n(l,i,c=>{d=c}),i.oncomplete=()=>o(d),i.onerror=()=>r(i.error)})}function t1(e){const t=Vu[e],s=t&&t.result;if(s){s.close();const n=Sl[e];if(n)for(const o of n)o()}delete Vu[e],delete il[e],delete Sl[e]}function X6(e){return new Promise((t,s)=>{t1(e);const n=indexedDB.deleteDatabase(e);Zp(t,s,n)})}function W6(e,t){let s=Sl[e];s||(s=Sl[e]=[]),s.push(t)}const G6=new Set([":D","XD",":'D","O:)",":X",":P",";P","XP",":L",":Z",":j","8D","XO","8)",":B",":O",":S",":'o","Dx","X(","D:",":C",">0)",":3","</3","<3","\\M/",":E","8#"]);function Bo(e){return e.split(/[\s_]+/).map(t=>!t.match(/\w/)||G6.has(t)?t.toLowerCase():t.replace(/[)(:,]/g,"").replace(//g,"'").toLowerCase()).filter(Boolean)}const Z6=2;function Qp(e){return e.filter(Boolean).map(t=>t.toLowerCase()).filter(t=>t.length>=Z6)}function Q6(e){return e.map(({annotation:s,emoticon:n,group:o,order:r,shortcodes:i,skins:l,tags:d,emoji:c,version:f})=>{const u=[...new Set(Qp([...(i||[]).map(Bo).flat(),...d.map(Bo).flat(),...Bo(s),n]))].sort(),v={annotation:s,group:o,order:r,tags:d,tokens:u,unicode:c,version:f};if(n&&(v.emoticon=n),i&&(v.shortcodes=i),l){v.skinTones=[],v.skinUnicodes=[],v.skinVersions=[];for(const{tone:w,emoji:a,version:j}of l)v.skinTones.push(w),v.skinUnicodes.push(a),v.skinVersions.push(j)}return v})}function Jp(e,t,s,n){e[t](s).onsuccess=o=>n&&n(o.target.result)}function ao(e,t,s){Jp(e,"get",t,s)}function ev(e,t,s){Jp(e,"getAll",t,s)}function s1(e){e.commit&&e.commit()}function J6(e,t){let s=e[0];for(let n=1;n<e.length;n++){const o=e[n];t(s)>t(o)&&(s=o)}return s}function tv(e,t){const s=J6(e,o=>o.length),n=[];for(const o of s)e.some(r=>r.findIndex(i=>t(i)===t(o))===-1)||n.push(o);return n}async function e7(e){return!await n1(e,zo,wl)}async function t7(e,t,s){const[n,o]=await Promise.all([qu,wl].map(r=>n1(e,zo,r)));return n===s&&o===t}async function s7(e,t){return zn(e,co,ei,(n,o,r)=>{let i;const l=()=>{n.getAll(i&&IDBKeyRange.lowerBound(i,!0),50).onsuccess=d=>{const c=d.target.result;for(const f of c)if(i=f.unicode,t(f))return r(f);if(c.length<50)return r();l()}};l()})}async function sv(e,t,s,n){try{const o=Q6(t);await zn(e,[co,zo],e1,([r,i],l)=>{let d,c,f=0;function u(){++f===2&&v()}function v(){if(!(d===n&&c===s)){r.clear();for(const w of o)r.put(w);i.put(n,qu),i.put(s,wl),s1(l)}}ao(i,qu,w=>{d=w,u()}),ao(i,wl,w=>{c=w,u()})})}finally{}}async function n7(e,t){return zn(e,co,ei,(s,n,o)=>{const r=IDBKeyRange.bound([t,0],[t+1,0],!1,!0);ev(s.index(Wp),r,o)})}async function nv(e,t){const s=Qp(Bo(t));return s.length?zn(e,co,ei,(n,o,r)=>{const i=[],l=()=>{i.length===s.length&&d()},d=()=>{const c=tv(i,f=>f.unicode);r(c.sort((f,u)=>f.order<u.order?-1:1))};for(let c=0;c<s.length;c++){const f=s[c],u=c===s.length-1?IDBKeyRange.bound(f,f+"\uFFFF",!1,!0):IDBKeyRange.only(f);ev(n.index(Yp),u,v=>{i.push(v),l()})}}):[]}async function r7(e,t){const s=await nv(e,t);return s.length?s.filter(n=>(n.shortcodes||[]).map(r=>r.toLowerCase()).includes(t.toLowerCase()))[0]||null:await s7(e,o=>(o.shortcodes||[]).includes(t.toLowerCase()))||null}async function o7(e,t){return zn(e,co,ei,(s,n,o)=>ao(s,t,r=>{if(r)return o(r);ao(s.index(Gp),t,i=>o(i||null))}))}function n1(e,t,s){return zn(e,t,ei,(n,o,r)=>ao(n,s,r))}function i7(e,t,s,n){return zn(e,t,e1,(o,r)=>{o.put(n,s),s1(r)})}function a7(e,t){return zn(e,Jd,e1,(s,n)=>ao(s,t,o=>{s.put((o||0)+1,t),s1(n)}))}function l7(e,t,s){return s===0?[]:zn(e,[Jd,co],ei,([n,o],r,i)=>{const l=[];n.index(Xp).openCursor(void 0,"prev").onsuccess=d=>{const c=d.target.result;if(!c)return i(l);function f(w){if(l.push(w),l.length===s)return i(l);c.continue()}const u=c.primaryKey,v=t.byName(u);if(v)return f(v);ao(o,u,w=>{if(w)return f(w);c.continue()})}})}const Ha="";function c7(e,t){const s=new Map;for(const o of e){const r=t(o);for(const i of r){let l=s;for(let c=0;c<i.length;c++){const f=i.charAt(c);let u=l.get(f);u||(u=new Map,l.set(f,u)),l=u}let d=l.get(Ha);d||(d=[],l.set(Ha,d)),d.push(o)}}return(o,r)=>{let i=s;for(let c=0;c<o.length;c++){const f=o.charAt(c),u=i.get(f);if(u)i=u;else return[]}if(r)return i.get(Ha)||[];const l=[],d=[i];for(;d.length;){const f=[...d.shift().entries()].sort((u,v)=>u[0]<v[0]?-1:1);for(const[u,v]of f)u===Ha?l.push(...v):d.push(v)}return l}}const u7=["name","url"];function d7(e){const t=e&&Array.isArray(e),s=t&&e.length&&(!e[0]||u7.some(n=>!(n in e[0])));if(!t||s)throw new Error("Custom emojis are in the wrong format")}function f0(e){d7(e);const t=(v,w)=>v.name.toLowerCase()<w.name.toLowerCase()?-1:1,s=e.sort(t),o=c7(e,v=>[...new Set((v.shortcodes||[]).map(w=>Bo(w)).flat())]),r=v=>o(v,!0),i=v=>o(v,!1),l=v=>{const w=Bo(v),a=w.map((j,N)=>(N<w.length-1?r:i)(j));return tv(a,j=>j.name).sort(t)},d=new Map,c=new Map;for(const v of e){c.set(v.name.toLowerCase(),v);for(const w of v.shortcodes||[])d.set(w.toLowerCase(),v)}return{all:s,search:l,byShortcode:v=>d.get(v.toLowerCase()),byName:v=>c.get(v.toLowerCase())}}function hi(e){if(!e)return e;if(delete e.tokens,e.skinTones){const t=e.skinTones.length;e.skins=Array(t);for(let s=0;s<t;s++)e.skins[s]={tone:e.skinTones[s],unicode:e.skinUnicodes[s],version:e.skinVersions[s]};delete e.skinTones,delete e.skinUnicodes,delete e.skinVersions}return e}function rv(e){e||console.warn("emoji-picker-element is more efficient if the dataSource server exposes an ETag header.")}const f7=["annotation","emoji","group","order","tags","version"];function h7(e){if(!e||!Array.isArray(e)||!e[0]||typeof e[0]!="object"||f7.some(t=>!(t in e[0])))throw new Error("Emoji data is in the wrong format")}function ov(e,t){if(Math.floor(e.status/100)!==2)throw new Error("Failed to fetch: "+t+":  "+e.status)}async function m7(e){const t=await fetch(e,{method:"HEAD"});ov(t,e);const s=t.headers.get("etag");return rv(s),s}async function $u(e){const t=await fetch(e);ov(t,e);const s=t.headers.get("etag");rv(s);const n=await t.json();return h7(n),[s,n]}function p7(e){for(var t="",s=new Uint8Array(e),n=s.byteLength,o=-1;++o<n;)t+=String.fromCharCode(s[o]);return t}function v7(e){for(var t=e.length,s=new ArrayBuffer(t),n=new Uint8Array(s),o=-1;++o<t;)n[o]=e.charCodeAt(o);return s}async function iv(e){const t=JSON.stringify(e),s=v7(t),n=await crypto.subtle.digest("SHA-1",s),o=p7(n);return btoa(o)}async function g7(e,t){let s,n=await m7(t);if(!n){const o=await $u(t);n=o[0],s=o[1],n||(n=await iv(s))}await t7(e,t,n)||(s||(s=(await $u(t))[1]),await sv(e,s,t,n))}async function _7(e,t){let[s,n]=await $u(t);s||(s=await iv(n)),await sv(e,n,t,s)}class av{constructor({dataSource:t=q6,locale:s=V6,customEmoji:n=[]}={}){this.dataSource=t,this.locale=s,this._dbName=`emoji-picker-element-${this.locale}`,this._db=void 0,this._lazyUpdate=void 0,this._custom=f0(n),this._clear=this._clear.bind(this),this._ready=this._init()}async _init(){const t=this._db=await Y6(this._dbName);W6(this._dbName,this._clear);const s=this.dataSource;await e7(t)?await _7(t,s):this._lazyUpdate=g7(t,s)}async ready(){const t=async()=>(this._ready||(this._ready=this._init()),this._ready);await t(),this._db||await t()}async getEmojiByGroup(t){return Dc(t),await this.ready(),d0(await n7(this._db,t)).map(hi)}async getEmojiBySearchQuery(t){Fa(t),await this.ready();const s=this._custom.search(t),n=d0(await nv(this._db,t)).map(hi);return[...s,...n]}async getEmojiByShortcode(t){Fa(t),await this.ready();const s=this._custom.byShortcode(t);return s||hi(await r7(this._db,t))}async getEmojiByUnicodeOrName(t){Fa(t),await this.ready();const s=this._custom.byName(t);return s||hi(await o7(this._db,t))}async getPreferredSkinTone(){return await this.ready(),await n1(this._db,zo,u0)||0}async setPreferredSkinTone(t){return Dc(t),await this.ready(),i7(this._db,zo,u0,t)}async incrementFavoriteEmojiCount(t){return Fa(t),await this.ready(),a7(this._db,t)}async getTopFavoriteEmoji(t){return Dc(t),await this.ready(),(await l7(this._db,this._custom,t)).map(hi)}set customEmoji(t){this._custom=f0(t)}get customEmoji(){return this._custom.all}async _shutdown(){await this.ready();try{await this._lazyUpdate}catch{}}_clear(){this._db=this._ready=this._lazyUpdate=void 0}async close(){await this._shutdown(),await t1(this._dbName)}async delete(){await this._shutdown(),await X6(this._dbName)}}function ra(){}function lv(e){return e()}function h0(){return Object.create(null)}function ba(e){e.forEach(lv)}function cv(e){return typeof e=="function"}function b7(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let Ua;function El(e,t){return Ua||(Ua=document.createElement("a")),Ua.href=t,e===Ua.href}function y7(e){return Object.keys(e).length===0}function w7(e){return e&&cv(e.destroy)?e.destroy:ra}function jt(e,t){e.appendChild(t)}function cn(e,t,s){e.insertBefore(t,s||null)}function un(e){e.parentNode.removeChild(e)}function Ot(e){return document.createElement(e)}function Sn(e){return document.createTextNode(e)}function Js(e,t,s,n){return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s,n)}function ge(e,t,s){s==null?e.removeAttribute(t):e.getAttribute(t)!==s&&e.setAttribute(t,s)}function En(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function m0(e,t){e.value=t==null?"":t}function Jn(e,t,s,n){s===null?e.style.removeProperty(t):e.style.setProperty(t,s,n?"important":"")}let r1;function Ni(e){r1=e}const wi=[],xo=[],al=[],p0=[],uv=Promise.resolve();let zu=!1;function dv(){zu||(zu=!0,uv.then(fv))}function S7(){return dv(),uv}function Ku(e){al.push(e)}const qc=new Set;let Da=0;function fv(){const e=r1;do{for(;Da<wi.length;){const t=wi[Da];Da++,Ni(t),E7(t.$$)}for(Ni(null),wi.length=0,Da=0;xo.length;)xo.pop()();for(let t=0;t<al.length;t+=1){const s=al[t];qc.has(s)||(qc.add(s),s())}al.length=0}while(wi.length);for(;p0.length;)p0.pop()();zu=!1,qc.clear(),Ni(e)}function E7(e){if(e.fragment!==null){e.update(),ba(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Ku)}}const A7=new Set;function M7(e,t){e&&e.i&&(A7.delete(e),e.i(t))}const x7=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function Si(e,t){e.d(1),t.delete(e.key)}function Ei(e,t,s,n,o,r,i,l,d,c,f,u){let v=e.length,w=r.length,a=v;const j={};for(;a--;)j[e[a].key]=a;const N=[],P=new Map,g=new Map;for(a=w;a--;){const q=u(o,r,a),_=s(q);let k=i.get(_);k?n&&k.p(q,t):(k=c(_,q),k.c()),P.set(_,N[a]=k),_ in j&&g.set(_,Math.abs(a-j[_]))}const I=new Set,F=new Set;function O(q){M7(q,1),q.m(l,f),i.set(q.key,q),f=q.first,w--}for(;v&&w;){const q=N[w-1],_=e[v-1],k=q.key,R=_.key;q===_?(f=q.first,v--,w--):P.has(R)?!i.has(k)||I.has(k)?O(q):F.has(R)?v--:g.get(k)>g.get(R)?(F.add(k),O(q)):(I.add(R),v--):(d(_,i),v--)}for(;v--;){const q=e[v];P.has(q.key)||d(q,i)}for(;w;)O(N[w-1]);return N}function R7(e,t,s,n){const{fragment:o,on_mount:r,on_destroy:i,after_update:l}=e.$$;o&&o.m(t,s),n||Ku(()=>{const d=r.map(lv).filter(cv);i?i.push(...d):ba(d),e.$$.on_mount=[]}),l.forEach(Ku)}function T7(e,t){const s=e.$$;s.fragment!==null&&(ba(s.on_destroy),s.fragment&&s.fragment.d(t),s.on_destroy=s.fragment=null,s.ctx=[])}function k7(e,t){e.$$.dirty[0]===-1&&(wi.push(e),dv(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function C7(e,t,s,n,o,r,i,l=[-1]){const d=r1;Ni(e);const c=e.$$={fragment:null,ctx:null,props:r,update:ra,not_equal:o,bound:h0(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:h0(),dirty:l,skip_bound:!1,root:t.target||d.$$.root};i&&i(c.root);let f=!1;c.ctx=s?s(e,t.props||{},(u,v,...w)=>{const a=w.length?w[0]:v;return c.ctx&&o(c.ctx[u],c.ctx[u]=a)&&(!c.skip_bound&&c.bound[u]&&c.bound[u](a),f&&k7(e,u)),v}):[],c.update(),f=!0,ba(c.before_update),c.fragment=n?n(c.ctx):!1,t.target&&(c.fragment&&c.fragment.c(),R7(e,t.target,void 0,void 0),fv()),Ni(d)}class O7{$destroy(){T7(this,1),this.$destroy=ra}$on(t,s){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(s),()=>{const o=n.indexOf(s);o!==-1&&n.splice(o,1)}}$set(t){this.$$set&&!y7(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const hv=[[-1,"\u2728","custom"],[0,"\u{1F600}","smileys-emotion"],[1,"\u{1F44B}","people-body"],[3,"\u{1F431}","animals-nature"],[4,"\u{1F34E}","food-drink"],[5,"\u{1F3E0}\uFE0F","travel-places"],[6,"\u26BD","activities"],[7,"\u{1F4DD}","objects"],[8,"\u26D4\uFE0F","symbols"],[9,"\u{1F3C1}","flags"]].map(([e,t,s])=>({id:e,emoji:t,name:s})),qa=hv.slice(1),I7=hv[0],B7=2,v0=6,mv=typeof requestIdleCallback=="function"?requestIdleCallback:setTimeout;function g0(e){return e.unicode.includes("\u200D")}const L7={"\u{1FAE0}":14,"\u{1F972}":13.1,"\u{1F97B}":12.1,"\u{1F970}":11,"\u{1F929}":5,"\u{1F471}\u200D\u2640\uFE0F":4,"\u{1F923}":3,"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F":2,"\u{1F600}":1,"\u{1F610}\uFE0F":.7,"\u{1F603}":.6},P7=1e3,N7="\u{1F590}\uFE0F",j7=8,F7=["\u{1F60A}","\u{1F612}","\u2665\uFE0F","\u{1F44D}\uFE0F","\u{1F60D}","\u{1F602}","\u{1F62D}","\u263A\uFE0F","\u{1F614}","\u{1F629}","\u{1F60F}","\u{1F495}","\u{1F64C}","\u{1F618}"],pv='"Twemoji Mozilla","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji","EmojiOne Color","Android Emoji",sans-serif',H7=(e,t)=>e<t?-1:e>t?1:0,_0=(e,t)=>{const s=document.createElement("canvas");s.width=s.height=1;const n=s.getContext("2d");return n.textBaseline="top",n.font=`100px ${pv}`,n.fillStyle=t,n.scale(.01,.01),n.fillText(e,0,0),n.getImageData(0,0,1,1).data},U7=(e,t)=>{const s=[...e].join(","),n=[...t].join(",");return s===n&&!s.startsWith("0,0,0,")};function D7(e){const t=_0(e,"#000"),s=_0(e,"#fff");return t&&s&&U7(t,s)}function q7(){const e=Object.entries(L7);try{for(const[t,s]of e)if(D7(t))return s}catch{}finally{}return e[0][1]}const Vc=new Promise(e=>mv(()=>e(q7()))),Yu=new Map,V7="\uFE0F",$7="\uD83C",z7="\u200D",K7=127995,Y7=57339;function X7(e,t){if(t===0)return e;const s=e.indexOf(z7);return s!==-1?e.substring(0,s)+String.fromCodePoint(K7+t-1)+e.substring(s):(e.endsWith(V7)&&(e=e.substring(0,e.length-1)),e+$7+String.fromCodePoint(Y7+t-1))}function er(e){e.preventDefault(),e.stopPropagation()}function $c(e,t,s){return t+=e?-1:1,t<0?t=s.length-1:t>=s.length&&(t=0),t}function vv(e,t){const s=new Set,n=[];for(const o of e){const r=t(o);s.has(r)||(s.add(r),n.push(o))}return n}function W7(e,t){const s=n=>{const o={};for(const r of n)typeof r.tone=="number"&&r.version<=t&&(o[r.tone]=r.unicode);return o};return e.map(({unicode:n,skins:o,shortcodes:r,url:i,name:l,category:d})=>({unicode:n,name:l,shortcodes:r,url:i,category:d,id:n||l,skins:o&&s(o),title:(r||[]).join(", ")}))}const ll=requestAnimationFrame;let G7=typeof ResizeObserver=="function";function Z7(e,t){let s;return G7?(s=new ResizeObserver(n=>t(n[0].contentRect.width)),s.observe(e)):ll(()=>t(e.getBoundingClientRect().width)),{destroy(){s&&s.disconnect()}}}function b0(e){{const t=document.createRange();return t.selectNode(e.firstChild),t.getBoundingClientRect().width}}let zc;function Q7(e,t,s){for(const n of e){const o=s(n),r=b0(o);typeof zc>"u"&&(zc=b0(t));const i=r/1.8<zc;Yu.set(n.unicode,i)}}function J7(e){return vv(e,t=>t)}const{Map:Ai}=x7;function y0(e,t,s){const n=e.slice();return n[63]=t[s],n[65]=s,n}function w0(e,t,s){const n=e.slice();return n[66]=t[s],n[65]=s,n}function S0(e,t,s){const n=e.slice();return n[63]=t[s],n[65]=s,n}function E0(e,t,s){const n=e.slice();return n[69]=t[s],n}function A0(e,t,s){const n=e.slice();return n[72]=t[s],n[65]=s,n}function M0(e,t){let s,n=t[72]+"",o,r,i,l,d,c;return{key:e,first:null,c(){s=Ot("div"),o=Sn(n),ge(s,"id",r="skintone-"+t[65]),ge(s,"class",i="emoji hide-focus "+(t[65]===t[20]?"active":"")),ge(s,"aria-selected",l=t[65]===t[20]),ge(s,"role","option"),ge(s,"title",d=t[0].skinTones[t[65]]),ge(s,"tabindex","-1"),ge(s,"aria-label",c=t[0].skinTones[t[65]]),this.first=s},m(f,u){cn(f,s,u),jt(s,o)},p(f,u){t=f,u[0]&512&&n!==(n=t[72]+"")&&En(o,n),u[0]&512&&r!==(r="skintone-"+t[65])&&ge(s,"id",r),u[0]&1049088&&i!==(i="emoji hide-focus "+(t[65]===t[20]?"active":""))&&ge(s,"class",i),u[0]&1049088&&l!==(l=t[65]===t[20])&&ge(s,"aria-selected",l),u[0]&513&&d!==(d=t[0].skinTones[t[65]])&&ge(s,"title",d),u[0]&513&&c!==(c=t[0].skinTones[t[65]])&&ge(s,"aria-label",c)},d(f){f&&un(s)}}}function x0(e,t){let s,n,o=t[69].emoji+"",r,i,l,d,c,f,u;function v(){return t[49](t[69])}return{key:e,first:null,c(){s=Ot("button"),n=Ot("div"),r=Sn(o),ge(n,"class","nav-emoji emoji"),ge(s,"role","tab"),ge(s,"class","nav-button"),ge(s,"aria-controls",i="tab-"+t[69].id),ge(s,"aria-label",l=t[0].categories[t[69].name]),ge(s,"aria-selected",d=!t[4]&&t[13].id===t[69].id),ge(s,"title",c=t[0].categories[t[69].name]),this.first=s},m(w,a){cn(w,s,a),jt(s,n),jt(n,r),f||(u=Js(s,"click",v),f=!0)},p(w,a){t=w,a[0]&4096&&o!==(o=t[69].emoji+"")&&En(r,o),a[0]&4096&&i!==(i="tab-"+t[69].id)&&ge(s,"aria-controls",i),a[0]&4097&&l!==(l=t[0].categories[t[69].name])&&ge(s,"aria-label",l),a[0]&12304&&d!==(d=!t[4]&&t[13].id===t[69].id)&&ge(s,"aria-selected",d),a[0]&4097&&c!==(c=t[0].categories[t[69].name])&&ge(s,"title",c)},d(w){w&&un(s),f=!1,u()}}}function ew(e){let t,s;return{c(){t=Ot("img"),ge(t,"class","custom-emoji"),El(t.src,s=e[63].url)||ge(t,"src",s),ge(t,"alt",""),ge(t,"loading","lazy")},m(n,o){cn(n,t,o)},p(n,o){o[0]&32768&&!El(t.src,s=n[63].url)&&ge(t,"src",s)},d(n){n&&un(t)}}}function tw(e){let t=e[27](e[63],e[8])+"",s;return{c(){s=Sn(t)},m(n,o){cn(n,s,o)},p(n,o){o[0]&33024&&t!==(t=n[27](n[63],n[8])+"")&&En(s,t)},d(n){n&&un(s)}}}function R0(e,t){let s,n,o,r,i,l,d;function c(v,w){return v[63].unicode?tw:ew}let f=c(t),u=f(t);return{key:e,first:null,c(){s=Ot("button"),u.c(),ge(s,"role",n=t[4]?"option":"menuitem"),ge(s,"aria-selected",o=t[4]?t[65]==t[5]:""),ge(s,"aria-label",r=t[28](t[63],t[8])),ge(s,"title",i=t[63].title),ge(s,"class",l="emoji "+(t[4]&&t[65]===t[5]?"active":"")),ge(s,"id",d="emo-"+t[63].id),this.first=s},m(v,w){cn(v,s,w),u.m(s,null)},p(v,w){t=v,f===(f=c(t))&&u?u.p(t,w):(u.d(1),u=f(t),u&&(u.c(),u.m(s,null))),w[0]&16&&n!==(n=t[4]?"option":"menuitem")&&ge(s,"role",n),w[0]&32816&&o!==(o=t[4]?t[65]==t[5]:"")&&ge(s,"aria-selected",o),w[0]&33024&&r!==(r=t[28](t[63],t[8]))&&ge(s,"aria-label",r),w[0]&32768&&i!==(i=t[63].title)&&ge(s,"title",i),w[0]&32816&&l!==(l="emoji "+(t[4]&&t[65]===t[5]?"active":""))&&ge(s,"class",l),w[0]&32768&&d!==(d="emo-"+t[63].id)&&ge(s,"id",d)},d(v){v&&un(s),u.d()}}}function T0(e,t){let s,n=(t[4]?t[0].searchResultsLabel:t[66].category?t[66].category:t[15].length>1?t[0].categories.custom:t[0].categories[t[13].name])+"",o,r,i,l,d=[],c=new Ai,f,u,v,w=t[66].emojis;const a=j=>j[63].id;for(let j=0;j<w.length;j+=1){let N=S0(t,w,j),P=a(N);c.set(P,d[j]=R0(P,N))}return{key:e,first:null,c(){s=Ot("div"),o=Sn(n),l=Ot("div");for(let j=0;j<d.length;j+=1)d[j].c();ge(s,"id",r="menu-label-"+t[65]),ge(s,"class",i="category "+(t[15].length===1&&t[15][0].category===""?"gone":"")),ge(s,"aria-hidden","true"),ge(l,"class","emoji-menu"),ge(l,"role",f=t[4]?"listbox":"menu"),ge(l,"aria-labelledby",u="menu-label-"+t[65]),ge(l,"id",v=t[4]?"search-results":""),this.first=s},m(j,N){cn(j,s,N),jt(s,o),cn(j,l,N);for(let P=0;P<d.length;P+=1)d[P].m(l,null)},p(j,N){t=j,N[0]&40977&&n!==(n=(t[4]?t[0].searchResultsLabel:t[66].category?t[66].category:t[15].length>1?t[0].categories.custom:t[0].categories[t[13].name])+"")&&En(o,n),N[0]&32768&&r!==(r="menu-label-"+t[65])&&ge(s,"id",r),N[0]&32768&&i!==(i="category "+(t[15].length===1&&t[15][0].category===""?"gone":""))&&ge(s,"class",i),N[0]&402686256&&(w=t[66].emojis,d=Ei(d,N,a,1,t,w,c,l,Si,R0,null,S0)),N[0]&16&&f!==(f=t[4]?"listbox":"menu")&&ge(l,"role",f),N[0]&32768&&u!==(u="menu-label-"+t[65])&&ge(l,"aria-labelledby",u),N[0]&16&&v!==(v=t[4]?"search-results":"")&&ge(l,"id",v)},d(j){j&&un(s),j&&un(l);for(let N=0;N<d.length;N+=1)d[N].d()}}}function sw(e){let t,s;return{c(){t=Ot("img"),ge(t,"class","custom-emoji"),El(t.src,s=e[63].url)||ge(t,"src",s),ge(t,"alt",""),ge(t,"loading","lazy")},m(n,o){cn(n,t,o)},p(n,o){o[0]&1024&&!El(t.src,s=n[63].url)&&ge(t,"src",s)},d(n){n&&un(t)}}}function nw(e){let t=e[27](e[63],e[8])+"",s;return{c(){s=Sn(t)},m(n,o){cn(n,s,o)},p(n,o){o[0]&1280&&t!==(t=n[27](n[63],n[8])+"")&&En(s,t)},d(n){n&&un(s)}}}function k0(e,t){let s,n,o,r;function i(c,f){return c[63].unicode?nw:sw}let l=i(t),d=l(t);return{key:e,first:null,c(){s=Ot("button"),d.c(),ge(s,"role","menuitem"),ge(s,"aria-label",n=t[28](t[63],t[8])),ge(s,"title",o=t[63].title),ge(s,"class","emoji"),ge(s,"id",r="fav-"+t[63].id),this.first=s},m(c,f){cn(c,s,f),d.m(s,null)},p(c,f){t=c,l===(l=i(t))&&d?d.p(t,f):(d.d(1),d=l(t),d&&(d.c(),d.m(s,null))),f[0]&1280&&n!==(n=t[28](t[63],t[8]))&&ge(s,"aria-label",n),f[0]&1024&&o!==(o=t[63].title)&&ge(s,"title",o),f[0]&1024&&r!==(r="fav-"+t[63].id)&&ge(s,"id",r)},d(c){c&&un(s),d.d()}}}function rw(e){let t,s,n,o,r,i,l,d,c,f=e[0].searchLabel+"",u,v,w=e[0].searchDescription+"",a,j,N,P,g,I,F,O=e[0].skinToneDescription+"",q,_,k=[],R=new Ai,y,A,p,S,x,M=[],D=new Ai,Y,V,X,b,T,ie,ce,Te,te=[],ve=new Ai,oe,Re,Oe,Se,Fe,Ke=[],E=new Ai,B,$,W,Z,ue,de,re=e[9];const fe=he=>he[72];for(let he=0;he<re.length;he+=1){let Ee=A0(e,re,he),ne=fe(Ee);R.set(ne,k[he]=M0(ne,Ee))}let J=e[12];const ke=he=>he[69].id;for(let he=0;he<J.length;he+=1){let Ee=E0(e,J,he),ne=ke(Ee);D.set(ne,M[he]=x0(ne,Ee))}let _e=e[15];const Ce=he=>he[66].category;for(let he=0;he<_e.length;he+=1){let Ee=w0(e,_e,he),ne=Ce(Ee);ve.set(ne,te[he]=T0(ne,Ee))}let ye=e[10];const He=he=>he[63].id;for(let he=0;he<ye.length;he+=1){let Ee=y0(e,ye,he),ne=He(Ee);E.set(ne,Ke[he]=k0(ne,Ee))}return{c(){t=Ot("section"),s=Ot("div"),n=Ot("div"),o=Ot("div"),r=Ot("input"),c=Ot("label"),u=Sn(f),v=Ot("span"),a=Sn(w),j=Ot("div"),N=Ot("button"),P=Sn(e[21]),F=Ot("span"),q=Sn(O),_=Ot("div");for(let he=0;he<k.length;he+=1)k[he].c();x=Ot("div");for(let he=0;he<M.length;he+=1)M[he].c();V=Ot("div"),X=Ot("div"),b=Ot("div"),T=Sn(e[18]),ce=Ot("div"),Te=Ot("div");for(let he=0;he<te.length;he+=1)te[he].c();Fe=Ot("div");for(let he=0;he<Ke.length;he+=1)Ke[he].c();W=Ot("button"),W.textContent="\u{1F600}",ge(s,"class","pad-top"),ge(r,"id","search"),ge(r,"class","search"),ge(r,"type","search"),ge(r,"role","combobox"),ge(r,"enterkeyhint","search"),ge(r,"placeholder",i=e[0].searchLabel),ge(r,"autocapitalize","none"),ge(r,"autocomplete","off"),ge(r,"spellcheck","true"),ge(r,"aria-expanded",l=!!(e[4]&&e[1].length)),ge(r,"aria-controls","search-results"),ge(r,"aria-describedby","search-description"),ge(r,"aria-autocomplete","list"),ge(r,"aria-activedescendant",d=e[26]?`emo-${e[26]}`:""),ge(c,"class","sr-only"),ge(c,"for","search"),ge(v,"id","search-description"),ge(v,"class","sr-only"),ge(o,"class","search-wrapper"),ge(N,"id","skintone-button"),ge(N,"class",g="emoji "+(e[6]?"hide-focus":"")),ge(N,"aria-label",e[23]),ge(N,"title",e[23]),ge(N,"aria-describedby","skintone-description"),ge(N,"aria-haspopup","listbox"),ge(N,"aria-expanded",e[6]),ge(N,"aria-controls","skintone-list"),ge(j,"class",I="skintone-button-wrapper "+(e[19]?"expanded":"")),ge(F,"id","skintone-description"),ge(F,"class","sr-only"),ge(_,"id","skintone-list"),ge(_,"class",y="skintone-list "+(e[6]?"":"hidden no-animate")),Jn(_,"transform","translateY("+(e[6]?0:"calc(-1 * var(--num-skintones) * var(--total-emoji-size))")+")"),ge(_,"role","listbox"),ge(_,"aria-label",A=e[0].skinTonesLabel),ge(_,"aria-activedescendant",p="skintone-"+e[20]),ge(_,"aria-hidden",S=!e[6]),ge(n,"class","search-row"),ge(x,"class","nav"),ge(x,"role","tablist"),Jn(x,"grid-template-columns","repeat("+e[12].length+", 1fr)"),ge(x,"aria-label",Y=e[0].categoriesLabel),ge(X,"class","indicator"),Jn(X,"transform","translateX("+(e[24]?-1:1)*e[11]*100+"%)"),ge(V,"class","indicator-wrapper"),ge(b,"class",ie="message "+(e[18]?"":"gone")),ge(b,"role","alert"),ge(b,"aria-live","polite"),ge(ce,"class",oe="tabpanel "+(!e[14]||e[18]?"gone":"")),ge(ce,"role",Re=e[4]?"region":"tabpanel"),ge(ce,"aria-label",Oe=e[4]?e[0].searchResultsLabel:e[0].categories[e[13].name]),ge(ce,"id",Se=e[4]?"":`tab-${e[13].id}`),ge(ce,"tabindex","0"),ge(Fe,"class",B="favorites emoji-menu "+(e[18]?"gone":"")),ge(Fe,"role","menu"),ge(Fe,"aria-label",$=e[0].favoritesLabel),Jn(Fe,"padding-inline-end",e[25]+"px"),ge(W,"aria-hidden","true"),ge(W,"tabindex","-1"),ge(W,"class","abs-pos hidden emoji"),ge(t,"class","picker"),ge(t,"aria-label",Z=e[0].regionLabel),ge(t,"style",e[22])},m(he,Ee){cn(he,t,Ee),jt(t,s),jt(t,n),jt(n,o),jt(o,r),m0(r,e[2]),jt(o,c),jt(c,u),jt(o,v),jt(v,a),jt(n,j),jt(j,N),jt(N,P),jt(n,F),jt(F,q),jt(n,_);for(let ne=0;ne<k.length;ne+=1)k[ne].m(_,null);e[48](_),jt(t,x);for(let ne=0;ne<M.length;ne+=1)M[ne].m(x,null);jt(t,V),jt(V,X),jt(t,b),jt(b,T),jt(t,ce),jt(ce,Te);for(let ne=0;ne<te.length;ne+=1)te[ne].m(Te,null);e[50](ce),jt(t,Fe);for(let ne=0;ne<Ke.length;ne+=1)Ke[ne].m(Fe,null);jt(t,W),e[51](W),e[52](t),ue||(de=[Js(r,"input",e[47]),Js(r,"keydown",e[30]),Js(N,"click",e[35]),Js(_,"focusout",e[38]),Js(_,"click",e[34]),Js(_,"keydown",e[36]),Js(_,"keyup",e[37]),Js(x,"keydown",e[32]),w7(e[29].call(null,Te)),Js(ce,"click",e[33]),Js(Fe,"click",e[33])],ue=!0)},p(he,Ee){Ee[0]&1&&i!==(i=he[0].searchLabel)&&ge(r,"placeholder",i),Ee[0]&18&&l!==(l=!!(he[4]&&he[1].length))&&ge(r,"aria-expanded",l),Ee[0]&67108864&&d!==(d=he[26]?`emo-${he[26]}`:"")&&ge(r,"aria-activedescendant",d),Ee[0]&4&&m0(r,he[2]),Ee[0]&1&&f!==(f=he[0].searchLabel+"")&&En(u,f),Ee[0]&1&&w!==(w=he[0].searchDescription+"")&&En(a,w),Ee[0]&2097152&&En(P,he[21]),Ee[0]&64&&g!==(g="emoji "+(he[6]?"hide-focus":""))&&ge(N,"class",g),Ee[0]&8388608&&ge(N,"aria-label",he[23]),Ee[0]&8388608&&ge(N,"title",he[23]),Ee[0]&64&&ge(N,"aria-expanded",he[6]),Ee[0]&524288&&I!==(I="skintone-button-wrapper "+(he[19]?"expanded":""))&&ge(j,"class",I),Ee[0]&1&&O!==(O=he[0].skinToneDescription+"")&&En(q,O),Ee[0]&1049089&&(re=he[9],k=Ei(k,Ee,fe,1,he,re,R,_,Si,M0,null,A0)),Ee[0]&64&&y!==(y="skintone-list "+(he[6]?"":"hidden no-animate"))&&ge(_,"class",y),Ee[0]&64&&Jn(_,"transform","translateY("+(he[6]?0:"calc(-1 * var(--num-skintones) * var(--total-emoji-size))")+")"),Ee[0]&1&&A!==(A=he[0].skinTonesLabel)&&ge(_,"aria-label",A),Ee[0]&1048576&&p!==(p="skintone-"+he[20])&&ge(_,"aria-activedescendant",p),Ee[0]&64&&S!==(S=!he[6])&&ge(_,"aria-hidden",S),Ee[0]&12305|Ee[1]&1&&(J=he[12],M=Ei(M,Ee,ke,1,he,J,D,x,Si,x0,null,E0)),Ee[0]&4096&&Jn(x,"grid-template-columns","repeat("+he[12].length+", 1fr)"),Ee[0]&1&&Y!==(Y=he[0].categoriesLabel)&&ge(x,"aria-label",Y),Ee[0]&16779264&&Jn(X,"transform","translateX("+(he[24]?-1:1)*he[11]*100+"%)"),Ee[0]&262144&&En(T,he[18]),Ee[0]&262144&&ie!==(ie="message "+(he[18]?"":"gone"))&&ge(b,"class",ie),Ee[0]&402694449&&(_e=he[15],te=Ei(te,Ee,Ce,1,he,_e,ve,Te,Si,T0,null,w0)),Ee[0]&278528&&oe!==(oe="tabpanel "+(!he[14]||he[18]?"gone":""))&&ge(ce,"class",oe),Ee[0]&16&&Re!==(Re=he[4]?"region":"tabpanel")&&ge(ce,"role",Re),Ee[0]&8209&&Oe!==(Oe=he[4]?he[0].searchResultsLabel:he[0].categories[he[13].name])&&ge(ce,"aria-label",Oe),Ee[0]&8208&&Se!==(Se=he[4]?"":`tab-${he[13].id}`)&&ge(ce,"id",Se),Ee[0]&402654464&&(ye=he[10],Ke=Ei(Ke,Ee,He,1,he,ye,E,Fe,Si,k0,null,y0)),Ee[0]&262144&&B!==(B="favorites emoji-menu "+(he[18]?"gone":""))&&ge(Fe,"class",B),Ee[0]&1&&$!==($=he[0].favoritesLabel)&&ge(Fe,"aria-label",$),Ee[0]&33554432&&Jn(Fe,"padding-inline-end",he[25]+"px"),Ee[0]&1&&Z!==(Z=he[0].regionLabel)&&ge(t,"aria-label",Z),Ee[0]&4194304&&ge(t,"style",he[22])},i:ra,o:ra,d(he){he&&un(t);for(let Ee=0;Ee<k.length;Ee+=1)k[Ee].d();e[48](null);for(let Ee=0;Ee<M.length;Ee+=1)M[Ee].d();for(let Ee=0;Ee<te.length;Ee+=1)te[Ee].d();e[50](null);for(let Ee=0;Ee<Ke.length;Ee+=1)Ke[Ee].d();e[51](null),e[52](null),ue=!1,ba(de)}}}function ow(e,t,s){let{skinToneEmoji:n}=t,{i18n:o}=t,{database:r}=t,{customEmoji:i}=t,{customCategorySorting:l}=t,d=!0,c=[],f=[],u="",v="",w,a,j,N=!1,P=-1,g,I=!1,F=!1,O,q=0,_=0,k,R,y="",A=[],p=[],S,x=j7,M=!1,D=0,Y=0,V=qa,X,b=!1,T;const ie=ne=>{w.getRootNode().getElementById(ne).focus()},ce=(ne,Ie)=>{w.dispatchEvent(new CustomEvent(ne,{detail:Ie,bubbles:!0,composed:!0}))},Te=(ne,Ie)=>Ie&&ne.skins&&ne.skins[Ie]||ne.unicode,te=(ne,Ie)=>J7([ne.name||Te(ne,Ie),...ne.shortcodes||[]]).join(", "),ve=ne=>/^skintone-/.test(ne.id);Vc.then(ne=>{ne||s(18,g=o.emojiUnsupportedMessage)});function oe(ne){return Z7(ne,Ie=>{{const L=getComputedStyle(w),U=parseInt(L.getPropertyValue("--num-columns"),10),K=L.getPropertyValue("direction")==="rtl",ee=ne.parentElement.getBoundingClientRect().width-Ie;s(46,x=U),s(25,D=ee),s(24,M=K)}})}function Re(ne){const Ie=w.getRootNode();Q7(ne,a,U=>Ie.getElementById(`emo-${U.id}`)),s(1,c=c)}function Oe(ne){return!ne.unicode||!g0(ne)||Yu.get(ne.unicode)}async function Se(ne){const Ie=await Vc;return ne.filter(({version:L})=>!L||L<=Ie)}async function Fe(ne){return W7(ne,await Vc)}async function Ke(ne){if(typeof ne>"u")return[];const Ie=ne===-1?i:await r.getEmojiByGroup(ne);return Fe(await Se(Ie))}async function E(ne){return Fe(await Se(await r.getEmojiBySearchQuery(ne)))}function B(ne){if(!N||!c.length)return;const Ie=L=>{er(ne),s(5,P=$c(L,P,c))};switch(ne.key){case"ArrowDown":return Ie(!1);case"ArrowUp":return Ie(!0);case"Enter":if(P!==-1)return er(ne),Z(c[P].id);c.length&&s(5,P=0)}}function $(ne){s(2,u=""),s(44,v=""),s(5,P=-1),s(11,Y=V.findIndex(Ie=>Ie.id===ne.id))}function W(ne){const{target:Ie,key:L}=ne,U=K=>{K&&(er(ne),K.focus())};switch(L){case"ArrowLeft":return U(Ie.previousSibling);case"ArrowRight":return U(Ie.nextSibling);case"Home":return U(Ie.parentElement.firstChild);case"End":return U(Ie.parentElement.lastChild)}}async function Z(ne){const Ie=await r.getEmojiByUnicodeOrName(ne),L=[...c,...p].find(K=>K.id===ne),U=L.unicode&&Te(L,q);await r.incrementFavoriteEmojiCount(ne),ce("emoji-click",{emoji:Ie,skinTone:q,...U&&{unicode:U},...L.name&&{name:L.name}})}async function ue(ne){const{target:Ie}=ne;if(!Ie.classList.contains("emoji"))return;er(ne);const L=Ie.id.substring(4);Z(L)}async function de(ne){const{target:Ie}=ne;if(!ve(Ie))return;er(ne);const L=parseInt(Ie.id.slice(9),10);s(8,q=L),s(6,I=!1),ie("skintone-button"),ce("skin-tone-change",{skinTone:L}),r.setPreferredSkinTone(L)}async function re(ne){s(6,I=!I),s(20,_=q),I&&(er(ne),ll(()=>ie(`skintone-${_}`)))}function fe(ne){if(!I)return;const Ie=async L=>{er(ne),s(20,_=L),await S7(),ie(`skintone-${_}`)};switch(ne.key){case"ArrowUp":return Ie($c(!0,_,A));case"ArrowDown":return Ie($c(!1,_,A));case"Home":return Ie(0);case"End":return Ie(A.length-1);case"Enter":return de(ne);case"Escape":return er(ne),s(6,I=!1),ie("skintone-button")}}function J(ne){if(!!I)switch(ne.key){case" ":return de(ne)}}async function ke(ne){const{relatedTarget:Ie}=ne;(!Ie||!ve(Ie))&&s(6,I=!1)}function _e(){u=this.value,s(2,u)}function Ce(ne){xo[ne?"unshift":"push"](()=>{O=ne,s(7,O)})}const ye=ne=>$(ne);function He(ne){xo[ne?"unshift":"push"](()=>{j=ne,s(3,j)})}function he(ne){xo[ne?"unshift":"push"](()=>{a=ne,s(17,a)})}function Ee(ne){xo[ne?"unshift":"push"](()=>{w=ne,s(16,w)})}return e.$$set=ne=>{"skinToneEmoji"in ne&&s(40,n=ne.skinToneEmoji),"i18n"in ne&&s(0,o=ne.i18n),"database"in ne&&s(39,r=ne.database),"customEmoji"in ne&&s(41,i=ne.customEmoji),"customCategorySorting"in ne&&s(42,l=ne.customCategorySorting)},e.$$.update=()=>{if(e.$$.dirty[1]&1280&&i&&r&&s(39,r.customEmoji=i,r),e.$$.dirty[0]&1|e.$$.dirty[1]&256){async function ne(){let Ie=!1;const L=setTimeout(()=>{Ie=!0,s(18,g=o.loadingMessage)},P7);try{await r.ready(),s(14,b=!0)}catch(U){console.error(U),s(18,g=o.networkErrorMessage)}finally{clearTimeout(L),Ie&&(Ie=!1,s(18,g=""))}}r&&ne()}if(e.$$.dirty[0]&6144|e.$$.dirty[1]&1024&&(i&&i.length?s(12,V=[I7,...qa]):V!==qa&&(Y&&s(11,Y--,Y),s(12,V=qa))),e.$$.dirty[0]&4&&mv(()=>{s(44,v=(u||"").trim()),s(5,P=-1)}),e.$$.dirty[0]&6144&&s(13,X=V[Y]),e.$$.dirty[0]&24576|e.$$.dirty[1]&8192){async function ne(){if(!b)s(1,c=[]),s(4,N=!1);else if(v.length>=B7){const Ie=v,L=await E(Ie);Ie===v&&(s(1,c=L),s(4,N=!0))}else if(X){const Ie=X.id,L=await Ke(Ie);Ie===X.id&&(s(1,c=L),s(4,N=!1))}}ne()}if(e.$$.dirty[0]&4112&&s(22,R=`
  --font-family: ${pv};
  --num-groups: ${V.length}; 
  --indicator-opacity: ${N?0:1}; 
  --num-skintones: ${v0};`),e.$$.dirty[0]&16384|e.$$.dirty[1]&256){async function ne(){b&&s(8,q=await r.getPreferredSkinTone())}ne()}if(e.$$.dirty[1]&512&&s(9,A=Array(v0).fill().map((ne,Ie)=>X7(n,Ie))),e.$$.dirty[0]&768&&s(21,k=A[q]),e.$$.dirty[0]&257&&s(23,y=o.skinToneLabel.replace("{skinTone}",o.skinTones[q])),e.$$.dirty[0]&16384|e.$$.dirty[1]&256){async function ne(){s(45,S=(await Promise.all(F7.map(Ie=>r.getEmojiByUnicodeOrName(Ie)))).filter(Boolean))}b&&ne()}if(e.$$.dirty[0]&16384|e.$$.dirty[1]&49408){async function ne(){const Ie=await r.getTopFavoriteEmoji(x),L=await Fe(vv([...Ie,...S],U=>U.unicode||U.name).slice(0,x));s(10,p=L)}b&&S&&ne()}if(e.$$.dirty[0]&10){const ne=c.filter(Ie=>Ie.unicode).filter(Ie=>g0(Ie)&&!Yu.has(Ie.unicode));ne.length?ll(()=>Re(ne)):(s(1,c=c.filter(Oe)),ll(()=>{(j||{}).scrollTop=0}))}e.$$.dirty[0]&1026|e.$$.dirty[1]&4096,e.$$.dirty[0]&18|e.$$.dirty[1]&2048&&s(15,f=function(){if(N)return[{category:"",emojis:c}];const Ie=new Map;for(const L of c){const U=L.category||"";let K=Ie.get(U);K||(K=[],Ie.set(U,K)),K.push(L)}return[...Ie.entries()].map(([L,U])=>({category:L,emojis:U})).sort((L,U)=>l(L.category,U.category))}()),e.$$.dirty[0]&34&&s(26,T=P!==-1&&c[P].id),e.$$.dirty[0]&192&&(I?O.addEventListener("transitionend",()=>{s(19,F=!0)},{once:!0}):s(19,F=!1))},[o,c,u,j,N,P,I,O,q,A,p,Y,V,X,b,f,w,a,g,F,_,k,R,y,M,D,T,Te,te,oe,B,$,W,ue,de,re,fe,J,ke,r,n,i,l,d,v,S,x,_e,Ce,ye,He,he,Ee]}class iw extends O7{constructor(t){super(),C7(this,t,ow,rw,b7,{skinToneEmoji:40,i18n:0,database:39,customEmoji:41,customCategorySorting:42},null,[-1,-1,-1])}}const aw="https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json",lw="en";var cw={categoriesLabel:"Categories",emojiUnsupportedMessage:"Your browser does not support color emoji.",favoritesLabel:"Favorites",loadingMessage:"Loading\u2026",networkErrorMessage:"Could not load emoji.",regionLabel:"Emoji picker",searchDescription:"When search results are available, press up or down to select and enter to choose.",searchLabel:"Search",searchResultsLabel:"Search results",skinToneDescription:"When expanded, press up or down to select and enter to choose.",skinToneLabel:"Choose a skin tone (currently {skinTone})",skinTonesLabel:"Skin tones",skinTones:["Default","Light","Medium-Light","Medium","Medium-Dark","Dark"],categories:{custom:"Custom","smileys-emotion":"Smileys and emoticons","people-body":"People and body","animals-nature":"Animals and nature","food-drink":"Food and drink","travel-places":"Travel and places",activities:"Activities",objects:"Objects",symbols:"Symbols",flags:"Flags"}};const gv=["customEmoji","customCategorySorting","database","dataSource","i18n","locale","skinToneEmoji"];class _v extends HTMLElement{constructor(t){super(),this.attachShadow({mode:"open"});const s=document.createElement("style");s.textContent=":host{--emoji-size:1.375rem;--emoji-padding:0.5rem;--category-emoji-size:var(--emoji-size);--category-emoji-padding:var(--emoji-padding);--indicator-height:3px;--input-border-radius:0.5rem;--input-border-size:1px;--input-font-size:1rem;--input-line-height:1.5;--input-padding:0.25rem;--num-columns:8;--outline-size:2px;--border-size:1px;--skintone-border-radius:1rem;--category-font-size:1rem;display:flex;width:min-content;height:400px}:host,:host(.light){--background:#fff;--border-color:#e0e0e0;--indicator-color:#385ac1;--input-border-color:#999;--input-font-color:#111;--input-placeholder-color:#999;--outline-color:#999;--category-font-color:#111;--button-active-background:#e6e6e6;--button-hover-background:#d9d9d9}:host(.dark){--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}@media (prefers-color-scheme:dark){:host{--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}}:host([hidden]){display:none}button{margin:0;padding:0;border:0;background:0 0;box-shadow:none;-webkit-tap-highlight-color:transparent}button::-moz-focus-inner{border:0}input{padding:0;margin:0;line-height:1.15;font-family:inherit}input[type=search]{-webkit-appearance:none}:focus{outline:var(--outline-color) solid var(--outline-size);outline-offset:calc(-1*var(--outline-size))}:host([data-js-focus-visible]) :focus:not([data-focus-visible-added]){outline:0}:focus:not(:focus-visible){outline:0}.hide-focus{outline:0}*{box-sizing:border-box}.picker{contain:content;display:flex;flex-direction:column;background:var(--background);border:var(--border-size) solid var(--border-color);width:100%;height:100%;overflow:hidden;--total-emoji-size:calc(var(--emoji-size) + (2 * var(--emoji-padding)));--total-category-emoji-size:calc(var(--category-emoji-size) + (2 * var(--category-emoji-padding)))}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.hidden{opacity:0;pointer-events:none}.abs-pos{position:absolute;left:0;top:0}.gone{display:none!important}.skintone-button-wrapper,.skintone-list{background:var(--background);z-index:3}.skintone-button-wrapper.expanded{z-index:1}.skintone-list{position:absolute;inset-inline-end:0;top:0;z-index:2;overflow:visible;border-bottom:var(--border-size) solid var(--border-color);border-radius:0 0 var(--skintone-border-radius) var(--skintone-border-radius);will-change:transform;transition:transform .2s ease-in-out;transform-origin:center 0}@media (prefers-reduced-motion:reduce){.skintone-list{transition-duration:.001s}}@supports not (inset-inline-end:0){.skintone-list{right:0}}.skintone-list.no-animate{transition:none}.tabpanel{overflow-y:auto;-webkit-overflow-scrolling:touch;will-change:transform;min-height:0;flex:1;contain:content}.emoji-menu{display:grid;grid-template-columns:repeat(var(--num-columns),var(--total-emoji-size));justify-content:space-around;align-items:flex-start;width:100%}.category{padding:var(--emoji-padding);font-size:var(--category-font-size);color:var(--category-font-color)}.custom-emoji,.emoji,button.emoji{height:var(--total-emoji-size);width:var(--total-emoji-size)}.emoji,button.emoji{font-size:var(--emoji-size);display:flex;align-items:center;justify-content:center;border-radius:100%;line-height:1;overflow:hidden;font-family:var(--font-family);cursor:pointer}@media (hover:hover) and (pointer:fine){.emoji:hover,button.emoji:hover{background:var(--button-hover-background)}}.emoji.active,.emoji:active,button.emoji.active,button.emoji:active{background:var(--button-active-background)}.custom-emoji{padding:var(--emoji-padding);object-fit:contain;pointer-events:none;background-repeat:no-repeat;background-position:center center;background-size:var(--emoji-size) var(--emoji-size)}.nav,.nav-button{align-items:center}.nav{display:grid;justify-content:space-between;contain:content}.nav-button{display:flex;justify-content:center}.nav-emoji{font-size:var(--category-emoji-size);width:var(--total-category-emoji-size);height:var(--total-category-emoji-size)}.indicator-wrapper{display:flex;border-bottom:1px solid var(--border-color)}.indicator{width:calc(100%/var(--num-groups));height:var(--indicator-height);opacity:var(--indicator-opacity);background-color:var(--indicator-color);will-change:transform,opacity;transition:opacity .1s linear,transform .25s ease-in-out}@media (prefers-reduced-motion:reduce){.indicator{will-change:opacity;transition:opacity .1s linear}}.pad-top,input.search{background:var(--background);width:100%}.pad-top{height:var(--emoji-padding);z-index:3}.search-row{display:flex;align-items:center;position:relative;padding-inline-start:var(--emoji-padding);padding-bottom:var(--emoji-padding)}.search-wrapper{flex:1;min-width:0}input.search{padding:var(--input-padding);border-radius:var(--input-border-radius);border:var(--input-border-size) solid var(--input-border-color);color:var(--input-font-color);font-size:var(--input-font-size);line-height:var(--input-line-height)}input.search::placeholder{color:var(--input-placeholder-color)}.favorites{display:flex;flex-direction:row;border-top:var(--border-size) solid var(--border-color);contain:content}.message{padding:var(--emoji-padding)}",this.shadowRoot.appendChild(s),this._ctx={locale:lw,dataSource:aw,skinToneEmoji:N7,customCategorySorting:H7,customEmoji:null,i18n:cw,...t};for(const n of gv)n!=="database"&&Object.prototype.hasOwnProperty.call(this,n)&&(this._ctx[n]=this[n],delete this[n]);this._dbFlush()}connectedCallback(){this._cmp=new iw({target:this.shadowRoot,props:this._ctx})}disconnectedCallback(){this._cmp.$destroy(),this._cmp=void 0;const{database:t}=this._ctx;t&&t.close().catch(s=>console.error(s))}static get observedAttributes(){return["locale","data-source","skin-tone-emoji"]}attributeChangedCallback(t,s,n){this._set(t.replace(/-([a-z])/g,(o,r)=>r.toUpperCase()),n)}_set(t,s){this._ctx[t]=s,this._cmp&&this._cmp.$set({[t]:s}),["locale","dataSource"].includes(t)&&this._dbFlush()}_dbCreate(){const{locale:t,dataSource:s,database:n}=this._ctx;(!n||n.locale!==t||n.dataSource!==s)&&this._set("database",new av({locale:t,dataSource:s}))}_dbFlush(){Promise.resolve().then(()=>this._dbCreate())}}const bv={};for(const e of gv)bv[e]={get(){return e==="database"&&this._dbCreate(),this._ctx[e]},set(t){if(e==="database")throw new Error("database is read-only");this._set(e,t)}};Object.defineProperties(_v.prototype,bv);customElements.get("emoji-picker")||customElements.define("emoji-picker",_v);const uw={name:"EmojiPickerContainer",components:{SvgIcon:is},props:{emojiOpened:{type:Boolean,default:!1},emojiReaction:{type:Boolean,default:!1},positionTop:{type:Boolean,default:!1},positionRight:{type:Boolean,default:!1},messageId:{type:String,default:""}},emits:["add-emoji","open-emoji"],data(){return{emojiPickerHeight:320,emojiPickerTop:0,emojiPickerRight:""}},watch:{emojiOpened(e){e&&setTimeout(()=>{this.addCustomStyling(),this.$refs.emojiPicker.shadowRoot.addEventListener("emoji-click",({detail:t})=>{this.$emit("add-emoji",{unicode:t.unicode})})},0)}},methods:{addCustomStyling(){const e=`.picker {
				border: none;
			}`,t=`.nav {
				overflow-x: auto;
			}`,s=`.search-wrapper {
				padding-right: 2px;
				padding-left: 2px;
			}`,n=`input.search {
				height: 32px;
				font-size: 14px;
				border-radius: 10rem;
				border: var(--chat-border-style);
				padding: 5px 10px;
				outline: none;
				background: var(--chat-bg-color-input);
				color: var(--chat-color);
			}`,o=document.createElement("style");o.textContent=e+t+s+n,this.$refs.emojiPicker.shadowRoot.appendChild(o)},openEmoji(e){this.$emit("open-emoji",!this.emojiOpened),this.setEmojiPickerPosition(e.clientY,e.view.innerWidth,e.view.innerHeight)},setEmojiPickerPosition(e,t,s){const n=t<500||s<700,o=document.querySelector("vue-advanced-chat").shadowRoot.getElementById("room-footer");if(!o){n&&(this.emojiPickerRight="-50px");return}n?(this.emojiPickerRight=t/2-(this.positionTop?200:150)+"px",this.emojiPickerTop=100,this.emojiPickerHeight=s-200):(o.getBoundingClientRect().top-e>this.emojiPickerHeight-50?this.emojiPickerTop=e+10:this.emojiPickerTop=e-this.emojiPickerHeight-10,this.emojiPickerRight=this.positionTop?"0px":this.positionRight?"60px":"")}}},dw={class:"vac-emoji-wrapper"},fw={ref:"emojiPicker","v-if":"emojiOpened"};function hw(e,t,s,n,o,r){const i=st("svg-icon");return pe(),xe("div",dw,[je("div",{class:ft(["vac-svg-button",{"vac-emoji-reaction":s.emojiReaction}]),onClick:t[0]||(t[0]=(...l)=>r.openEmoji&&r.openEmoji(...l))},[ze(e.$slots,s.messageId?"emoji-picker-reaction-icon_"+s.messageId:"emoji-picker-icon",{},()=>[$e(i,{name:"emoji",param:s.emojiReaction?"reaction":""},null,8,["param"])])],2),s.emojiOpened?(pe(),kt(Wt,{key:0,name:"vac-slide-up",appear:""},{default:tt(()=>[je("div",{class:ft(["vac-emoji-picker",{"vac-picker-reaction":s.emojiReaction}]),style:At({height:`${o.emojiPickerHeight}px`,top:s.positionTop?o.emojiPickerHeight:`${o.emojiPickerTop}px`,right:o.emojiPickerRight,display:o.emojiPickerTop||!s.emojiReaction?"initial":"none"})},[je("emoji-picker",fw,null,512)],6)]),_:1})):Ye("",!0)])}var yv=Ut(uw,[["render",hw]]);const mw={name:"RoomFiles",components:{Loader:Jl,SvgIcon:is},props:{file:{type:Object,required:!0},index:{type:Number,required:!0}},emits:["remove-file"],computed:{isImage(){return $o(this.file)},isVideo(){return _a(this.file)}}},pw={class:"vac-room-file-container"},vw=["src"],gw={class:"vac-text-ellipsis"},_w={key:0,class:"vac-text-ellipsis vac-text-extension"};function bw(e,t,s,n,o,r){const i=st("loader"),l=st("svg-icon");return pe(),xe("div",pw,[$e(i,{show:s.file.loading,type:"room-file"},Lt({_:2},[ut(e.$slots,(d,c)=>({name:c,fn:tt(f=>[ze(e.$slots,c,Bt(Tt(f)))])}))]),1032,["show"]),je("div",{class:"vac-svg-button vac-icon-remove",onClick:t[0]||(t[0]=d=>e.$emit("remove-file",s.index))},[ze(e.$slots,"image-close-icon",{},()=>[$e(l,{name:"close",param:"image"})])]),r.isImage?(pe(),xe("div",{key:0,class:ft(["vac-message-image",{"vac-blur-loading":s.file.loading}]),style:At({"background-image":`url('${s.file.localUrl||s.file.url}')`})},null,6)):r.isVideo?(pe(),xe("video",{key:1,controls:"",class:ft({"vac-blur-loading":s.file.loading})},[je("source",{src:s.file.localUrl||s.file.url},null,8,vw)],2)):(pe(),xe("div",{key:2,class:ft(["vac-file-container",{"vac-blur-loading":s.file.loading}])},[je("div",null,[ze(e.$slots,"file-icon",{},()=>[$e(l,{name:"file"})])]),je("div",gw,at(s.file.name),1),s.file.extension?(pe(),xe("div",_w,at(s.file.extension),1)):Ye("",!0)],2))])}var yw=Ut(mw,[["render",bw]]);const ww={name:"RoomFiles",components:{SvgIcon:is,RoomFile:yw},props:{files:{type:Array,required:!0}},emits:["remove-file","reset-message"],computed:{footerHeight(){return document.querySelector("vue-advanced-chat").shadowRoot.getElementById("room-footer").clientHeight}}},Sw={class:"vac-files-box"},Ew={class:"vac-icon-close"};function Aw(e,t,s,n,o,r){const i=st("room-file"),l=st("svg-icon");return pe(),kt(Wt,{name:"vac-slide-up"},{default:tt(()=>[s.files.length?(pe(),xe("div",{key:0,class:"vac-room-files-container",style:At({bottom:`${r.footerHeight}px`})},[je("div",Sw,[(pe(!0),xe(wt,null,ut(s.files,(d,c)=>(pe(),xe("div",{key:c},[$e(i,{file:d,index:c,onRemoveFile:t[0]||(t[0]=f=>e.$emit("remove-file",f))},Lt({_:2},[ut(e.$slots,(f,u)=>({name:u,fn:tt(v=>[ze(e.$slots,u,Bt(Tt(v)))])}))]),1032,["file","index"])]))),128))]),je("div",Ew,[je("div",{class:"vac-svg-button",onClick:t[1]||(t[1]=d=>e.$emit("reset-message"))},[ze(e.$slots,"files-close-icon",{},()=>[$e(l,{name:"close-outline"})])])])],4)):Ye("",!0)]),_:3})}var Mw=Ut(ww,[["render",Aw]]);const xw={props:{percentage:{type:Number,default:0},messageSelectionEnabled:{type:Boolean,required:!0}},emits:["hover-audio-progress","change-linehead"],data(){return{isMouseDown:!1}},methods:{onMouseDown(e){if(this.messageSelectionEnabled)return;this.isMouseDown=!0;const t=this.calculateLineHeadPosition(e,this.$refs.progress);this.$emit("change-linehead",t),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)},onMouseUp(e){if(this.messageSelectionEnabled)return;this.isMouseDown=!1,document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove);const t=this.calculateLineHeadPosition(e,this.$refs.progress);this.$emit("change-linehead",t)},onMouseMove(e){if(this.messageSelectionEnabled)return;const t=this.calculateLineHeadPosition(e,this.$refs.progress);this.$emit("change-linehead",t)},calculateLineHeadPosition(e,t){const s=t.getBoundingClientRect().width,n=t.getBoundingClientRect().left;let o=(e.clientX-n)/s;return o=o<0?0:o,o=o>1?1:o,o}}},Rw={class:"vac-player-progress"},Tw={class:"vac-line-container"};function kw(e,t,s,n,o,r){return pe(),xe("div",{ref:"progress",class:"vac-player-bar",onMousedown:t[0]||(t[0]=(...i)=>r.onMouseDown&&r.onMouseDown(...i)),onMouseover:t[1]||(t[1]=i=>e.$emit("hover-audio-progress",!0)),onMouseout:t[2]||(t[2]=i=>e.$emit("hover-audio-progress",!1))},[je("div",Rw,[je("div",Tw,[je("div",{class:"vac-line-progress",style:At({width:`${s.percentage}%`})},null,4),je("div",{class:ft(["vac-line-dot",{"vac-line-dot__active":o.isMouseDown}]),style:At({left:`${s.percentage}%`})},null,6)])])],544)}var Cw=Ut(xw,[["render",kw]]);const Ow={name:"AudioPlayer",components:{SvgIcon:is,AudioControl:Cw},props:{messageId:{type:[String,Number],default:null},src:{type:String,default:null},messageSelectionEnabled:{type:Boolean,required:!0}},emits:["hover-audio-progress","update-progress-time"],data(){return{isPlaying:!1,duration:this.convertTimeMMSS(0),playedTime:this.convertTimeMMSS(0),progress:0}},computed:{playerUniqId(){return`audio-player${this.messageId}`},audioSource(){return this.src?this.src:(this.resetProgress(),null)}},mounted(){this.player=document.querySelector("vue-advanced-chat").shadowRoot.getElementById(this.playerUniqId),this.player.addEventListener("ended",()=>{this.isPlaying=!1}),this.player.addEventListener("loadeddata",()=>{this.resetProgress(),this.duration=this.convertTimeMMSS(this.player.duration),this.updateProgressTime()}),this.player.addEventListener("timeupdate",this.onTimeUpdate)},methods:{convertTimeMMSS(e){return new Date(e*1e3).toISOString().substr(14,5)},playback(){this.messageSelectionEnabled||!this.audioSource||(this.isPlaying?this.player.pause():setTimeout(()=>this.player.play()),this.isPlaying=!this.isPlaying)},resetProgress(){this.isPlaying&&this.player.pause(),this.duration=this.convertTimeMMSS(0),this.playedTime=this.convertTimeMMSS(0),this.progress=0,this.isPlaying=!1,this.updateProgressTime()},onTimeUpdate(){this.playedTime=this.convertTimeMMSS(this.player.currentTime),this.progress=this.player.currentTime/this.player.duration*100,this.updateProgressTime()},onUpdateProgress(e){e&&(this.player.currentTime=e*this.player.duration)},updateProgressTime(){this.$emit("update-progress-time",this.progress>1?this.playedTime:this.duration)}}},Iw={class:"vac-audio-player"},Bw=["id","src"];function Lw(e,t,s,n,o,r){const i=st("svg-icon"),l=st("audio-control");return pe(),xe("div",null,[je("div",Iw,[je("div",{class:"vac-svg-button",onClick:t[0]||(t[0]=(...d)=>r.playback&&r.playback(...d))},[o.isPlaying?ze(e.$slots,"audio-pause-icon_"+s.messageId,{key:0},()=>[$e(i,{name:"audio-pause"})]):ze(e.$slots,"audio-play-icon_"+s.messageId,{key:1},()=>[$e(i,{name:"audio-play"})])]),$e(l,{percentage:o.progress,"message-selection-enabled":s.messageSelectionEnabled,onChangeLinehead:r.onUpdateProgress,onHoverAudioProgress:t[1]||(t[1]=d=>e.$emit("hover-audio-progress",d))},null,8,["percentage","message-selection-enabled","onChangeLinehead"]),je("audio",{id:r.playerUniqId,src:r.audioSource},null,8,Bw)])])}var o1=Ut(Ow,[["render",Lw]]);const Pw={name:"RoomMessageReply",components:{SvgIcon:is,FormatMessage:ga,AudioPlayer:o1},props:{room:{type:Object,required:!0},messageReply:{type:Object,default:null},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0}},emits:["reset-message"],computed:{footerHeight(){return document.querySelector("vue-advanced-chat").shadowRoot.getElementById("room-footer").clientHeight},firstFile(){var e,t;return(t=(e=this.messageReply)==null?void 0:e.files)!=null&&t.length?this.messageReply.files[0]:{}},isImage(){return $o(this.firstFile)},isVideo(){return _a(this.firstFile)},isAudio(){return cc(this.firstFile)},isOtherFile(){var e,t;return((t=(e=this.messageReply)==null?void 0:e.files)==null?void 0:t.length)&&!this.isAudio&&!this.isVideo&&!this.isImage}}},Nw={class:"vac-reply-box"},jw={class:"vac-reply-info"},Fw={class:"vac-reply-username"},Hw={class:"vac-reply-content"},Uw=["src"],Dw={key:1,controls:"",class:"vac-image-reply"},qw=["src"],Vw={key:3,class:"vac-image-reply vac-file-container"},$w={class:"vac-text-ellipsis"},zw={key:0,class:"vac-text-ellipsis vac-text-extension"},Kw={class:"vac-icon-reply"};function Yw(e,t,s,n,o,r){const i=st("format-message"),l=st("audio-player"),d=st("svg-icon");return pe(),kt(Wt,{name:"vac-slide-up"},{default:tt(()=>[s.messageReply?(pe(),xe("div",{key:0,class:"vac-reply-container",style:At({bottom:`${r.footerHeight}px`})},[je("div",Nw,[je("div",jw,[je("div",Fw,at(s.messageReply.username),1),je("div",Hw,[$e(i,{"message-id":s.messageReply._id,content:s.messageReply.content,users:s.room.users,"text-formatting":s.textFormatting,"link-options":s.linkOptions,reply:!0},null,8,["message-id","content","users","text-formatting","link-options"])])]),r.isImage?(pe(),xe("img",{key:0,src:r.firstFile.url,class:"vac-image-reply"},null,8,Uw)):r.isVideo?(pe(),xe("video",Dw,[je("source",{src:r.firstFile.url},null,8,qw)])):r.isAudio?(pe(),kt(l,{key:2,src:r.firstFile.url,"message-selection-enabled":!1,class:"vac-audio-reply"},Lt({_:2},[ut(e.$slots,(c,f)=>({name:f,fn:tt(u=>[ze(e.$slots,f,Bt(Tt(u)))])}))]),1032,["src"])):r.isOtherFile?(pe(),xe("div",Vw,[je("div",null,[ze(e.$slots,"file-icon",{},()=>[$e(d,{name:"file"})])]),je("div",$w,at(r.firstFile.name),1),r.firstFile.extension?(pe(),xe("div",zw,at(r.firstFile.extension),1)):Ye("",!0)])):Ye("",!0)]),je("div",Kw,[je("div",{class:"vac-svg-button",onClick:t[0]||(t[0]=c=>e.$emit("reset-message"))},[ze(e.$slots,"reply-close-icon",{},()=>[$e(d,{name:"close-outline"})])])])],4)):Ye("",!0)]),_:3})}var Xw=Ut(Pw,[["render",Yw]]);const Ww={name:"RoomUsersTag",props:{filteredUsersTag:{type:Array,required:!0},selectItem:{type:Boolean,default:null},activeUpOrDown:{type:Number,default:null}},emits:["select-user-tag","activate-item"],data(){return{activeItem:null}},computed:{footerHeight(){return document.querySelector("vue-advanced-chat").shadowRoot.getElementById("room-footer").clientHeight}},watch:{filteredUsersTag(e,t){(!t.length||e.length!==t.length)&&(this.activeItem=0)},selectItem(e){e&&this.$emit("select-user-tag",this.filteredUsersTag[this.activeItem])},activeUpOrDown(){this.activeUpOrDown>0&&this.activeItem<this.filteredUsersTag.length-1?this.activeItem++:this.activeUpOrDown<0&&this.activeItem>0&&this.activeItem--,this.$emit("activate-item")}}},Gw=["onMouseover","onClick"],Zw={class:"vac-tags-info"},Qw={class:"vac-tags-username"};function Jw(e,t,s,n,o,r){return pe(),kt(Wt,{name:"vac-slide-up"},{default:tt(()=>[s.filteredUsersTag.length?(pe(),xe("div",{key:0,class:"vac-tags-container",style:At({bottom:`${r.footerHeight}px`})},[(pe(!0),xe(wt,null,ut(s.filteredUsersTag,(i,l)=>(pe(),xe("div",{key:i._id,class:ft(["vac-tags-box",{"vac-tags-box-active":l===o.activeItem}]),onMouseover:d=>o.activeItem=l,onClick:d=>e.$emit("select-user-tag",i)},[je("div",Zw,[i.avatar?(pe(),xe("div",{key:0,class:"vac-avatar vac-tags-avatar",style:At({"background-image":`url('${i.avatar}')`})},null,4)):Ye("",!0),je("div",Qw,at(i.username),1)])],42,Gw))),128))],4)):Ye("",!0)]),_:1})}var eS=Ut(Ww,[["render",Jw]]);const tS={name:"RoomEmojis",props:{filteredEmojis:{type:Array,required:!0},selectItem:{type:Boolean,default:null},activeUpOrDown:{type:Number,default:null}},emits:["select-emoji","activate-item"],data(){return{activeItem:null}},computed:{footerHeight(){return document.querySelector("vue-advanced-chat").shadowRoot.getElementById("room-footer").clientHeight}},watch:{filteredEmojis(e,t){(!t.length||e.length!==t.length)&&(this.activeItem=0)},selectItem(e){e&&this.$emit("select-emoji",this.filteredEmojis[this.activeItem])},activeUpOrDown(){this.activeUpOrDown>0&&this.activeItem<this.filteredEmojis.length-1?this.activeItem++:this.activeUpOrDown<0&&this.activeItem>0&&this.activeItem--,this.$emit("activate-item")}}},sS=["onMouseover","onClick"];function nS(e,t,s,n,o,r){return pe(),kt(Wt,{name:"vac-slide-up"},{default:tt(()=>[s.filteredEmojis.length?(pe(),xe("div",{key:0,class:"vac-emojis-container",style:At({bottom:`${r.footerHeight}px`})},[(pe(!0),xe(wt,null,ut(s.filteredEmojis,(i,l)=>(pe(),xe("div",{key:i,class:ft(["vac-emoji-element",{"vac-emoji-element-active":l===o.activeItem}]),onMouseover:d=>o.activeItem=l,onClick:d=>e.$emit("select-emoji",i)},at(i),43,sS))),128))],4)):Ye("",!0)]),_:1})}var rS=Ut(tS,[["render",nS]]);const oS={name:"RoomTemplatesText",props:{filteredTemplatesText:{type:Array,required:!0},selectItem:{type:Boolean,default:null},activeUpOrDown:{type:Number,default:null}},emits:["select-template-text","activate-item"],data(){return{activeItem:null}},computed:{footerHeight(){return document.querySelector("vue-advanced-chat").shadowRoot.getElementById("room-footer").clientHeight}},watch:{filteredTemplatesText(e,t){(!t.length||e.length!==t.length)&&(this.activeItem=0)},selectItem(e){e&&this.$emit("select-template-text",this.filteredTemplatesText[this.activeItem])},activeUpOrDown(){this.activeUpOrDown>0&&this.activeItem<this.filteredTemplatesText.length-1?this.activeItem++:this.activeUpOrDown<0&&this.activeItem>0&&this.activeItem--,this.$emit("activate-item")}}},iS=["onMouseover","onClick"],aS={class:"vac-template-info"},lS={class:"vac-template-tag"},cS={class:"vac-template-text"};function uS(e,t,s,n,o,r){return pe(),kt(Wt,{name:"vac-slide-up"},{default:tt(()=>[s.filteredTemplatesText.length?(pe(),xe("div",{key:0,class:"vac-template-container vac-app-box-shadow",style:At({bottom:`${r.footerHeight}px`})},[(pe(!0),xe(wt,null,ut(s.filteredTemplatesText,(i,l)=>(pe(),xe("div",{key:l,class:ft(["vac-template-box",{"vac-template-active":l===o.activeItem}]),onMouseover:d=>o.activeItem=l,onClick:d=>e.$emit("select-template-text",i)},[je("div",aS,[je("div",lS," /"+at(i.tag),1),je("div",cS,at(i.text),1)])],42,iS))),128))],4)):Ye("",!0)]),_:1})}var dS=Ut(oS,[["render",uS]]);function fS(e){return new Int8Array(e)}function wv(e){return new Int16Array(e)}function Sv(e){return new Int32Array(e)}function Ev(e){return new Float32Array(e)}function hS(e){return new Float64Array(e)}function Av(e){if(e.length==1)return Ev(e[0]);var t=e[0];e=e.slice(1);for(var s=[],n=0;n<t;n++)s.push(Av(e));return s}function Mv(e){if(e.length==1)return Sv(e[0]);var t=e[0];e=e.slice(1);for(var s=[],n=0;n<t;n++)s.push(Mv(e));return s}function xv(e){if(e.length==1)return wv(e[0]);var t=e[0];e=e.slice(1);for(var s=[],n=0;n<t;n++)s.push(xv(e));return s}function Rv(e){if(e.length==1)return new Array(e[0]);var t=e[0];e=e.slice(1);for(var s=[],n=0;n<t;n++)s.push(Rv(e));return s}var Tv={};Tv.fill=function(e,t,s,n){if(arguments.length==2)for(var o=0;o<e.length;o++)e[o]=arguments[1];else for(var o=t;o<s;o++)e[o]=n};var ya={};ya.arraycopy=function(e,t,s,n,o){for(var r=t+o;t<r;)s[n++]=e[t++]};ya.out={};ya.out.println=function(e){console.log(e)};ya.out.printf=function(){console.log.apply(console,arguments)};var uc={};uc.SQRT2=1.4142135623730951;uc.FAST_LOG10=function(e){return Math.log10(e)};uc.FAST_LOG10_X=function(e,t){return Math.log10(e)*t};function qn(e){this.ordinal=e}qn.short_block_allowed=new qn(0);qn.short_block_coupled=new qn(1);qn.short_block_dispensed=new qn(2);qn.short_block_forced=new qn(3);var kv={};kv.MAX_VALUE=34028235e31;function qs(e){this.ordinal=e}qs.vbr_off=new qs(0);qs.vbr_mt=new qs(1);qs.vbr_rh=new qs(2);qs.vbr_abr=new qs(3);qs.vbr_mtrh=new qs(4);qs.vbr_default=qs.vbr_mtrh;var mS=function(e){},Ve={System:ya,VbrMode:qs,Float:kv,ShortBlock:qn,Util:uc,Arrays:Tv,new_array_n:Rv,new_byte:fS,new_double:hS,new_float:Ev,new_float_n:Av,new_int:Sv,new_int_n:Mv,new_short:wv,new_short_n:xv,assert:mS},pS=Ve.System,Yt=Ve.Util,vS=Ve.Arrays,gS=Ve.new_float;function _S(){var e=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*Yt.SQRT2*.5/2384e-9,.017876148*Yt.SQRT2*.5/2384e-9,.003134727*Yt.SQRT2*.5/2384e-9,.002457142*Yt.SQRT2*.5/2384e-9,971317e-9*Yt.SQRT2*.5/2384e-9,218868e-9*Yt.SQRT2*.5/2384e-9,101566e-9*Yt.SQRT2*.5/2384e-9,13828e-9*Yt.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],t=12,s=36,n=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],o=n[H.SHORT_TYPE],r=n[H.SHORT_TYPE],i=n[H.SHORT_TYPE],l=n[H.SHORT_TYPE],d=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function c(v,w,a){for(var j=10,N=w+238-14-286,P=-15;P<0;P++){var g,I,F;g=e[j+-10],I=v[N+-224]*g,F=v[w+224]*g,g=e[j+-9],I+=v[N+-160]*g,F+=v[w+160]*g,g=e[j+-8],I+=v[N+-96]*g,F+=v[w+96]*g,g=e[j+-7],I+=v[N+-32]*g,F+=v[w+32]*g,g=e[j+-6],I+=v[N+32]*g,F+=v[w+-32]*g,g=e[j+-5],I+=v[N+96]*g,F+=v[w+-96]*g,g=e[j+-4],I+=v[N+160]*g,F+=v[w+-160]*g,g=e[j+-3],I+=v[N+224]*g,F+=v[w+-224]*g,g=e[j+-2],I+=v[w+-256]*g,F-=v[N+256]*g,g=e[j+-1],I+=v[w+-192]*g,F-=v[N+192]*g,g=e[j+0],I+=v[w+-128]*g,F-=v[N+128]*g,g=e[j+1],I+=v[w+-64]*g,F-=v[N+64]*g,g=e[j+2],I+=v[w+0]*g,F-=v[N+0]*g,g=e[j+3],I+=v[w+64]*g,F-=v[N+-64]*g,g=e[j+4],I+=v[w+128]*g,F-=v[N+-128]*g,g=e[j+5],I+=v[w+192]*g,F-=v[N+-192]*g,I*=e[j+6],g=F-I,a[30+P*2]=F+I,a[31+P*2]=e[j+7]*g,j+=18,w--,N++}{var I,F,O,q;F=v[w+-16]*e[j+-10],I=v[w+-32]*e[j+-2],F+=(v[w+-48]-v[w+16])*e[j+-9],I+=v[w+-96]*e[j+-1],F+=(v[w+-80]+v[w+48])*e[j+-8],I+=v[w+-160]*e[j+0],F+=(v[w+-112]-v[w+80])*e[j+-7],I+=v[w+-224]*e[j+1],F+=(v[w+-144]+v[w+112])*e[j+-6],I-=v[w+32]*e[j+2],F+=(v[w+-176]-v[w+144])*e[j+-5],I-=v[w+96]*e[j+3],F+=(v[w+-208]+v[w+176])*e[j+-4],I-=v[w+160]*e[j+4],F+=(v[w+-240]-v[w+208])*e[j+-3],I-=v[w+224],O=I-F,q=I+F,F=a[14],I=a[15]-F,a[31]=q+F,a[30]=O+I,a[15]=O-I,a[14]=q-F}{var _;_=a[28]-a[0],a[0]+=a[28],a[28]=_*e[j+-2*18+7],_=a[29]-a[1],a[1]+=a[29],a[29]=_*e[j+-2*18+7],_=a[26]-a[2],a[2]+=a[26],a[26]=_*e[j+-4*18+7],_=a[27]-a[3],a[3]+=a[27],a[27]=_*e[j+-4*18+7],_=a[24]-a[4],a[4]+=a[24],a[24]=_*e[j+-6*18+7],_=a[25]-a[5],a[5]+=a[25],a[25]=_*e[j+-6*18+7],_=a[22]-a[6],a[6]+=a[22],a[22]=_*Yt.SQRT2,_=a[23]-a[7],a[7]+=a[23],a[23]=_*Yt.SQRT2-a[7],a[7]-=a[6],a[22]-=a[7],a[23]-=a[22],_=a[6],a[6]=a[31]-_,a[31]=a[31]+_,_=a[7],a[7]=a[30]-_,a[30]=a[30]+_,_=a[22],a[22]=a[15]-_,a[15]=a[15]+_,_=a[23],a[23]=a[14]-_,a[14]=a[14]+_,_=a[20]-a[8],a[8]+=a[20],a[20]=_*e[j+-10*18+7],_=a[21]-a[9],a[9]+=a[21],a[21]=_*e[j+-10*18+7],_=a[18]-a[10],a[10]+=a[18],a[18]=_*e[j+-12*18+7],_=a[19]-a[11],a[11]+=a[19],a[19]=_*e[j+-12*18+7],_=a[16]-a[12],a[12]+=a[16],a[16]=_*e[j+-14*18+7],_=a[17]-a[13],a[13]+=a[17],a[17]=_*e[j+-14*18+7],_=-a[20]+a[24],a[20]+=a[24],a[24]=_*e[j+-12*18+7],_=-a[21]+a[25],a[21]+=a[25],a[25]=_*e[j+-12*18+7],_=a[4]-a[8],a[4]+=a[8],a[8]=_*e[j+-12*18+7],_=a[5]-a[9],a[5]+=a[9],a[9]=_*e[j+-12*18+7],_=a[0]-a[12],a[0]+=a[12],a[12]=_*e[j+-4*18+7],_=a[1]-a[13],a[1]+=a[13],a[13]=_*e[j+-4*18+7],_=a[16]-a[28],a[16]+=a[28],a[28]=_*e[j+-4*18+7],_=-a[17]+a[29],a[17]+=a[29],a[29]=_*e[j+-4*18+7],_=Yt.SQRT2*(a[2]-a[10]),a[2]+=a[10],a[10]=_,_=Yt.SQRT2*(a[3]-a[11]),a[3]+=a[11],a[11]=_,_=Yt.SQRT2*(-a[18]+a[26]),a[18]+=a[26],a[26]=_-a[18],_=Yt.SQRT2*(-a[19]+a[27]),a[19]+=a[27],a[27]=_-a[19],_=a[2],a[19]-=a[3],a[3]-=_,a[2]=a[31]-_,a[31]+=_,_=a[3],a[11]-=a[19],a[18]-=_,a[3]=a[30]-_,a[30]+=_,_=a[18],a[27]-=a[11],a[19]-=_,a[18]=a[15]-_,a[15]+=_,_=a[19],a[10]-=_,a[19]=a[14]-_,a[14]+=_,_=a[10],a[11]-=_,a[10]=a[23]-_,a[23]+=_,_=a[11],a[26]-=_,a[11]=a[22]-_,a[22]+=_,_=a[26],a[27]-=_,a[26]=a[7]-_,a[7]+=_,_=a[27],a[27]=a[6]-_,a[6]+=_,_=Yt.SQRT2*(a[0]-a[4]),a[0]+=a[4],a[4]=_,_=Yt.SQRT2*(a[1]-a[5]),a[1]+=a[5],a[5]=_,_=Yt.SQRT2*(a[16]-a[20]),a[16]+=a[20],a[20]=_,_=Yt.SQRT2*(a[17]-a[21]),a[17]+=a[21],a[21]=_,_=-Yt.SQRT2*(a[8]-a[12]),a[8]+=a[12],a[12]=_-a[8],_=-Yt.SQRT2*(a[9]-a[13]),a[9]+=a[13],a[13]=_-a[9],_=-Yt.SQRT2*(a[25]-a[29]),a[25]+=a[29],a[29]=_-a[25],_=-Yt.SQRT2*(a[24]+a[28]),a[24]-=a[28],a[28]=_-a[24],_=a[24]-a[16],a[24]=_,_=a[20]-_,a[20]=_,_=a[28]-_,a[28]=_,_=a[25]-a[17],a[25]=_,_=a[21]-_,a[21]=_,_=a[29]-_,a[29]=_,_=a[17]-a[1],a[17]=_,_=a[9]-_,a[9]=_,_=a[25]-_,a[25]=_,_=a[5]-_,a[5]=_,_=a[21]-_,a[21]=_,_=a[13]-_,a[13]=_,_=a[29]-_,a[29]=_,_=a[1]-a[0],a[1]=_,_=a[16]-_,a[16]=_,_=a[17]-_,a[17]=_,_=a[8]-_,a[8]=_,_=a[9]-_,a[9]=_,_=a[24]-_,a[24]=_,_=a[25]-_,a[25]=_,_=a[4]-_,a[4]=_,_=a[5]-_,a[5]=_,_=a[20]-_,a[20]=_,_=a[21]-_,a[21]=_,_=a[12]-_,a[12]=_,_=a[13]-_,a[13]=_,_=a[28]-_,a[28]=_,_=a[29]-_,a[29]=_,_=a[0],a[0]+=a[31],a[31]-=_,_=a[1],a[1]+=a[30],a[30]-=_,_=a[16],a[16]+=a[15],a[15]-=_,_=a[17],a[17]+=a[14],a[14]-=_,_=a[8],a[8]+=a[23],a[23]-=_,_=a[9],a[9]+=a[22],a[22]-=_,_=a[24],a[24]+=a[7],a[7]-=_,_=a[25],a[25]+=a[6],a[6]-=_,_=a[4],a[4]+=a[27],a[27]-=_,_=a[5],a[5]+=a[26],a[26]-=_,_=a[20],a[20]+=a[11],a[11]-=_,_=a[21],a[21]+=a[10],a[10]-=_,_=a[12],a[12]+=a[19],a[19]-=_,_=a[13],a[13]+=a[18],a[18]-=_,_=a[28],a[28]+=a[3],a[3]-=_,_=a[29],a[29]+=a[2],a[2]-=_}}function f(v,w){for(var a=0;a<3;a++){var j,N,P,g,I,F;g=v[w+2*3]*n[H.SHORT_TYPE][0]-v[w+5*3],j=v[w+0*3]*n[H.SHORT_TYPE][2]-v[w+3*3],N=g+j,P=g-j,g=v[w+5*3]*n[H.SHORT_TYPE][0]+v[w+2*3],j=v[w+3*3]*n[H.SHORT_TYPE][2]+v[w+0*3],I=g+j,F=-g+j,j=(v[w+1*3]*n[H.SHORT_TYPE][1]-v[w+4*3])*2069978111953089e-26,g=(v[w+4*3]*n[H.SHORT_TYPE][1]+v[w+1*3])*2069978111953089e-26,v[w+3*0]=N*190752519173728e-25+j,v[w+3*5]=-I*190752519173728e-25+g,P=P*.8660254037844387*1907525191737281e-26,I=I*.5*1907525191737281e-26+g,v[w+3*1]=P-I,v[w+3*2]=P+I,N=N*.5*1907525191737281e-26-j,F=F*.8660254037844387*1907525191737281e-26,v[w+3*3]=N+F,v[w+3*4]=N-F,w++}}function u(v,w,a){var j,N;{var P,g,I,F,O,q,_,k;P=a[17]-a[9],I=a[15]-a[11],F=a[14]-a[12],O=a[0]+a[8],q=a[1]+a[7],_=a[2]+a[6],k=a[3]+a[5],v[w+17]=O+_-k-(q-a[4]),N=(O+_-k)*r[12+7]+(q-a[4]),j=(P-I-F)*r[12+6],v[w+5]=j+N,v[w+6]=j-N,g=(a[16]-a[10])*r[12+6],q=q*r[12+7]+a[4],j=P*r[12+0]+g+I*r[12+1]+F*r[12+2],N=-O*r[12+4]+q-_*r[12+5]+k*r[12+3],v[w+1]=j+N,v[w+2]=j-N,j=P*r[12+1]-g-I*r[12+2]+F*r[12+0],N=-O*r[12+5]+q-_*r[12+3]+k*r[12+4],v[w+9]=j+N,v[w+10]=j-N,j=P*r[12+2]-g+I*r[12+0]-F*r[12+1],N=O*r[12+3]-q+_*r[12+4]-k*r[12+5],v[w+13]=j+N,v[w+14]=j-N}{var R,y,A,p,S,x,M,D;R=a[8]-a[0],A=a[6]-a[2],p=a[5]-a[3],S=a[17]+a[9],x=a[16]+a[10],M=a[15]+a[11],D=a[14]+a[12],v[w+0]=S+M+D+(x+a[13]),j=(S+M+D)*r[12+7]-(x+a[13]),N=(R-A+p)*r[12+6],v[w+11]=j+N,v[w+12]=j-N,y=(a[7]-a[1])*r[12+6],x=a[13]-x*r[12+7],j=S*r[12+3]-x+M*r[12+4]+D*r[12+5],N=R*r[12+2]+y+A*r[12+0]+p*r[12+1],v[w+3]=j+N,v[w+4]=j-N,j=-S*r[12+5]+x-M*r[12+3]-D*r[12+4],N=R*r[12+1]+y-A*r[12+2]-p*r[12+0],v[w+7]=j+N,v[w+8]=j-N,j=-S*r[12+4]+x-M*r[12+5]-D*r[12+3],N=R*r[12+0]-y+A*r[12+1]-p*r[12+2],v[w+15]=j+N,v[w+16]=j-N}}this.mdct_sub48=function(v,w,a){for(var j=w,N=286,P=0;P<v.channels_out;P++){for(var g=0;g<v.mode_gr;g++){for(var I,F=v.l3_side.tt[g][P],O=F.xr,q=0,_=v.sb_sample[P][1-g],k=0,R=0;R<18/2;R++)for(c(j,N,_[k]),c(j,N+32,_[k+1]),k+=2,N+=64,I=1;I<32;I+=2)_[k-1][I]*=-1;for(I=0;I<32;I++,q+=18){var y=F.block_type,A=v.sb_sample[P][g],p=v.sb_sample[P][1-g];if(F.mixed_block_flag!=0&&I<2&&(y=0),v.amp_filter[I]<1e-12)vS.fill(O,q+0,q+18,0);else{if(v.amp_filter[I]<1)for(var R=0;R<18;R++)p[R][d[I]]*=v.amp_filter[I];if(y==H.SHORT_TYPE){for(var R=-t/4;R<0;R++){var S=n[H.SHORT_TYPE][R+3];O[q+R*3+9]=A[9+R][d[I]]*S-A[8-R][d[I]],O[q+R*3+18]=A[14-R][d[I]]*S+A[15+R][d[I]],O[q+R*3+10]=A[15+R][d[I]]*S-A[14-R][d[I]],O[q+R*3+19]=p[2-R][d[I]]*S+p[3+R][d[I]],O[q+R*3+11]=p[3+R][d[I]]*S-p[2-R][d[I]],O[q+R*3+20]=p[8-R][d[I]]*S+p[9+R][d[I]]}f(O,q)}else{for(var x=gS(18),R=-s/4;R<0;R++){var M,D;M=n[y][R+27]*p[R+9][d[I]]+n[y][R+36]*p[8-R][d[I]],D=n[y][R+9]*A[R+9][d[I]]-n[y][R+18]*A[8-R][d[I]],x[R+9]=M-D*o[3+R+9],x[R+18]=M*o[3+R+9]+D}u(O,q,x)}}if(y!=H.SHORT_TYPE&&I!=0)for(var R=7;R>=0;--R){var Y,V;Y=O[q+R]*i[20+R]+O[q+-1-R]*l[28+R],V=O[q+R]*l[28+R]-O[q+-1-R]*i[20+R],O[q+-1-R]=Y,O[q+R]=V}}}if(j=a,N=286,v.mode_gr==1)for(var X=0;X<18;X++)pS.arraycopy(v.sb_sample[P][1][X],0,v.sb_sample[P][0][X],0,32)}}}var bS=Ve.System,yS=Ve.new_float,wS=Ve.new_float_n;function Al(){this.l=yS(H.SBMAX_l),this.s=wS([H.SBMAX_s,3]);var e=this;this.assign=function(t){bS.arraycopy(t.l,0,e.l,0,H.SBMAX_l);for(var s=0;s<H.SBMAX_s;s++)for(var n=0;n<3;n++)e.s[s][n]=t.s[s][n]}}function tr(){this.thm=new Al,this.en=new Al}function St(e){var t=e;this.ordinal=function(){return t}}St.STEREO=new St(0);St.JOINT_STEREO=new St(1);St.DUAL_CHANNEL=new St(2);St.MONO=new St(3);St.NOT_SET=new St(4);var C0=Ve.System,Va=Ve.VbrMode,O0=Ve.new_array_n,I0=Ve.new_float,SS=Ve.new_float_n,ES=Ve.new_int,$a=Ve.assert;H.ENCDELAY=576;H.POSTDELAY=1152;H.MDCTDELAY=48;H.FFTOFFSET=224+H.MDCTDELAY;H.DECDELAY=528;H.SBLIMIT=32;H.CBANDS=64;H.SBPSY_l=21;H.SBPSY_s=12;H.SBMAX_l=22;H.SBMAX_s=13;H.PSFB21=6;H.PSFB12=6;H.BLKSIZE=1024;H.HBLKSIZE=H.BLKSIZE/2+1;H.BLKSIZE_s=256;H.HBLKSIZE_s=H.BLKSIZE_s/2+1;H.NORM_TYPE=0;H.START_TYPE=1;H.SHORT_TYPE=2;H.STOP_TYPE=3;H.MPG_MD_LR_LR=0;H.MPG_MD_LR_I=1;H.MPG_MD_MS_LR=2;H.MPG_MD_MS_I=3;H.fircoef=[-.0207887*5,-.0378413*5,-.0432472*5,-.031183*5,779609e-23*5,.0467745*5,.10091*5,.151365*5,.187098*5];function H(){var e=H.FFTOFFSET,t=H.MPG_MD_MS_LR,s=null;this.psy=null;var n=null,o=null,r=null;this.setModules=function(f,u,v,w){s=f,this.psy=u,n=u,o=w,r=v};var i=new _S;function l(f){var u,v;if(f.ATH.useAdjust==0){f.ATH.adjust=1;return}if(v=f.loudness_sq[0][0],u=f.loudness_sq[1][0],f.channels_out==2?(v+=f.loudness_sq[0][1],u+=f.loudness_sq[1][1]):(v+=v,u+=u),f.mode_gr==2&&(v=Math.max(v,u)),v*=.5,v*=f.ATH.aaSensitivityP,v>.03125)f.ATH.adjust>=1?f.ATH.adjust=1:f.ATH.adjust<f.ATH.adjustLimit&&(f.ATH.adjust=f.ATH.adjustLimit),f.ATH.adjustLimit=1;else{var w=31.98*v+625e-6;f.ATH.adjust>=w?(f.ATH.adjust*=w*.075+.925,f.ATH.adjust<w&&(f.ATH.adjust=w)):f.ATH.adjustLimit>=w?f.ATH.adjust=w:f.ATH.adjust<f.ATH.adjustLimit&&(f.ATH.adjust=f.ATH.adjustLimit),f.ATH.adjustLimit=w}}function d(f){var u,v;for($a(f.bitrate_index>=0&&f.bitrate_index<16),$a(f.mode_ext>=0&&f.mode_ext<4),f.bitrate_stereoMode_Hist[f.bitrate_index][4]++,f.bitrate_stereoMode_Hist[15][4]++,f.channels_out==2&&(f.bitrate_stereoMode_Hist[f.bitrate_index][f.mode_ext]++,f.bitrate_stereoMode_Hist[15][f.mode_ext]++),u=0;u<f.mode_gr;++u)for(v=0;v<f.channels_out;++v){var w=f.l3_side.tt[u][v].block_type|0;f.l3_side.tt[u][v].mixed_block_flag!=0&&(w=4),f.bitrate_blockType_Hist[f.bitrate_index][w]++,f.bitrate_blockType_Hist[f.bitrate_index][5]++,f.bitrate_blockType_Hist[15][w]++,f.bitrate_blockType_Hist[15][5]++}}function c(f,u){var v=f.internal_flags,w,a;if(v.lame_encode_frame_init==0){var j,N,P=I0(2014),g=I0(286+1152+576);for(v.lame_encode_frame_init=1,j=0,N=0;j<286+576*(1+v.mode_gr);++j)j<576*v.mode_gr?(P[j]=0,v.channels_out==2&&(g[j]=0)):(P[j]=u[0][N],v.channels_out==2&&(g[j]=u[1][N]),++N);for(a=0;a<v.mode_gr;a++)for(w=0;w<v.channels_out;w++)v.l3_side.tt[a][w].block_type=H.SHORT_TYPE;i.mdct_sub48(v,P,g),$a(v.mf_size>=H.BLKSIZE+f.framesize-H.FFTOFFSET),$a(v.mf_size>=512+f.framesize-32)}}this.lame_encode_mp3_frame=function(f,u,v,w,a,j){var N,P=O0([2,2]);P[0][0]=new tr,P[0][1]=new tr,P[1][0]=new tr,P[1][1]=new tr;var g=O0([2,2]);g[0][0]=new tr,g[0][1]=new tr,g[1][0]=new tr,g[1][1]=new tr;var I,F=[null,null],O=f.internal_flags,q=SS([2,4]),_=[.5,.5],k=[[0,0],[0,0]],R=[[0,0],[0,0]],y,A,p;if(F[0]=u,F[1]=v,O.lame_encode_frame_init==0&&c(f,F),O.padding=0,(O.slot_lag-=O.frac_SpF)<0&&(O.slot_lag+=f.out_samplerate,O.padding=1),O.psymodel!=0){var S,x=[null,null],M=0,D=ES(2);for(p=0;p<O.mode_gr;p++){for(A=0;A<O.channels_out;A++)x[A]=F[A],M=576+p*576-H.FFTOFFSET;if(f.VBR==Va.vbr_mtrh||f.VBR==Va.vbr_mt?S=n.L3psycho_anal_vbr(f,x,M,p,P,g,k[p],R[p],q[p],D):S=n.L3psycho_anal_ns(f,x,M,p,P,g,k[p],R[p],q[p],D),S!=0)return-4;for(f.mode==St.JOINT_STEREO&&(_[p]=q[p][2]+q[p][3],_[p]>0&&(_[p]=q[p][3]/_[p])),A=0;A<O.channels_out;A++){var Y=O.l3_side.tt[p][A];Y.block_type=D[A],Y.mixed_block_flag=0}}}else for(p=0;p<O.mode_gr;p++)for(A=0;A<O.channels_out;A++)O.l3_side.tt[p][A].block_type=H.NORM_TYPE,O.l3_side.tt[p][A].mixed_block_flag=0,R[p][A]=k[p][A]=700;if(l(O),i.mdct_sub48(O,F[0],F[1]),O.mode_ext=H.MPG_MD_LR_LR,f.force_ms)O.mode_ext=H.MPG_MD_MS_LR;else if(f.mode==St.JOINT_STEREO){var V=0,X=0;for(p=0;p<O.mode_gr;p++)for(A=0;A<O.channels_out;A++)V+=R[p][A],X+=k[p][A];if(V<=1*X){var b=O.l3_side.tt[0],T=O.l3_side.tt[O.mode_gr-1];b[0].block_type==b[1].block_type&&T[0].block_type==T[1].block_type&&(O.mode_ext=H.MPG_MD_MS_LR)}}if(O.mode_ext==t?(I=g,y=R):(I=P,y=k),f.analysis&&O.pinfo!=null)for(p=0;p<O.mode_gr;p++)for(A=0;A<O.channels_out;A++)O.pinfo.ms_ratio[p]=O.ms_ratio[p],O.pinfo.ms_ener_ratio[p]=_[p],O.pinfo.blocktype[p][A]=O.l3_side.tt[p][A].block_type,O.pinfo.pe[p][A]=y[p][A],C0.arraycopy(O.l3_side.tt[p][A].xr,0,O.pinfo.xr[p][A],0,576),O.mode_ext==t&&(O.pinfo.ers[p][A]=O.pinfo.ers[p][A+2],C0.arraycopy(O.pinfo.energy[p][A+2],0,O.pinfo.energy[p][A],0,O.pinfo.energy[p][A].length));if(f.VBR==Va.vbr_off||f.VBR==Va.vbr_abr){var ie,ce;for(ie=0;ie<18;ie++)O.nsPsy.pefirbuf[ie]=O.nsPsy.pefirbuf[ie+1];for(ce=0,p=0;p<O.mode_gr;p++)for(A=0;A<O.channels_out;A++)ce+=y[p][A];for(O.nsPsy.pefirbuf[18]=ce,ce=O.nsPsy.pefirbuf[9],ie=0;ie<9;ie++)ce+=(O.nsPsy.pefirbuf[ie]+O.nsPsy.pefirbuf[18-ie])*H.fircoef[ie];for(ce=670*5*O.mode_gr*O.channels_out/ce,p=0;p<O.mode_gr;p++)for(A=0;A<O.channels_out;A++)y[p][A]*=ce}if(O.iteration_loop.iteration_loop(f,y,_,I),s.format_bitstream(f),N=s.copy_buffer(O,w,a,j,1),f.bWriteVbrTag&&o.addVbrFrame(f),f.analysis&&O.pinfo!=null){for(A=0;A<O.channels_out;A++){var Te;for(Te=0;Te<e;Te++)O.pinfo.pcmdata[A][Te]=O.pinfo.pcmdata[A][Te+f.framesize];for(Te=e;Te<1600;Te++)O.pinfo.pcmdata[A][Te]=F[A][Te-e]}r.set_frame_pinfo(f,I)}return d(O),N}}var B0=Ve.Util,L0=Ve.new_float;function AS(){var e=L0(H.BLKSIZE),t=L0(H.BLKSIZE_s/2),s=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function n(r,i,l){var d=0,c,f,u;l<<=1;var v=i+l;c=4;do{var w,a,j,N,P,g,I;I=c>>1,N=c,P=c<<1,g=P+N,c=P<<1,f=i,u=f+I;do{var F,O,q,_;O=r[f+0]-r[f+N],F=r[f+0]+r[f+N],_=r[f+P]-r[f+g],q=r[f+P]+r[f+g],r[f+P]=F-q,r[f+0]=F+q,r[f+g]=O-_,r[f+N]=O+_,O=r[u+0]-r[u+N],F=r[u+0]+r[u+N],_=B0.SQRT2*r[u+g],q=B0.SQRT2*r[u+P],r[u+P]=F-q,r[u+0]=F+q,r[u+g]=O-_,r[u+N]=O+_,u+=c,f+=c}while(f<v);for(a=s[d+0],w=s[d+1],j=1;j<I;j++){var k,R;k=1-2*w*w,R=2*w*a,f=i+j,u=i+N-j;do{var y,A,p,F,O,S,q,x,_,M;A=R*r[f+N]-k*r[u+N],y=k*r[f+N]+R*r[u+N],O=r[f+0]-y,F=r[f+0]+y,S=r[u+0]-A,p=r[u+0]+A,A=R*r[f+g]-k*r[u+g],y=k*r[f+g]+R*r[u+g],_=r[f+P]-y,q=r[f+P]+y,M=r[u+P]-A,x=r[u+P]+A,A=w*q-a*M,y=a*q+w*M,r[f+P]=F-y,r[f+0]=F+y,r[u+g]=S-A,r[u+N]=S+A,A=a*x-w*_,y=w*x+a*_,r[u+P]=p-y,r[u+0]=p+y,r[f+g]=O-A,r[f+N]=O+A,u+=c,f+=c}while(f<v);k=a,a=k*s[d+0]-w*s[d+1],w=k*s[d+1]+w*s[d+0]}d+=2}while(c<l)}var o=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(r,i,l,d,c){for(var f=0;f<3;f++){var u=H.BLKSIZE_s/2,v=65535&576/3*(f+1),w=H.BLKSIZE_s/8-1;do{var a,j,N,P,g,I=o[w<<2]&255;a=t[I]*d[l][c+I+v],g=t[127-I]*d[l][c+I+v+128],j=a-g,a=a+g,N=t[I+64]*d[l][c+I+v+64],g=t[63-I]*d[l][c+I+v+192],P=N-g,N=N+g,u-=4,i[f][u+0]=a+N,i[f][u+2]=a-N,i[f][u+1]=j+P,i[f][u+3]=j-P,a=t[I+1]*d[l][c+I+v+1],g=t[126-I]*d[l][c+I+v+129],j=a-g,a=a+g,N=t[I+65]*d[l][c+I+v+65],g=t[62-I]*d[l][c+I+v+193],P=N-g,N=N+g,i[f][u+H.BLKSIZE_s/2+0]=a+N,i[f][u+H.BLKSIZE_s/2+2]=a-N,i[f][u+H.BLKSIZE_s/2+1]=j+P,i[f][u+H.BLKSIZE_s/2+3]=j-P}while(--w>=0);n(i[f],u,H.BLKSIZE_s/2)}},this.fft_long=function(r,i,l,d,c){var f=H.BLKSIZE/8-1,u=H.BLKSIZE/2;do{var v,w,a,j,N,P=o[f]&255;v=e[P]*d[l][c+P],N=e[P+512]*d[l][c+P+512],w=v-N,v=v+N,a=e[P+256]*d[l][c+P+256],N=e[P+768]*d[l][c+P+768],j=a-N,a=a+N,u-=4,i[u+0]=v+a,i[u+2]=v-a,i[u+1]=w+j,i[u+3]=w-j,v=e[P+1]*d[l][c+P+1],N=e[P+513]*d[l][c+P+513],w=v-N,v=v+N,a=e[P+257]*d[l][c+P+257],N=e[P+769]*d[l][c+P+769],j=a-N,a=a+N,i[u+H.BLKSIZE/2+0]=v+a,i[u+H.BLKSIZE/2+2]=v-a,i[u+H.BLKSIZE/2+1]=w+j,i[u+H.BLKSIZE/2+3]=w-j}while(--f>=0);n(i,u,H.BLKSIZE/2)},this.init_fft=function(r){for(var i=0;i<H.BLKSIZE;i++)e[i]=.42-.5*Math.cos(2*Math.PI*(i+.5)/H.BLKSIZE)+.08*Math.cos(4*Math.PI*(i+.5)/H.BLKSIZE);for(var i=0;i<H.BLKSIZE_s/2;i++)t[i]=.5*(1-Math.cos(2*Math.PI*(i+.5)/H.BLKSIZE_s))}}var _o=Ve.VbrMode,P0=Ve.Float,bo=Ve.ShortBlock,Rs=Ve.Util,MS=Ve.Arrays,Qt=Ve.new_float,zs=Ve.new_float_n,Lr=Ve.new_int,ct=Ve.assert;function Kc(){var e=new AS,t=2.302585092994046,s=2,n=16,o=2,r=16,i=.34,l=1/(14752*14752)/(H.BLKSIZE/2),d=.01,c=.8,f=.6,u=.3,v=3.5,w=21,a=.2302585093;function j(L){return L}function N(L,U){for(var K=0,Q=0;Q<H.BLKSIZE/2;++Q)K+=L[Q]*U.ATH.eql_w[Q];return K*=l,K}function P(L,U,K,Q,ee,z,ae,me,le,Ae,se){var Me=L.internal_flags;if(le<2)e.fft_long(Me,Q[ee],le,Ae,se),e.fft_short(Me,z[ae],le,Ae,se);else if(le==2){for(var qe=H.BLKSIZE-1;qe>=0;--qe){var Ze=Q[ee+0][qe],Le=Q[ee+1][qe];Q[ee+0][qe]=(Ze+Le)*Rs.SQRT2*.5,Q[ee+1][qe]=(Ze-Le)*Rs.SQRT2*.5}for(var Ge=2;Ge>=0;--Ge)for(var qe=H.BLKSIZE_s-1;qe>=0;--qe){var Ze=z[ae+0][Ge][qe],Le=z[ae+1][Ge][qe];z[ae+0][Ge][qe]=(Ze+Le)*Rs.SQRT2*.5,z[ae+1][Ge][qe]=(Ze-Le)*Rs.SQRT2*.5}}U[0]=Q[ee+0][0],U[0]*=U[0];for(var qe=H.BLKSIZE/2-1;qe>=0;--qe){var be=Q[ee+0][H.BLKSIZE/2-qe],Xe=Q[ee+0][H.BLKSIZE/2+qe];U[H.BLKSIZE/2-qe]=(be*be+Xe*Xe)*.5}for(var Ge=2;Ge>=0;--Ge){K[Ge][0]=z[ae+0][Ge][0],K[Ge][0]*=K[Ge][0];for(var qe=H.BLKSIZE_s/2-1;qe>=0;--qe){var be=z[ae+0][Ge][H.BLKSIZE_s/2-qe],Xe=z[ae+0][Ge][H.BLKSIZE_s/2+qe];K[Ge][H.BLKSIZE_s/2-qe]=(be*be+Xe*Xe)*.5}}{for(var ot=0,qe=11;qe<H.HBLKSIZE;qe++)ot+=U[qe];Me.tot_ener[le]=ot}if(L.analysis){for(var qe=0;qe<H.HBLKSIZE;qe++)Me.pinfo.energy[me][le][qe]=Me.pinfo.energy_save[le][qe],Me.pinfo.energy_save[le][qe]=U[qe];Me.pinfo.pe[me][le]=Me.pe[le]}L.athaa_loudapprox==2&&le<2&&(Me.loudness_sq[me][le]=Me.loudness_sq_save[le],Me.loudness_sq_save[le]=N(U,Me))}var g=8,I=23,F=15,O,q,_,k=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749];function R(){O=Math.pow(10,(g+1)/16),q=Math.pow(10,(I+1)/16),_=Math.pow(10,F/10)}var y=[3.3246*3.3246,3.23837*3.23837,3.15437*3.15437,3.00412*3.00412,2.86103*2.86103,2.65407*2.65407,2.46209*2.46209,2.284*2.284,2.11879*2.11879,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,1.56911*1.56911,1.46658*1.46658,1.37074*1.37074,1.31036*1.31036,1.25264*1.25264,1.20648*1.20648,1.16203*1.16203,1.12765*1.12765,1.09428*1.09428,1.0659*1.0659,1.03826*1.03826,1.01895*1.01895,1],A=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1],p=[2.35364*2.35364,2.29259*2.29259,2.23313*2.23313,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,1.49999*1.49999,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.11084*1.11084,1.03826*1.03826];function S(L,U,K,Q,ee,z){var ae;if(U>L)if(U<L*q)ae=U/L;else return L+U;else{if(L>=U*q)return L+U;ae=L/U}if(L+=U,Q+3<=3+3){if(ae>=O)return L;var me=0|Rs.FAST_LOG10_X(ae,16);return L*A[me]}var me=0|Rs.FAST_LOG10_X(ae,16);if(z!=0?U=ee.ATH.cb_s[K]*ee.ATH.adjust:U=ee.ATH.cb_l[K]*ee.ATH.adjust,L<_*U){if(L>U){var le,Ae;return le=1,me<=13&&(le=p[me]),Ae=Rs.FAST_LOG10_X(L/U,10/15),L*((y[me]-le)*Ae+le)}return me>13?L:L*p[me]}return L*y[me]}var x=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1];function M(L,U,K){var Q;if(L<0&&(L=0),U<0&&(U=0),L<=0)return U;if(U<=0)return L;if(U>L?Q=U/L:Q=L/U,K>=-2&&K<=2){if(Q>=O)return L+U;var ee=0|Rs.FAST_LOG10_X(Q,16);return(L+U)*x[ee]}return Q<q?L+U:(L<U&&(L=U),L)}function D(L,U){var K=L.internal_flags;if(K.channels_out>1){for(var Q=0;Q<H.SBMAX_l;Q++){var ee=K.thm[0].l[Q],z=K.thm[1].l[Q];K.thm[0].l[Q]+=z*U,K.thm[1].l[Q]+=ee*U}for(var Q=0;Q<H.SBMAX_s;Q++)for(var ae=0;ae<3;ae++){var ee=K.thm[0].s[Q][ae],z=K.thm[1].s[Q][ae];K.thm[0].s[Q][ae]+=z*U,K.thm[1].s[Q][ae]+=ee*U}}}function Y(L){for(var U=0;U<H.SBMAX_l;U++)if(!(L.thm[0].l[U]>1.58*L.thm[1].l[U]||L.thm[1].l[U]>1.58*L.thm[0].l[U])){var K=L.mld_l[U]*L.en[3].l[U],Q=Math.max(L.thm[2].l[U],Math.min(L.thm[3].l[U],K));K=L.mld_l[U]*L.en[2].l[U];var ee=Math.max(L.thm[3].l[U],Math.min(L.thm[2].l[U],K));L.thm[2].l[U]=Q,L.thm[3].l[U]=ee}for(var U=0;U<H.SBMAX_s;U++)for(var z=0;z<3;z++)if(!(L.thm[0].s[U][z]>1.58*L.thm[1].s[U][z]||L.thm[1].s[U][z]>1.58*L.thm[0].s[U][z])){var K=L.mld_s[U]*L.en[3].s[U][z],Q=Math.max(L.thm[2].s[U][z],Math.min(L.thm[3].s[U][z],K));K=L.mld_s[U]*L.en[2].s[U][z];var ee=Math.max(L.thm[3].s[U][z],Math.min(L.thm[2].s[U][z],K));L.thm[2].s[U][z]=Q,L.thm[3].s[U][z]=ee}}function V(L,U,K){var Q=U,ee=Math.pow(10,K);U*=2,Q*=2;for(var z=0;z<H.SBMAX_l;z++){var ae,me,le,Ae;if(Ae=L.ATH.cb_l[L.bm_l[z]]*ee,ae=Math.min(Math.max(L.thm[0].l[z],Ae),Math.max(L.thm[1].l[z],Ae)),me=Math.max(L.thm[2].l[z],Ae),le=Math.max(L.thm[3].l[z],Ae),ae*U<me+le){var se=ae*Q/(me+le);me*=se,le*=se}L.thm[2].l[z]=Math.min(me,L.thm[2].l[z]),L.thm[3].l[z]=Math.min(le,L.thm[3].l[z])}ee*=H.BLKSIZE_s/H.BLKSIZE;for(var z=0;z<H.SBMAX_s;z++)for(var Me=0;Me<3;Me++){var ae,me,le,Ae;if(Ae=L.ATH.cb_s[L.bm_s[z]]*ee,ae=Math.min(Math.max(L.thm[0].s[z][Me],Ae),Math.max(L.thm[1].s[z][Me],Ae)),me=Math.max(L.thm[2].s[z][Me],Ae),le=Math.max(L.thm[3].s[z][Me],Ae),ae*U<me+le){var se=ae*U/(me+le);me*=se,le*=se}L.thm[2].s[z][Me]=Math.min(L.thm[2].s[z][Me],me),L.thm[3].s[z][Me]=Math.min(L.thm[3].s[z][Me],le)}}function X(L,U,K,Q,ee){var z,ae,me=0,le=0;for(z=ae=0;z<H.SBMAX_s;++ae,++z){for(var Ae=L.bo_s[z],se=L.npart_s,Me=Ae<se?Ae:se;ae<Me;)ct(U[ae]>=0),ct(K[ae]>=0),me+=U[ae],le+=K[ae],ae++;if(L.en[Q].s[z][ee]=me,L.thm[Q].s[z][ee]=le,ae>=se){++z;break}ct(U[ae]>=0),ct(K[ae]>=0);{var qe=L.PSY.bo_s_weight[z],Ze=1-qe;me=qe*U[ae],le=qe*K[ae],L.en[Q].s[z][ee]+=me,L.thm[Q].s[z][ee]+=le,me=Ze*U[ae],le=Ze*K[ae]}}for(;z<H.SBMAX_s;++z)L.en[Q].s[z][ee]=0,L.thm[Q].s[z][ee]=0}function b(L,U,K,Q){var ee,z,ae=0,me=0;for(ee=z=0;ee<H.SBMAX_l;++z,++ee){for(var le=L.bo_l[ee],Ae=L.npart_l,se=le<Ae?le:Ae;z<se;)ct(U[z]>=0),ct(K[z]>=0),ae+=U[z],me+=K[z],z++;if(L.en[Q].l[ee]=ae,L.thm[Q].l[ee]=me,z>=Ae){++ee;break}ct(U[z]>=0),ct(K[z]>=0);{var Me=L.PSY.bo_l_weight[ee],qe=1-Me;ae=Me*U[z],me=Me*K[z],L.en[Q].l[ee]+=ae,L.thm[Q].l[ee]+=me,ae=qe*U[z],me=qe*K[z]}}for(;ee<H.SBMAX_l;++ee)L.en[Q].l[ee]=0,L.thm[Q].l[ee]=0}function T(L,U,K,Q,ee,z){var ae=L.internal_flags,me,le;for(le=me=0;le<ae.npart_s;++le){for(var Ae=0,se=ae.numlines_s[le],Me=0;Me<se;++Me,++me){var qe=U[z][me];Ae+=qe}K[le]=Ae}for(ct(le==ae.npart_s),me=le=0;le<ae.npart_s;le++){var Ze=ae.s3ind_s[le][0],Le=ae.s3_ss[me++]*K[Ze];for(++Ze;Ze<=ae.s3ind_s[le][1];)Le+=ae.s3_ss[me]*K[Ze],++me,++Ze;{var Ge=o*ae.nb_s1[ee][le];Q[le]=Math.min(Le,Ge)}if(ae.blocktype_old[ee&1]==H.SHORT_TYPE){var Ge=r*ae.nb_s2[ee][le],be=Q[le];Q[le]=Math.min(Ge,be)}ae.nb_s2[ee][le]=ae.nb_s1[ee][le],ae.nb_s1[ee][le]=Le,ct(Q[le]>=0)}for(;le<=H.CBANDS;++le)K[le]=0,Q[le]=0}function ie(L,U,K,Q){var ee=L.internal_flags;L.short_blocks==bo.short_block_coupled&&!(U[0]!=0&&U[1]!=0)&&(U[0]=U[1]=0);for(var z=0;z<ee.channels_out;z++)Q[z]=H.NORM_TYPE,L.short_blocks==bo.short_block_dispensed&&(U[z]=1),L.short_blocks==bo.short_block_forced&&(U[z]=0),U[z]!=0?(ct(ee.blocktype_old[z]!=H.START_TYPE),ee.blocktype_old[z]==H.SHORT_TYPE&&(Q[z]=H.STOP_TYPE)):(Q[z]=H.SHORT_TYPE,ee.blocktype_old[z]==H.NORM_TYPE&&(ee.blocktype_old[z]=H.START_TYPE),ee.blocktype_old[z]==H.STOP_TYPE&&(ee.blocktype_old[z]=H.SHORT_TYPE)),K[z]=ee.blocktype_old[z],ee.blocktype_old[z]=Q[z]}function ce(L,U,K){return K>=1?L:K<=0?U:U>0?Math.pow(L/U,K)*U:0}var Te=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function te(L,U){for(var K=309.07,Q=0;Q<H.SBMAX_s-1;Q++)for(var ee=0;ee<3;ee++){var z=L.thm.s[Q][ee];if(z>0){var ae=z*U,me=L.en.s[Q][ee];me>ae&&(me>ae*1e10?K+=Te[Q]*(10*t):K+=Te[Q]*Rs.FAST_LOG10(me/ae))}}return K}var ve=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function oe(L,U){for(var K=281.0575,Q=0;Q<H.SBMAX_l-1;Q++){var ee=L.thm.l[Q];if(ee>0){var z=ee*U,ae=L.en.l[Q];ae>z&&(ae>z*1e10?K+=ve[Q]*(10*t):K+=ve[Q]*Rs.FAST_LOG10(ae/z))}}return K}function Re(L,U,K,Q,ee){var z,ae;for(z=ae=0;z<L.npart_l;++z){var me=0,le=0,Ae;for(Ae=0;Ae<L.numlines_l[z];++Ae,++ae){var se=U[ae];me+=se,le<se&&(le=se)}K[z]=me,Q[z]=le,ee[z]=me*L.rnumlines_l[z],ct(L.rnumlines_l[z]>=0),ct(K[z]>=0),ct(Q[z]>=0),ct(ee[z]>=0)}}function Oe(L,U,K,Q){var ee=k.length-1,z=0,ae=K[z]+K[z+1];if(ae>0){var me=U[z];me<U[z+1]&&(me=U[z+1]),ct(L.numlines_l[z]+L.numlines_l[z+1]-1>0),ae=20*(me*2-ae)/(ae*(L.numlines_l[z]+L.numlines_l[z+1]-1));var le=0|ae;le>ee&&(le=ee),Q[z]=le}else Q[z]=0;for(z=1;z<L.npart_l-1;z++)if(ae=K[z-1]+K[z]+K[z+1],ae>0){var me=U[z-1];me<U[z]&&(me=U[z]),me<U[z+1]&&(me=U[z+1]),ct(L.numlines_l[z-1]+L.numlines_l[z]+L.numlines_l[z+1]-1>0),ae=20*(me*3-ae)/(ae*(L.numlines_l[z-1]+L.numlines_l[z]+L.numlines_l[z+1]-1));var le=0|ae;le>ee&&(le=ee),Q[z]=le}else Q[z]=0;if(ct(z==L.npart_l-1),ae=K[z-1]+K[z],ae>0){var me=U[z-1];me<U[z]&&(me=U[z]),ct(L.numlines_l[z-1]+L.numlines_l[z]-1>0),ae=20*(me*2-ae)/(ae*(L.numlines_l[z-1]+L.numlines_l[z]-1));var le=0|ae;le>ee&&(le=ee),Q[z]=le}else Q[z]=0;ct(z==L.npart_l-1)}var Se=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];this.L3psycho_anal_ns=function(L,U,K,Q,ee,z,ae,me,le,Ae){var se=L.internal_flags,Me=zs([2,H.BLKSIZE]),qe=zs([2,3,H.BLKSIZE_s]),Ze=Qt(H.CBANDS+1),Le=Qt(H.CBANDS+1),Ge=Qt(H.CBANDS+2),be=Lr(2),Xe=Lr(2),ot,Pe,We,Be,Qe,Ct,De,rt,lt=zs([2,576]),qt,ps=Lr(H.CBANDS+2),$t=Lr(H.CBANDS+2);for(MS.fill($t,0),ot=se.channels_out,L.mode==St.JOINT_STEREO&&(ot=4),L.VBR==_o.vbr_off?qt=se.ResvMax==0?0:se.ResvSize/se.ResvMax*.5:L.VBR==_o.vbr_rh||L.VBR==_o.vbr_mtrh||L.VBR==_o.vbr_mt?qt=.6:qt=1,Pe=0;Pe<se.channels_out;Pe++){var Vt=U[Pe],as=K+576-350-w+192;for(Be=0;Be<576;Be++){var vs,gs;for(vs=Vt[as+Be+10],gs=0,Qe=0;Qe<(w-1)/2-1;Qe+=2)vs+=Se[Qe]*(Vt[as+Be+Qe]+Vt[as+Be+w-Qe]),gs+=Se[Qe+1]*(Vt[as+Be+Qe+1]+Vt[as+Be+w-Qe-1]);lt[Pe][Be]=vs+gs}ee[Q][Pe].en.assign(se.en[Pe]),ee[Q][Pe].thm.assign(se.thm[Pe]),ot>2&&(z[Q][Pe].en.assign(se.en[Pe+2]),z[Q][Pe].thm.assign(se.thm[Pe+2]))}for(Pe=0;Pe<ot;Pe++){var nt,Bs,es=Qt(12),Vs=[0,0,0,0],Kn=Qt(12),ti=1,wa,uo=Qt(H.CBANDS),Yn=Qt(H.CBANDS),Pt=[0,0,0,0],ns=Qt(H.HBLKSIZE),Sa=zs([3,H.HBLKSIZE_s]);for(ct(se.npart_s<=H.CBANDS),ct(se.npart_l<=H.CBANDS),Be=0;Be<3;Be++)es[Be]=se.nsPsy.last_en_subshort[Pe][Be+6],ct(se.nsPsy.last_en_subshort[Pe][Be+4]>0),Kn[Be]=es[Be]/se.nsPsy.last_en_subshort[Pe][Be+4],Vs[0]+=es[Be];if(Pe==2)for(Be=0;Be<576;Be++){var si,ni;si=lt[0][Be],ni=lt[1][Be],lt[0][Be]=si+ni,lt[1][Be]=si-ni}{var Ea=lt[Pe&1],Xn=0;for(Be=0;Be<9;Be++){for(var mc=Xn+64,Zt=1;Xn<mc;Xn++)Zt<Math.abs(Ea[Xn])&&(Zt=Math.abs(Ea[Xn]));se.nsPsy.last_en_subshort[Pe][Be]=es[Be+3]=Zt,Vs[1+Be/3]+=Zt,Zt>es[Be+3-2]?(ct(es[Be+3-2]>0),Zt=Zt/es[Be+3-2]):es[Be+3-2]>Zt*10?Zt=es[Be+3-2]/(Zt*10):Zt=0,Kn[Be+3]=Zt}}if(L.analysis){var ri=Kn[0];for(Be=1;Be<12;Be++)ri<Kn[Be]&&(ri=Kn[Be]);se.pinfo.ers[Q][Pe]=se.pinfo.ers_save[Pe],se.pinfo.ers_save[Pe]=ri}for(wa=Pe==3?se.nsPsy.attackthre_s:se.nsPsy.attackthre,Be=0;Be<12;Be++)Pt[Be/3]==0&&Kn[Be]>wa&&(Pt[Be/3]=Be%3+1);for(Be=1;Be<4;Be++){var fo;Vs[Be-1]>Vs[Be]?(ct(Vs[Be]>0),fo=Vs[Be-1]/Vs[Be]):(ct(Vs[Be-1]>0),fo=Vs[Be]/Vs[Be-1]),fo<1.7&&(Pt[Be]=0,Be==1&&(Pt[0]=0))}for(Pt[0]!=0&&se.nsPsy.lastAttacks[Pe]!=0&&(Pt[0]=0),(se.nsPsy.lastAttacks[Pe]==3||Pt[0]+Pt[1]+Pt[2]+Pt[3]!=0)&&(ti=0,Pt[1]!=0&&Pt[0]!=0&&(Pt[1]=0),Pt[2]!=0&&Pt[1]!=0&&(Pt[2]=0),Pt[3]!=0&&Pt[2]!=0&&(Pt[3]=0)),Pe<2?Xe[Pe]=ti:ti==0&&(Xe[0]=Xe[1]=0),le[Pe]=se.tot_ener[Pe],Bs=qe,nt=Me,P(L,ns,Sa,nt,Pe&1,Bs,Pe&1,Q,Pe,U,K),Re(se,ns,Ze,uo,Yn),Oe(se,uo,Yn,ps),rt=0;rt<3;rt++){var oi,rs;for(T(L,Sa,Le,Ge,Pe,rt),X(se,Le,Ge,Pe,rt),De=0;De<H.SBMAX_s;De++){if(rs=se.thm[Pe].s[De][rt],rs*=c,Pt[rt]>=2||Pt[rt+1]==1){var Ar=rt!=0?rt-1:2,Zt=ce(se.thm[Pe].s[De][Ar],rs,f*qt);rs=Math.min(rs,Zt)}if(Pt[rt]==1){var Ar=rt!=0?rt-1:2,Zt=ce(se.thm[Pe].s[De][Ar],rs,u*qt);rs=Math.min(rs,Zt)}else if(rt!=0&&Pt[rt-1]==3||rt==0&&se.nsPsy.lastAttacks[Pe]==3){var Ar=rt!=2?rt+1:0,Zt=ce(se.thm[Pe].s[De][Ar],rs,u*qt);rs=Math.min(rs,Zt)}oi=es[rt*3+3]+es[rt*3+4]+es[rt*3+5],es[rt*3+5]*6<oi&&(rs*=.5,es[rt*3+4]*6<oi&&(rs*=.5)),se.thm[Pe].s[De][rt]=rs}}for(se.nsPsy.lastAttacks[Pe]=Pt[2],Ct=0,We=0;We<se.npart_l;We++){for(var Tn=se.s3ind[We][0],ii=Ze[Tn]*k[ps[Tn]],kn=se.s3_ll[Ct++]*ii;++Tn<=se.s3ind[We][1];)ii=Ze[Tn]*k[ps[Tn]],kn=S(kn,se.s3_ll[Ct++]*ii,Tn,Tn-We,se,0);kn*=.158489319246111,se.blocktype_old[Pe&1]==H.SHORT_TYPE?Ge[We]=kn:Ge[We]=ce(Math.min(kn,Math.min(s*se.nb_1[Pe][We],n*se.nb_2[Pe][We])),kn,qt),se.nb_2[Pe][We]=se.nb_1[Pe][We],se.nb_1[Pe][We]=kn}for(;We<=H.CBANDS;++We)Ze[We]=0,Ge[We]=0;b(se,Ze,Ge,Pe)}if((L.mode==St.STEREO||L.mode==St.JOINT_STEREO)&&L.interChRatio>0&&D(L,L.interChRatio),L.mode==St.JOINT_STEREO){var ai;Y(se),ai=L.msfix,Math.abs(ai)>0&&V(se,ai,L.ATHlower*se.ATH.adjust)}for(ie(L,Xe,Ae,be),Pe=0;Pe<ot;Pe++){var Mr,xr=0,Rr,Zs;Pe>1?(Mr=me,xr=-2,Rr=H.NORM_TYPE,(Ae[0]==H.SHORT_TYPE||Ae[1]==H.SHORT_TYPE)&&(Rr=H.SHORT_TYPE),Zs=z[Q][Pe-2]):(Mr=ae,xr=0,Rr=Ae[Pe],Zs=ee[Q][Pe]),Rr==H.SHORT_TYPE?Mr[xr+Pe]=te(Zs,se.masking_lower):Mr[xr+Pe]=oe(Zs,se.masking_lower),L.analysis&&(se.pinfo.pe[Q][Pe]=Mr[xr+Pe])}return 0};function Fe(L,U,K,Q,ee,z,ae,me){var le=L.internal_flags;if(Q<2)e.fft_long(le,ae[me],Q,U,K);else if(Q==2)for(var Ae=H.BLKSIZE-1;Ae>=0;--Ae){var se=ae[me+0][Ae],Me=ae[me+1][Ae];ae[me+0][Ae]=(se+Me)*Rs.SQRT2*.5,ae[me+1][Ae]=(se-Me)*Rs.SQRT2*.5}z[0]=ae[me+0][0],z[0]*=z[0];for(var Ae=H.BLKSIZE/2-1;Ae>=0;--Ae){var qe=ae[me+0][H.BLKSIZE/2-Ae],Ze=ae[me+0][H.BLKSIZE/2+Ae];z[H.BLKSIZE/2-Ae]=(qe*qe+Ze*Ze)*.5}{for(var Le=0,Ae=11;Ae<H.HBLKSIZE;Ae++)Le+=z[Ae];le.tot_ener[Q]=Le}if(L.analysis){for(var Ae=0;Ae<H.HBLKSIZE;Ae++)le.pinfo.energy[ee][Q][Ae]=le.pinfo.energy_save[Q][Ae],le.pinfo.energy_save[Q][Ae]=z[Ae];le.pinfo.pe[ee][Q]=le.pe[Q]}}function Ke(L,U,K,Q,ee,z,ae,me){var le=L.internal_flags;if(ee==0&&Q<2&&e.fft_short(le,ae[me],Q,U,K),Q==2)for(var Ae=H.BLKSIZE_s-1;Ae>=0;--Ae){var se=ae[me+0][ee][Ae],Me=ae[me+1][ee][Ae];ae[me+0][ee][Ae]=(se+Me)*Rs.SQRT2*.5,ae[me+1][ee][Ae]=(se-Me)*Rs.SQRT2*.5}z[ee][0]=ae[me+0][ee][0],z[ee][0]*=z[ee][0];for(var Ae=H.BLKSIZE_s/2-1;Ae>=0;--Ae){var qe=ae[me+0][ee][H.BLKSIZE_s/2-Ae],Ze=ae[me+0][ee][H.BLKSIZE_s/2+Ae];z[ee][H.BLKSIZE_s/2-Ae]=(qe*qe+Ze*Ze)*.5}}function E(L,U,K,Q){var ee=L.internal_flags;L.athaa_loudapprox==2&&K<2&&(ee.loudness_sq[U][K]=ee.loudness_sq_save[K],ee.loudness_sq_save[K]=N(Q,ee))}var B=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];function $(L,U,K,Q,ee,z,ae,me,le,Ae){for(var se=zs([2,576]),Me=L.internal_flags,qe=Me.channels_out,Ze=L.mode==St.JOINT_STEREO?4:qe,Le=0;Le<qe;Le++){firbuf=U[Le];for(var Ge=K+576-350-w+192,be=0;be<576;be++){var Xe,ot;Xe=firbuf[Ge+be+10],ot=0;for(var Pe=0;Pe<(w-1)/2-1;Pe+=2)Xe+=B[Pe]*(firbuf[Ge+be+Pe]+firbuf[Ge+be+w-Pe]),ot+=B[Pe+1]*(firbuf[Ge+be+Pe+1]+firbuf[Ge+be+w-Pe-1]);se[Le][be]=Xe+ot}ee[Q][Le].en.assign(Me.en[Le]),ee[Q][Le].thm.assign(Me.thm[Le]),Ze>2&&(z[Q][Le].en.assign(Me.en[Le+2]),z[Q][Le].thm.assign(Me.thm[Le+2]))}for(var Le=0;Le<Ze;Le++){var We=Qt(12),Be=Qt(12),Qe=[0,0,0,0],Ct=se[Le&1],De=0,rt=Le==3?Me.nsPsy.attackthre_s:Me.nsPsy.attackthre,lt=1;if(Le==2)for(var be=0,Pe=576;Pe>0;++be,--Pe){var qt=se[0][be],ps=se[1][be];se[0][be]=qt+ps,se[1][be]=qt-ps}for(var be=0;be<3;be++)Be[be]=Me.nsPsy.last_en_subshort[Le][be+6],ct(Me.nsPsy.last_en_subshort[Le][be+4]>0),We[be]=Be[be]/Me.nsPsy.last_en_subshort[Le][be+4],Qe[0]+=Be[be];for(var be=0;be<9;be++){for(var $t=De+64,Vt=1;De<$t;De++)Vt<Math.abs(Ct[De])&&(Vt=Math.abs(Ct[De]));Me.nsPsy.last_en_subshort[Le][be]=Be[be+3]=Vt,Qe[1+be/3]+=Vt,Vt>Be[be+3-2]?(ct(Be[be+3-2]>0),Vt=Vt/Be[be+3-2]):Be[be+3-2]>Vt*10?Vt=Be[be+3-2]/(Vt*10):Vt=0,We[be+3]=Vt}for(var be=0;be<3;++be){var as=Be[be*3+3]+Be[be*3+4]+Be[be*3+5],vs=1;Be[be*3+5]*6<as&&(vs*=.5,Be[be*3+4]*6<as&&(vs*=.5)),me[Le][be]=vs}if(L.analysis){for(var gs=We[0],be=1;be<12;be++)gs<We[be]&&(gs=We[be]);Me.pinfo.ers[Q][Le]=Me.pinfo.ers_save[Le],Me.pinfo.ers_save[Le]=gs}for(var be=0;be<12;be++)le[Le][be/3]==0&&We[be]>rt&&(le[Le][be/3]=be%3+1);for(var be=1;be<4;be++){var nt=Qe[be-1],Bs=Qe[be],es=Math.max(nt,Bs);es<4e4&&nt<1.7*Bs&&Bs<1.7*nt&&(be==1&&le[Le][0]<=le[Le][be]&&(le[Le][0]=0),le[Le][be]=0)}le[Le][0]<=Me.nsPsy.lastAttacks[Le]&&(le[Le][0]=0),(Me.nsPsy.lastAttacks[Le]==3||le[Le][0]+le[Le][1]+le[Le][2]+le[Le][3]!=0)&&(lt=0,le[Le][1]!=0&&le[Le][0]!=0&&(le[Le][1]=0),le[Le][2]!=0&&le[Le][1]!=0&&(le[Le][2]=0),le[Le][3]!=0&&le[Le][2]!=0&&(le[Le][3]=0)),Le<2?Ae[Le]=lt:lt==0&&(Ae[0]=Ae[1]=0),ae[Le]=Me.tot_ener[Le]}}function W(L,U,K){if(K==0)for(var Q=0;Q<L.npart_s;Q++)L.nb_s2[U][Q]=L.nb_s1[U][Q],L.nb_s1[U][Q]=0}function Z(L,U){for(var K=0;K<L.npart_l;K++)L.nb_2[U][K]=L.nb_1[U][K],L.nb_1[U][K]=0}function ue(L,U,K,Q){var ee=k.length-1,z=0,ae=K[z]+K[z+1];if(ae>0){var me=U[z];me<U[z+1]&&(me=U[z+1]),ct(L.numlines_s[z]+L.numlines_s[z+1]-1>0),ae=20*(me*2-ae)/(ae*(L.numlines_s[z]+L.numlines_s[z+1]-1));var le=0|ae;le>ee&&(le=ee),Q[z]=le}else Q[z]=0;for(z=1;z<L.npart_s-1;z++)if(ae=K[z-1]+K[z]+K[z+1],ct(z+1<L.npart_s),ae>0){var me=U[z-1];me<U[z]&&(me=U[z]),me<U[z+1]&&(me=U[z+1]),ct(L.numlines_s[z-1]+L.numlines_s[z]+L.numlines_s[z+1]-1>0),ae=20*(me*3-ae)/(ae*(L.numlines_s[z-1]+L.numlines_s[z]+L.numlines_s[z+1]-1));var le=0|ae;le>ee&&(le=ee),Q[z]=le}else Q[z]=0;if(ct(z==L.npart_s-1),ae=K[z-1]+K[z],ae>0){var me=U[z-1];me<U[z]&&(me=U[z]),ct(L.numlines_s[z-1]+L.numlines_s[z]-1>0),ae=20*(me*2-ae)/(ae*(L.numlines_s[z-1]+L.numlines_s[z]-1));var le=0|ae;le>ee&&(le=ee),Q[z]=le}else Q[z]=0;ct(z==L.npart_s-1)}function de(L,U,K,Q,ee,z){var ae=L.internal_flags,me=new float[H.CBANDS],le=Qt(H.CBANDS),Ae,se,Me,qe=new int[H.CBANDS];for(Me=se=0;Me<ae.npart_s;++Me){var Ze=0,Le=0,Ge=ae.numlines_s[Me];for(Ae=0;Ae<Ge;++Ae,++se){var be=U[z][se];Ze+=be,Le<be&&(Le=be)}K[Me]=Ze,me[Me]=Le,le[Me]=Ze/Ge,ct(le[Me]>=0)}for(ct(Me==ae.npart_s);Me<H.CBANDS;++Me)me[Me]=0,le[Me]=0;for(ue(ae,me,le,qe),se=Me=0;Me<ae.npart_s;Me++){var Xe=ae.s3ind_s[Me][0],ot=ae.s3ind_s[Me][1],Pe,We,Be,Qe,Ct;for(Pe=qe[Xe],We=1,Qe=ae.s3_ss[se]*K[Xe]*k[qe[Xe]],++se,++Xe;Xe<=ot;)Pe+=qe[Xe],We+=1,Be=ae.s3_ss[se]*K[Xe]*k[qe[Xe]],Qe=M(Qe,Be,Xe-Me),++se,++Xe;Pe=(1+2*Pe)/(2*We),Ct=k[Pe]*.5,Qe*=Ct,Q[Me]=Qe,ae.nb_s2[ee][Me]=ae.nb_s1[ee][Me],ae.nb_s1[ee][Me]=Qe,Be=me[Me],Be*=ae.minval_s[Me],Be*=Ct,Q[Me]>Be&&(Q[Me]=Be),ae.masking_lower>1&&(Q[Me]*=ae.masking_lower),Q[Me]>K[Me]&&(Q[Me]=K[Me]),ae.masking_lower<1&&(Q[Me]*=ae.masking_lower),ct(Q[Me]>=0)}for(;Me<H.CBANDS;++Me)K[Me]=0,Q[Me]=0}function re(L,U,K,Q,ee){var z=Qt(H.CBANDS),ae=Qt(H.CBANDS),me=Lr(H.CBANDS+2),le;Re(L,U,K,z,ae),Oe(L,z,ae,me);var Ae=0;for(le=0;le<L.npart_l;le++){var se,Me,qe,Ze,Le=L.s3ind[le][0],Ge=L.s3ind[le][1],be=0,Xe=0;for(be=me[Le],Xe+=1,Me=L.s3_ll[Ae]*K[Le]*k[me[Le]],++Ae,++Le;Le<=Ge;)be+=me[Le],Xe+=1,se=L.s3_ll[Ae]*K[Le]*k[me[Le]],Ze=M(Me,se,Le-le),Me=Ze,++Ae,++Le;if(be=(1+2*be)/(2*Xe),qe=k[be]*.5,Me*=qe,L.blocktype_old[ee&1]==H.SHORT_TYPE){var ot=s*L.nb_1[ee][le];ot>0?Q[le]=Math.min(Me,ot):Q[le]=Math.min(Me,K[le]*u)}else{var Pe=n*L.nb_2[ee][le],We=s*L.nb_1[ee][le],ot;Pe<=0&&(Pe=Me),We<=0&&(We=Me),L.blocktype_old[ee&1]==H.NORM_TYPE?ot=Math.min(We,Pe):ot=We,Q[le]=Math.min(Me,ot)}L.nb_2[ee][le]=L.nb_1[ee][le],L.nb_1[ee][le]=Me,se=z[le],se*=L.minval_l[le],se*=qe,Q[le]>se&&(Q[le]=se),L.masking_lower>1&&(Q[le]*=L.masking_lower),Q[le]>K[le]&&(Q[le]=K[le]),L.masking_lower<1&&(Q[le]*=L.masking_lower),ct(Q[le]>=0)}for(;le<H.CBANDS;++le)K[le]=0,Q[le]=0}function fe(L,U){var K=L.internal_flags;L.short_blocks==bo.short_block_coupled&&!(U[0]!=0&&U[1]!=0)&&(U[0]=U[1]=0);for(var Q=0;Q<K.channels_out;Q++)L.short_blocks==bo.short_block_dispensed&&(U[Q]=1),L.short_blocks==bo.short_block_forced&&(U[Q]=0)}function J(L,U,K){for(var Q=L.internal_flags,ee=0;ee<Q.channels_out;ee++){var z=H.NORM_TYPE;U[ee]!=0?(ct(Q.blocktype_old[ee]!=H.START_TYPE),Q.blocktype_old[ee]==H.SHORT_TYPE&&(z=H.STOP_TYPE)):(z=H.SHORT_TYPE,Q.blocktype_old[ee]==H.NORM_TYPE&&(Q.blocktype_old[ee]=H.START_TYPE),Q.blocktype_old[ee]==H.STOP_TYPE&&(Q.blocktype_old[ee]=H.SHORT_TYPE)),K[ee]=Q.blocktype_old[ee],Q.blocktype_old[ee]=z}}function ke(L,U,K,Q,ee,z,ae){for(var me=z*2,le=z>0?Math.pow(10,ee):1,Ae,se,Me=0;Me<ae;++Me){var qe=L[2][Me],Ze=L[3][Me],Le=U[0][Me],Ge=U[1][Me],be=U[2][Me],Xe=U[3][Me];if(Le<=1.58*Ge&&Ge<=1.58*Le){var ot=K[Me]*Ze,Pe=K[Me]*qe;se=Math.max(be,Math.min(Xe,ot)),Ae=Math.max(Xe,Math.min(be,Pe))}else se=be,Ae=Xe;if(z>0){var We,Be,Qe=Q[Me]*le;if(We=Math.min(Math.max(Le,Qe),Math.max(Ge,Qe)),be=Math.max(se,Qe),Xe=Math.max(Ae,Qe),Be=be+Xe,Be>0&&We*me<Be){var Ct=We*me/Be;be*=Ct,Xe*=Ct}se=Math.min(be,se),Ae=Math.min(Xe,Ae)}se>qe&&(se=qe),Ae>Ze&&(Ae=Ze),U[2][Me]=se,U[3][Me]=Ae}}this.L3psycho_anal_vbr=function(L,U,K,Q,ee,z,ae,me,le,Ae){var se=L.internal_flags,Me,qe,Ze=Qt(H.HBLKSIZE),Le=zs([3,H.HBLKSIZE_s]),Ge=zs([2,H.BLKSIZE]),be=zs([2,3,H.BLKSIZE_s]),Xe=zs([4,H.CBANDS]),ot=zs([4,H.CBANDS]),Pe=zs([4,3]),We=.6,Be=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],Qe=Lr(2),Ct=L.mode==St.JOINT_STEREO?4:se.channels_out;$(L,U,K,Q,ee,z,le,Pe,Be,Qe),fe(L,Qe);{for(var De=0;De<Ct;De++){var rt=De&1;Me=Ge,Fe(L,U,K,De,Q,Ze,Me,rt),E(L,Q,De,Ze),Qe[rt]!=0?re(se,Ze,Xe[De],ot[De],De):Z(se,De)}Qe[0]+Qe[1]==2&&L.mode==St.JOINT_STEREO&&ke(Xe,ot,se.mld_cb_l,se.ATH.cb_l,L.ATHlower*se.ATH.adjust,L.msfix,se.npart_l);for(var De=0;De<Ct;De++){var rt=De&1;Qe[rt]!=0&&b(se,Xe[De],ot[De],De)}}{for(var lt=0;lt<3;lt++){for(var De=0;De<Ct;++De){var rt=De&1;Qe[rt]!=0?W(se,De,lt):(qe=be,Ke(L,U,K,De,lt,Le,qe,rt),de(L,Le,Xe[De],ot[De],De,lt))}Qe[0]+Qe[1]==0&&L.mode==St.JOINT_STEREO&&ke(Xe,ot,se.mld_cb_s,se.ATH.cb_s,L.ATHlower*se.ATH.adjust,L.msfix,se.npart_s);for(var De=0;De<Ct;++De){var rt=De&1;Qe[rt]==0&&X(se,Xe[De],ot[De],De,lt)}}for(var De=0;De<Ct;De++){var rt=De&1;if(Qe[rt]==0)for(var qt=0;qt<H.SBMAX_s;qt++){for(var ps=Qt(3),lt=0;lt<3;lt++){var $t=se.thm[De].s[qt][lt];if($t*=c,Be[De][lt]>=2||Be[De][lt+1]==1){var Vt=lt!=0?lt-1:2,as=ce(se.thm[De].s[qt][Vt],$t,f*We);$t=Math.min($t,as)}else if(Be[De][lt]==1){var Vt=lt!=0?lt-1:2,as=ce(se.thm[De].s[qt][Vt],$t,u*We);$t=Math.min($t,as)}else if(lt!=0&&Be[De][lt-1]==3||lt==0&&se.nsPsy.lastAttacks[De]==3){var Vt=lt!=2?lt+1:0,as=ce(se.thm[De].s[qt][Vt],$t,u*We);$t=Math.min($t,as)}$t*=Pe[De][lt],ps[lt]=$t}for(var lt=0;lt<3;lt++)se.thm[De].s[qt][lt]=ps[lt]}}}for(var De=0;De<Ct;De++)se.nsPsy.lastAttacks[De]=Be[De][2];J(L,Qe,Ae);for(var De=0;De<Ct;De++){var vs,gs,nt,Bs;De>1?(vs=me,gs=-2,nt=H.NORM_TYPE,(Ae[0]==H.SHORT_TYPE||Ae[1]==H.SHORT_TYPE)&&(nt=H.SHORT_TYPE),Bs=z[Q][De-2]):(vs=ae,gs=0,nt=Ae[De],Bs=ee[Q][De]),nt==H.SHORT_TYPE?vs[gs+De]=te(Bs,se.masking_lower):vs[gs+De]=oe(Bs,se.masking_lower),L.analysis&&(se.pinfo.pe[Q][De]=vs[gs+De])}return 0};function _e(L,U){var K=L,Q;return K>=0?Q=-K*27:Q=K*U,Q<=-72?0:Math.exp(Q*a)}function Ce(L){var U=0,K=0;{var Q=0,ee,z;for(Q=0;_e(Q,L)>1e-20;Q-=1);for(ee=Q,z=0;Math.abs(z-ee)>1e-12;)Q=(z+ee)/2,_e(Q,L)>0?z=Q:ee=Q;U=ee}{var Q=0,ee,z;for(Q=0;_e(Q,L)>1e-20;Q+=1);for(ee=0,z=Q;Math.abs(z-ee)>1e-12;)Q=(z+ee)/2,_e(Q,L)>0?ee=Q:z=Q;K=z}{var ae=0,me=1e3,le;for(le=0;le<=me;++le){var Q=U+le*(K-U)/me,Ae=_e(Q,L);ae+=Ae}{var se=(me+1)/(ae*(K-U));return se}}}function ye(L){var U,K,Q,ee;return U=L,U>=0?U*=3:U*=1.5,U>=.5&&U<=2.5?(ee=U-.5,K=8*(ee*ee-2*ee)):K=0,U+=.474,Q=15.811389+7.5*U-17.5*Math.sqrt(1+U*U),Q<=-60?0:(U=Math.exp((K+Q)*a),U/=.6609193,U)}function He(L){return L<0&&(L=0),L=L*.001,13*Math.atan(.76*L)+3.5*Math.atan(L*L/(7.5*7.5))}function he(L,U,K,Q,ee,z,ae,me,le,Ae,se,Me){var qe=Qt(H.CBANDS+1),Ze=me/(Me>15?2*576:2*192),Le=Lr(H.HBLKSIZE),Ge;me/=le;var be=0,Xe=0;for(Ge=0;Ge<H.CBANDS;Ge++){var ot,Pe;for(ot=He(me*be),qe[Ge]=me*be,Pe=be;He(me*Pe)-ot<i&&Pe<=le/2;Pe++);for(L[Ge]=Pe-be,Xe=Ge+1;be<Pe;)Le[be++]=Ge;if(be>le/2){be=le/2,++Ge;break}}qe[Ge]=me*be;for(var We=0;We<Me;We++){var Be,Qe,Ct,De,rt;Ct=Ae[We],De=Ae[We+1],Be=0|Math.floor(.5+se*(Ct-.5)),Be<0&&(Be=0),Qe=0|Math.floor(.5+se*(De-.5)),Qe>le/2&&(Qe=le/2),K[We]=(Le[Be]+Le[Qe])/2,U[We]=Le[Qe];var lt=Ze*De;ae[We]=(lt-qe[U[We]])/(qe[U[We]+1]-qe[U[We]]),ae[We]<0?ae[We]=0:ae[We]>1&&(ae[We]=1),rt=He(me*Ae[We]*se),rt=Math.min(rt,15.5)/15.5,z[We]=Math.pow(10,1.25*(1-Math.cos(Math.PI*rt))-2.5)}be=0;for(var qt=0;qt<Xe;qt++){var ps=L[qt],ot,$t;ot=He(me*be),$t=He(me*(be+ps-1)),Q[qt]=.5*(ot+$t),ot=He(me*(be-.5)),$t=He(me*(be+ps-.5)),ee[qt]=$t-ot,be+=ps}return Xe}function Ee(L,U,K,Q,ee,z){var ae=zs([H.CBANDS,H.CBANDS]),me,le=0;if(z)for(var Ae=0;Ae<U;Ae++)for(me=0;me<U;me++){var se=ye(K[Ae]-K[me])*Q[me];ae[Ae][me]=se*ee[Ae]}else for(me=0;me<U;me++)for(var Me=15+Math.min(21/K[me],12),qe=Ce(Me),Ae=0;Ae<U;Ae++){var se=qe*_e(K[Ae]-K[me],Me)*Q[me];ae[Ae][me]=se*ee[Ae]}for(var Ae=0;Ae<U;Ae++){for(me=0;me<U&&!(ae[Ae][me]>0);me++);for(L[Ae][0]=me,me=U-1;me>0&&!(ae[Ae][me]>0);me--);L[Ae][1]=me,le+=L[Ae][1]-L[Ae][0]+1}for(var Ze=Qt(le),Le=0,Ae=0;Ae<U;Ae++)for(me=L[Ae][0];me<=L[Ae][1];me++)Ze[Le++]=ae[Ae][me];return Ze}function ne(L){var U=He(L);return U=Math.min(U,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*U))-2.5)}this.psymodel_init=function(L){var U=L.internal_flags,K,Q=!0,ee=13,z=24,ae=0,me=0,le=-8.25,Ae=-4.5,se=Qt(H.CBANDS),Me=Qt(H.CBANDS),qe=Qt(H.CBANDS),Ze=L.out_samplerate;switch(L.experimentalZ){default:case 0:Q=!0;break;case 1:Q=!(L.VBR==_o.vbr_mtrh||L.VBR==_o.vbr_mt);break;case 2:Q=!1;break;case 3:ee=8,ae=-1.75,me=-.0125,le=-8.25,Ae=-2.25;break}for(U.ms_ener_ratio_old=.25,U.blocktype_old[0]=U.blocktype_old[1]=H.NORM_TYPE,K=0;K<4;++K){for(var be=0;be<H.CBANDS;++be)U.nb_1[K][be]=1e20,U.nb_2[K][be]=1e20,U.nb_s1[K][be]=U.nb_s2[K][be]=1;for(var Le=0;Le<H.SBMAX_l;Le++)U.en[K].l[Le]=1e20,U.thm[K].l[Le]=1e20;for(var be=0;be<3;++be){for(var Le=0;Le<H.SBMAX_s;Le++)U.en[K].s[Le][be]=1e20,U.thm[K].s[Le][be]=1e20;U.nsPsy.lastAttacks[K]=0}for(var be=0;be<9;be++)U.nsPsy.last_en_subshort[K][be]=10}for(U.loudness_sq_save[0]=U.loudness_sq_save[1]=0,U.npart_l=he(U.numlines_l,U.bo_l,U.bm_l,se,Me,U.mld_l,U.PSY.bo_l_weight,Ze,H.BLKSIZE,U.scalefac_band.l,H.BLKSIZE/(2*576),H.SBMAX_l),ct(U.npart_l<H.CBANDS),K=0;K<U.npart_l;K++){var Ge=ae;se[K]>=ee&&(Ge=me*(se[K]-ee)/(z-ee)+ae*(z-se[K])/(z-ee)),qe[K]=Math.pow(10,Ge/10),U.numlines_l[K]>0?U.rnumlines_l[K]=1/U.numlines_l[K]:U.rnumlines_l[K]=0}U.s3_ll=Ee(U.s3ind,U.npart_l,se,Me,qe,Q);var be=0;for(K=0;K<U.npart_l;K++){var Xe;Xe=P0.MAX_VALUE;for(var ot=0;ot<U.numlines_l[K];ot++,be++){var Pe=Ze*be/(1e3*H.BLKSIZE),We;We=this.ATHformula(Pe*1e3,L)-20,We=Math.pow(10,.1*We),We*=U.numlines_l[K],Xe>We&&(Xe=We)}U.ATH.cb_l[K]=Xe,Xe=-20+se[K]*20/10,Xe>6&&(Xe=100),Xe<-15&&(Xe=-15),Xe-=8,U.minval_l[K]=Math.pow(10,Xe/10)*U.numlines_l[K]}for(U.npart_s=he(U.numlines_s,U.bo_s,U.bm_s,se,Me,U.mld_s,U.PSY.bo_s_weight,Ze,H.BLKSIZE_s,U.scalefac_band.s,H.BLKSIZE_s/(2*192),H.SBMAX_s),ct(U.npart_s<H.CBANDS),be=0,K=0;K<U.npart_s;K++){var Xe,Ge=le;se[K]>=ee&&(Ge=Ae*(se[K]-ee)/(z-ee)+le*(z-se[K])/(z-ee)),qe[K]=Math.pow(10,Ge/10),Xe=P0.MAX_VALUE;for(var ot=0;ot<U.numlines_s[K];ot++,be++){var Pe=Ze*be/(1e3*H.BLKSIZE_s),We;We=this.ATHformula(Pe*1e3,L)-20,We=Math.pow(10,.1*We),We*=U.numlines_s[K],Xe>We&&(Xe=We)}U.ATH.cb_s[K]=Xe,Xe=-7+se[K]*7/12,se[K]>12&&(Xe*=1+Math.log(1+Xe)*3.1),se[K]<12&&(Xe*=1+Math.log(1-Xe)*2.3),Xe<-15&&(Xe=-15),Xe-=8,U.minval_s[K]=Math.pow(10,Xe/10)*U.numlines_s[K]}U.s3_ss=Ee(U.s3ind_s,U.npart_s,se,Me,qe,Q),R(),e.init_fft(U),U.decay=Math.exp(-1*t/(d*Ze/192));{var Be;Be=v,(L.exp_nspsytune&2)!=0&&(Be=1),Math.abs(L.msfix)>0&&(Be=L.msfix),L.msfix=Be;for(var Qe=0;Qe<U.npart_l;Qe++)U.s3ind[Qe][1]>U.npart_l-1&&(U.s3ind[Qe][1]=U.npart_l-1)}var Ct=576*U.mode_gr/Ze;if(U.ATH.decay=Math.pow(10,-12/10*Ct),U.ATH.adjust=.01,U.ATH.adjustLimit=1,ct(U.bo_l[H.SBMAX_l-1]<=U.npart_l),ct(U.bo_s[H.SBMAX_s-1]<=U.npart_s),L.ATHtype!=-1){var Pe,De=L.out_samplerate/H.BLKSIZE,rt=0;for(Pe=0,K=0;K<H.BLKSIZE/2;++K)Pe+=De,U.ATH.eql_w[K]=1/Math.pow(10,this.ATHformula(Pe,L)/10),rt+=U.ATH.eql_w[K];for(rt=1/rt,K=H.BLKSIZE/2;--K>=0;)U.ATH.eql_w[K]*=rt}{for(var Qe=be=0;Qe<U.npart_s;++Qe)for(K=0;K<U.numlines_s[Qe];++K)++be;for(var Qe=be=0;Qe<U.npart_l;++Qe)for(K=0;K<U.numlines_l[Qe];++K)++be}for(be=0,K=0;K<U.npart_l;K++){var Pe=Ze*(be+U.numlines_l[K]/2)/(1*H.BLKSIZE);U.mld_cb_l[K]=ne(Pe),be+=U.numlines_l[K]}for(;K<H.CBANDS;++K)U.mld_cb_l[K]=1;for(be=0,K=0;K<U.npart_s;K++){var Pe=Ze*(be+U.numlines_s[K]/2)/(1*H.BLKSIZE_s);U.mld_cb_s[K]=ne(Pe),be+=U.numlines_s[K]}for(;K<H.CBANDS;++K)U.mld_cb_s[K]=1;return 0};function Ie(L,U){L<-.3&&(L=3410),L/=1e3,L=Math.max(.1,L);var K=3.64*Math.pow(L,-.8)-6.8*Math.exp(-.6*Math.pow(L-3.4,2))+6*Math.exp(-.15*Math.pow(L-8.7,2))+(.6+.04*U)*.001*Math.pow(L,4);return K}this.ATHformula=function(L,U){var K;switch(U.ATHtype){case 0:K=Ie(L,9);break;case 1:K=Ie(L,-1);break;case 2:K=Ie(L,0);break;case 3:K=Ie(L,1)+6;break;case 4:K=Ie(L,U.ATHcurve);break;default:K=Ie(L,0);break}return K}}function xS(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=St.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}var _r={};_r.SFBMAX=H.SBMAX_s*3;var RS=Ve.new_float,Pr=Ve.new_int;function Ml(){this.xr=RS(576),this.l3_enc=Pr(576),this.scalefac=Pr(_r.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=Pr(3),this.subblock_gain=Pr(3+1),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=Pr(_r.SFBMAX),this.window=Pr(_r.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=Pr(4),this.max_nonzero_coeff=0;var e=this;function t(n){return new Int32Array(n)}function s(n){return new Float32Array(n)}this.assign=function(n){e.xr=s(n.xr),e.l3_enc=t(n.l3_enc),e.scalefac=t(n.scalefac),e.xrpow_max=n.xrpow_max,e.part2_3_length=n.part2_3_length,e.big_values=n.big_values,e.count1=n.count1,e.global_gain=n.global_gain,e.scalefac_compress=n.scalefac_compress,e.block_type=n.block_type,e.mixed_block_flag=n.mixed_block_flag,e.table_select=t(n.table_select),e.subblock_gain=t(n.subblock_gain),e.region0_count=n.region0_count,e.region1_count=n.region1_count,e.preflag=n.preflag,e.scalefac_scale=n.scalefac_scale,e.count1table_select=n.count1table_select,e.part2_length=n.part2_length,e.sfb_lmax=n.sfb_lmax,e.sfb_smin=n.sfb_smin,e.psy_lmax=n.psy_lmax,e.sfbmax=n.sfbmax,e.psymax=n.psymax,e.sfbdivide=n.sfbdivide,e.width=t(n.width),e.window=t(n.window),e.count1bits=n.count1bits,e.sfb_partition_table=n.sfb_partition_table.slice(0),e.slen=t(n.slen),e.max_nonzero_coeff=n.max_nonzero_coeff}}var N0=Ve.new_int;function TS(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[N0(4),N0(4)];for(var e=0;e<2;e++)for(var t=0;t<2;t++)this.tt[e][t]=new Ml}var za=Ve.System,Ka=Ve.new_int;function gn(e,t,s,n){this.l=Ka(1+H.SBMAX_l),this.s=Ka(1+H.SBMAX_s),this.psfb21=Ka(1+H.PSFB21),this.psfb12=Ka(1+H.PSFB12);var o=this.l,r=this.s;arguments.length==4&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],za.arraycopy(this.arrL,0,o,0,Math.min(this.arrL.length,this.l.length)),za.arraycopy(this.arrS,0,r,0,Math.min(this.arrS.length,this.s.length)),za.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),za.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}var Yc=Ve.new_float,kS=Ve.new_float_n,CS=Ve.new_int;function OS(){this.last_en_subshort=kS([4,9]),this.lastAttacks=CS(4),this.pefirbuf=Yc(19),this.longfact=Yc(H.SBMAX_l),this.shortfact=Yc(H.SBMAX_s),this.attackthre=0,this.attackthre_s=0}function IS(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}var BS=Ve.new_byte,LS=Ve.new_double,Ks=Ve.new_float,Nr=Ve.new_float_n,Qs=Ve.new_int,Ya=Ve.new_int_n;yt.MFSIZE=3*1152+H.ENCDELAY-H.MDCTDELAY;yt.MAX_HEADER_BUF=256;yt.MAX_BITS_PER_CHANNEL=4095;yt.MAX_BITS_PER_GRANULE=7680;yt.BPC=320;function yt(){var e=40;this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=Nr([2,yt.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new TS,this.ms_ratio=Ks(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=Qs(2),this.CurrentStep=Qs(2),this.masking_lower=0,this.bv_scf=Qs(576),this.pseudohalf=Qs(_r.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*yt.BPC+1),this.itime=LS(2),this.sideinfo_len=0,this.sb_sample=Nr([2,2,18,H.SBLIMIT]),this.amp_filter=Ks(32);function t(){this.write_timing=0,this.ptr=0,this.buf=BS(e)}this.header=new Array(yt.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new gn,this.minval_l=Ks(H.CBANDS),this.minval_s=Ks(H.CBANDS),this.nb_1=Nr([4,H.CBANDS]),this.nb_2=Nr([4,H.CBANDS]),this.nb_s1=Nr([4,H.CBANDS]),this.nb_s2=Nr([4,H.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=Ks(4),this.loudness_sq=Nr([2,2]),this.loudness_sq_save=Ks(2),this.mld_l=Ks(H.SBMAX_l),this.mld_s=Ks(H.SBMAX_s),this.bm_l=Qs(H.SBMAX_l),this.bo_l=Qs(H.SBMAX_l),this.bm_s=Qs(H.SBMAX_s),this.bo_s=Qs(H.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=Ya([H.CBANDS,2]),this.s3ind_s=Ya([H.CBANDS,2]),this.numlines_s=Qs(H.CBANDS),this.numlines_l=Qs(H.CBANDS),this.rnumlines_l=Ks(H.CBANDS),this.mld_cb_l=Ks(H.CBANDS),this.mld_cb_s=Ks(H.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=Ks(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=Qs(2),this.nsPsy=new OS,this.VBR_seek_table=new IS,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=Ya([16,4+1]),this.bitrate_blockType_Hist=Ya([16,4+1+1]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var s=0;s<this.en.length;s++)this.en[s]=new Al;for(var s=0;s<this.thm.length;s++)this.thm[s]=new Al;for(var s=0;s<this.header.length;s++)this.header[s]=new t}var jr=Ve.new_float;function PS(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=jr(H.SBMAX_l),this.s=jr(H.SBMAX_s),this.psfb21=jr(H.PSFB21),this.psfb12=jr(H.PSFB12),this.cb_l=jr(H.CBANDS),this.cb_s=jr(H.CBANDS),this.eql_w=jr(H.BLKSIZE/2)}var Ts=Ve.System,j0=Ve.Arrays;Xt.STEPS_per_dB=100;Xt.MAX_dB=120;Xt.GAIN_NOT_ENOUGH_SAMPLES=-24601;Xt.GAIN_ANALYSIS_ERROR=0;Xt.GAIN_ANALYSIS_OK=1;Xt.INIT_GAIN_ANALYSIS_ERROR=0;Xt.INIT_GAIN_ANALYSIS_OK=1;Xt.YULE_ORDER=10;Xt.MAX_ORDER=Xt.YULE_ORDER;Xt.MAX_SAMP_FREQ=48e3;Xt.RMS_WINDOW_TIME_NUMERATOR=1;Xt.RMS_WINDOW_TIME_DENOMINATOR=20;Xt.MAX_SAMPLES_PER_WINDOW=Xt.MAX_SAMP_FREQ*Xt.RMS_WINDOW_TIME_NUMERATOR/Xt.RMS_WINDOW_TIME_DENOMINATOR+1;function Xt(){var e=64.82,t=.95,s=Xt.RMS_WINDOW_TIME_NUMERATOR,n=Xt.RMS_WINDOW_TIME_DENOMINATOR,o=[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]],r=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function i(u,v,w,a,j,N){for(;j--!=0;)w[a]=1e-10+u[v+0]*N[0]-w[a-1]*N[1]+u[v-1]*N[2]-w[a-2]*N[3]+u[v-2]*N[4]-w[a-3]*N[5]+u[v-3]*N[6]-w[a-4]*N[7]+u[v-4]*N[8]-w[a-5]*N[9]+u[v-5]*N[10]-w[a-6]*N[11]+u[v-6]*N[12]-w[a-7]*N[13]+u[v-7]*N[14]-w[a-8]*N[15]+u[v-8]*N[16]-w[a-9]*N[17]+u[v-9]*N[18]-w[a-10]*N[19]+u[v-10]*N[20],++a,++v}function l(u,v,w,a,j,N){for(;j--!=0;)w[a]=u[v+0]*N[0]-w[a-1]*N[1]+u[v-1]*N[2]-w[a-2]*N[3]+u[v-2]*N[4],++a,++v}function d(u,v){for(var w=0;w<MAX_ORDER;w++)u.linprebuf[w]=u.lstepbuf[w]=u.loutbuf[w]=u.rinprebuf[w]=u.rstepbuf[w]=u.routbuf[w]=0;switch(0|v){case 48e3:u.reqindex=0;break;case 44100:u.reqindex=1;break;case 32e3:u.reqindex=2;break;case 24e3:u.reqindex=3;break;case 22050:u.reqindex=4;break;case 16e3:u.reqindex=5;break;case 12e3:u.reqindex=6;break;case 11025:u.reqindex=7;break;case 8e3:u.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return u.sampleWindow=0|(v*s+n-1)/n,u.lsum=0,u.rsum=0,u.totsamp=0,j0.ill(u.A,0),INIT_GAIN_ANALYSIS_OK}this.InitGainAnalysis=function(u,v){return d(u,v)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(u.linpre=MAX_ORDER,u.rinpre=MAX_ORDER,u.lstep=MAX_ORDER,u.rstep=MAX_ORDER,u.lout=MAX_ORDER,u.rout=MAX_ORDER,j0.fill(u.B,0),INIT_GAIN_ANALYSIS_OK)};function c(u){return u*u}this.AnalyzeSamples=function(u,v,w,a,j,N,P){var g,I,F,O,q,_,k;if(N==0)return GAIN_ANALYSIS_OK;switch(k=0,q=N,P){case 1:a=v,j=w;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}for(N<MAX_ORDER?(Ts.arraycopy(v,w,u.linprebuf,MAX_ORDER,N),Ts.arraycopy(a,j,u.rinprebuf,MAX_ORDER,N)):(Ts.arraycopy(v,w,u.linprebuf,MAX_ORDER,MAX_ORDER),Ts.arraycopy(a,j,u.rinprebuf,MAX_ORDER,MAX_ORDER));q>0;){_=q>u.sampleWindow-u.totsamp?u.sampleWindow-u.totsamp:q,k<MAX_ORDER?(g=u.linpre+k,I=u.linprebuf,F=u.rinpre+k,O=u.rinprebuf,_>MAX_ORDER-k&&(_=MAX_ORDER-k)):(g=w+k,I=v,F=j+k,O=a),i(I,g,u.lstepbuf,u.lstep+u.totsamp,_,o[u.reqindex]),i(O,F,u.rstepbuf,u.rstep+u.totsamp,_,o[u.reqindex]),l(u.lstepbuf,u.lstep+u.totsamp,u.loutbuf,u.lout+u.totsamp,_,r[u.reqindex]),l(u.rstepbuf,u.rstep+u.totsamp,u.routbuf,u.rout+u.totsamp,_,r[u.reqindex]),g=u.lout+u.totsamp,I=u.loutbuf,F=u.rout+u.totsamp,O=u.routbuf;for(var R=_%8;R--!=0;)u.lsum+=c(I[g++]),u.rsum+=c(O[F++]);for(R=_/8;R--!=0;)u.lsum+=c(I[g+0])+c(I[g+1])+c(I[g+2])+c(I[g+3])+c(I[g+4])+c(I[g+5])+c(I[g+6])+c(I[g+7]),g+=8,u.rsum+=c(O[F+0])+c(O[F+1])+c(O[F+2])+c(O[F+3])+c(O[F+4])+c(O[F+5])+c(O[F+6])+c(O[F+7]),F+=8;if(q-=_,k+=_,u.totsamp+=_,u.totsamp==u.sampleWindow){var y=Xt.STEPS_per_dB*10*Math.log10((u.lsum+u.rsum)/u.totsamp*.5+1e-37),A=y<=0?0:0|y;A>=u.A.length&&(A=u.A.length-1),u.A[A]++,u.lsum=u.rsum=0,Ts.arraycopy(u.loutbuf,u.totsamp,u.loutbuf,0,MAX_ORDER),Ts.arraycopy(u.routbuf,u.totsamp,u.routbuf,0,MAX_ORDER),Ts.arraycopy(u.lstepbuf,u.totsamp,u.lstepbuf,0,MAX_ORDER),Ts.arraycopy(u.rstepbuf,u.totsamp,u.rstepbuf,0,MAX_ORDER),u.totsamp=0}if(u.totsamp>u.sampleWindow)return GAIN_ANALYSIS_ERROR}return N<MAX_ORDER?(Ts.arraycopy(u.linprebuf,N,u.linprebuf,0,MAX_ORDER-N),Ts.arraycopy(u.rinprebuf,N,u.rinprebuf,0,MAX_ORDER-N),Ts.arraycopy(v,w,u.linprebuf,MAX_ORDER-N,N),Ts.arraycopy(a,j,u.rinprebuf,MAX_ORDER-N,N)):(Ts.arraycopy(v,w+N-MAX_ORDER,u.linprebuf,0,MAX_ORDER),Ts.arraycopy(a,j+N-MAX_ORDER,u.rinprebuf,0,MAX_ORDER)),GAIN_ANALYSIS_OK};function f(u,v){var w,a=0;for(w=0;w<v;w++)a+=u[w];if(a==0)return GAIN_NOT_ENOUGH_SAMPLES;var j=0|Math.ceil(a*(1-t));for(w=v;w-- >0&&!((j-=u[w])<=0););return e-w/Xt.STEPS_per_dB}this.GetTitleGain=function(u){for(var v=f(u.A,u.A.length),w=0;w<u.A.length;w++)u.B[w]+=u.A[w],u.A[w]=0;for(var w=0;w<MAX_ORDER;w++)u.linprebuf[w]=u.lstepbuf[w]=u.loutbuf[w]=u.rinprebuf[w]=u.rstepbuf[w]=u.routbuf[w]=0;return u.totsamp=0,u.lsum=u.rsum=0,v}}var yo=Ve.new_float,F0=Ve.new_int;function NS(){this.linprebuf=yo(void 0*2),this.linpre=0,this.lstepbuf=yo(void 0+void 0),this.lstep=0,this.loutbuf=yo(void 0+void 0),this.lout=0,this.rinprebuf=yo(void 0*2),this.rinpre=0,this.rstepbuf=yo(void 0+void 0),this.rstep=0,this.routbuf=yo(void 0+void 0),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=F0(0|void 0*void 0),this.B=F0(0|void 0*void 0)}function Cv(e){this.bits=e}var H0=Ve.new_float,jS=Ve.new_int,U0=Ve.assert;function FS(e){var t=e;this.quantize=t,this.iteration_loop=function(s,n,o,r){var i=s.internal_flags,l=H0(_r.SFBMAX),d=H0(576),c=jS(2),f=0,u,v=i.l3_side,w=new Cv(f);this.quantize.rv.ResvFrameBegin(s,w),f=w.bits;for(var a=0;a<i.mode_gr;a++){u=this.quantize.qupvt.on_pe(s,n,c,f,a,a),i.mode_ext==H.MPG_MD_MS_LR&&(this.quantize.ms_convert(i.l3_side,a),this.quantize.qupvt.reduce_side(c,o[a],f,u));for(var j=0;j<i.channels_out;j++){var N,P,g=v.tt[a][j];g.block_type!=H.SHORT_TYPE?(N=0,P=i.PSY.mask_adjust-N):(N=0,P=i.PSY.mask_adjust_short-N),i.masking_lower=Math.pow(10,P*.1),this.quantize.init_outer_loop(i,g),this.quantize.init_xrpow(i,g,d)&&(this.quantize.qupvt.calc_xmin(s,r[a][j],g,l),this.quantize.outer_loop(s,g,l,d,j,c[j])),this.quantize.iteration_finish_one(i,a,j),U0(g.part2_3_length<=yt.MAX_BITS_PER_CHANNEL),U0(g.part2_3_length<=c[j])}}this.quantize.rv.ResvFrameEnd(i,f)}}function gt(e,t,s,n){this.xlen=e,this.linmax=t,this.table=s,this.hlen=n}var we={};we.t1HB=[1,1,1,0];we.t2HB=[1,2,1,3,1,1,3,2,0];we.t3HB=[3,2,1,1,1,1,3,2,0];we.t5HB=[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0];we.t6HB=[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0];we.t7HB=[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0];we.t8HB=[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0];we.t9HB=[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0];we.t10HB=[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0];we.t11HB=[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0];we.t12HB=[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0];we.t13HB=[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1];we.t15HB=[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0];we.t16HB=[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3];we.t24HB=[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3];we.t32HB=[1<<0,5<<1,4<<1,5<<2,6<<1,5<<2,4<<2,4<<3,7<<1,3<<2,6<<2,0<<3,7<<2,2<<3,3<<3,1<<4];we.t33HB=[15<<0,14<<1,13<<1,12<<2,11<<1,10<<2,9<<2,8<<3,7<<1,6<<2,5<<2,4<<3,3<<2,2<<3,1<<3,0<<4];we.t1l=[1,4,3,5];we.t2l=[1,4,7,4,5,7,6,7,8];we.t3l=[2,3,7,4,4,7,6,7,8];we.t5l=[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10];we.t6l=[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9];we.t7l=[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12];we.t8l=[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13];we.t9l=[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11];we.t10l=[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13];we.t11l=[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12];we.t12l=[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12];we.t13l=[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18];we.t15l=[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15];we.t16_5l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12];we.t16l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10];we.t24l=[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6];we.t32l=[1+0,4+1,4+1,5+2,4+1,6+2,5+2,6+3,4+1,5+2,5+2,6+3,5+2,6+3,6+3,6+4];we.t33l=[4+0,4+1,4+1,4+2,4+1,4+2,4+2,4+3,4+1,4+2,4+2,4+3,4+2,4+3,4+3,4+4];we.ht=[new gt(0,0,null,null),new gt(2,0,we.t1HB,we.t1l),new gt(3,0,we.t2HB,we.t2l),new gt(3,0,we.t3HB,we.t3l),new gt(0,0,null,null),new gt(4,0,we.t5HB,we.t5l),new gt(4,0,we.t6HB,we.t6l),new gt(6,0,we.t7HB,we.t7l),new gt(6,0,we.t8HB,we.t8l),new gt(6,0,we.t9HB,we.t9l),new gt(8,0,we.t10HB,we.t10l),new gt(8,0,we.t11HB,we.t11l),new gt(8,0,we.t12HB,we.t12l),new gt(16,0,we.t13HB,we.t13l),new gt(0,0,null,we.t16_5l),new gt(16,0,we.t15HB,we.t15l),new gt(1,1,we.t16HB,we.t16l),new gt(2,3,we.t16HB,we.t16l),new gt(3,7,we.t16HB,we.t16l),new gt(4,15,we.t16HB,we.t16l),new gt(6,63,we.t16HB,we.t16l),new gt(8,255,we.t16HB,we.t16l),new gt(10,1023,we.t16HB,we.t16l),new gt(13,8191,we.t16HB,we.t16l),new gt(4,15,we.t24HB,we.t24l),new gt(5,31,we.t24HB,we.t24l),new gt(6,63,we.t24HB,we.t24l),new gt(7,127,we.t24HB,we.t24l),new gt(8,255,we.t24HB,we.t24l),new gt(9,511,we.t24HB,we.t24l),new gt(11,2047,we.t24HB,we.t24l),new gt(13,8191,we.t24HB,we.t24l),new gt(0,0,we.t32HB,we.t32l),new gt(0,0,we.t33HB,we.t33l)];we.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366];we.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296];we.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369];we.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]];we.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]];we.scfsi_band=[0,6,11,16,21];var Fr=Ve.VbrMode,Xa=Ve.Float,Xc=Ve.Util,Hr=Ve.new_float,HS=Ve.new_int,mi=Ve.assert;cs.Q_MAX=256+1;cs.Q_MAX2=116;cs.LARGE_BITS=1e5;cs.IXMAX_VAL=8206;function cs(){var e=null,t=null,s=null;this.setModules=function(g,I,F){e=g,t=I,s=F};function n(g){return u[g+cs.Q_MAX2]}this.IPOW20=function(g){return v[g]};var o=2220446049250313e-31,r=cs.IXMAX_VAL,i=r+2,l=cs.Q_MAX,d=cs.Q_MAX2,c=100;this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var f=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=f,this.sfBandIndex=[new gn([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new gn([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new gn([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new gn([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new gn([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new gn([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new gn([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new gn([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new gn([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0/3,24/3,48/3,72/3,108/3,156/3,216/3,288/3,372/3,480/3,486/3,492/3,498/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var u=Hr(l+d+1),v=Hr(l),w=Hr(i),a=Hr(i);this.adj43=a;function j(g,I){var F=s.ATHformula(I,g);return F-=c,F=Math.pow(10,F/10+g.ATHlower),F}function N(g){for(var I=g.internal_flags.ATH.l,F=g.internal_flags.ATH.psfb21,O=g.internal_flags.ATH.s,q=g.internal_flags.ATH.psfb12,_=g.internal_flags,k=g.out_samplerate,R=0;R<H.SBMAX_l;R++){var y=_.scalefac_band.l[R],A=_.scalefac_band.l[R+1];I[R]=Xa.MAX_VALUE;for(var p=y;p<A;p++){var S=p*k/1152,x=j(g,S);I[R]=Math.min(I[R],x)}}for(var R=0;R<H.PSFB21;R++){var y=_.scalefac_band.psfb21[R],A=_.scalefac_band.psfb21[R+1];F[R]=Xa.MAX_VALUE;for(var p=y;p<A;p++){var S=p*k/1152,x=j(g,S);F[R]=Math.min(F[R],x)}}for(var R=0;R<H.SBMAX_s;R++){var y=_.scalefac_band.s[R],A=_.scalefac_band.s[R+1];O[R]=Xa.MAX_VALUE;for(var p=y;p<A;p++){var S=p*k/384,x=j(g,S);O[R]=Math.min(O[R],x)}O[R]*=_.scalefac_band.s[R+1]-_.scalefac_band.s[R]}for(var R=0;R<H.PSFB12;R++){var y=_.scalefac_band.psfb12[R],A=_.scalefac_band.psfb12[R+1];q[R]=Xa.MAX_VALUE;for(var p=y;p<A;p++){var S=p*k/384,x=j(g,S);q[R]=Math.min(q[R],x)}q[R]*=_.scalefac_band.s[13]-_.scalefac_band.s[12]}if(g.noATH){for(var R=0;R<H.SBMAX_l;R++)I[R]=1e-20;for(var R=0;R<H.PSFB21;R++)F[R]=1e-20;for(var R=0;R<H.SBMAX_s;R++)O[R]=1e-20;for(var R=0;R<H.PSFB12;R++)q[R]=1e-20}_.ATH.floor=10*Math.log10(j(g,-1))}this.iteration_init=function(g){var I=g.internal_flags,F=I.l3_side,O;if(I.iteration_init_init==0){for(I.iteration_init_init=1,F.main_data_begin=0,N(g),w[0]=0,O=1;O<i;O++)w[O]=Math.pow(O,4/3);for(O=0;O<i-1;O++)a[O]=O+1-Math.pow(.5*(w[O]+w[O+1]),.75);for(a[O]=.5,O=0;O<l;O++)v[O]=Math.pow(2,(O-210)*-.1875);for(O=0;O<=l+d;O++)u[O]=Math.pow(2,(O-210-d)*.25);e.huffman_init(I);{var q,_,k,R;for(O=g.exp_nspsytune>>2&63,O>=32&&(O-=64),q=Math.pow(10,O/4/10),O=g.exp_nspsytune>>8&63,O>=32&&(O-=64),_=Math.pow(10,O/4/10),O=g.exp_nspsytune>>14&63,O>=32&&(O-=64),k=Math.pow(10,O/4/10),O=g.exp_nspsytune>>20&63,O>=32&&(O-=64),R=k*Math.pow(10,O/4/10),O=0;O<H.SBMAX_l;O++){var y;O<=6?y=q:O<=13?y=_:O<=20?y=k:y=R,I.nsPsy.longfact[O]=y}for(O=0;O<H.SBMAX_s;O++){var y;O<=5?y=q:O<=10?y=_:O<=11?y=k:y=R,I.nsPsy.shortfact[O]=y}}}},this.on_pe=function(g,I,F,O,q,_){var k=g.internal_flags,R=0,y,A=HS(2),p,S=new Cv(R),x=t.ResvMaxBits(g,O,S,_);R=S.bits;var M=R+x;for(M>yt.MAX_BITS_PER_GRANULE&&(M=yt.MAX_BITS_PER_GRANULE),y=0,p=0;p<k.channels_out;++p)F[p]=Math.min(yt.MAX_BITS_PER_CHANNEL,R/k.channels_out),A[p]=0|F[p]*I[q][p]/700-F[p],A[p]>O*3/4&&(A[p]=O*3/4),A[p]<0&&(A[p]=0),A[p]+F[p]>yt.MAX_BITS_PER_CHANNEL&&(A[p]=Math.max(0,yt.MAX_BITS_PER_CHANNEL-F[p])),y+=A[p];if(y>x)for(p=0;p<k.channels_out;++p)A[p]=x*A[p]/y;for(p=0;p<k.channels_out;++p)F[p]+=A[p],x-=A[p];for(y=0,p=0;p<k.channels_out;++p)y+=F[p];if(y>yt.MAX_BITS_PER_GRANULE){var D=0;for(p=0;p<k.channels_out;++p)F[p]*=yt.MAX_BITS_PER_GRANULE,F[p]/=y,D+=F[p]}return M},this.reduce_side=function(g,I,F,O){mi(g[0]+g[1]<=yt.MAX_BITS_PER_GRANULE);var q=.33*(.5-I)/.5;q<0&&(q=0),q>.5&&(q=.5);var _=0|q*.5*(g[0]+g[1]);_>yt.MAX_BITS_PER_CHANNEL-g[0]&&(_=yt.MAX_BITS_PER_CHANNEL-g[0]),_<0&&(_=0),g[1]>=125&&(g[1]-_>125?(g[0]<F&&(g[0]+=_),g[1]-=_):(g[0]+=g[1]-125,g[1]=125)),_=g[0]+g[1],_>O&&(g[0]=O*g[0]/_,g[1]=O*g[1]/_),mi(g[0]<=yt.MAX_BITS_PER_CHANNEL),mi(g[1]<=yt.MAX_BITS_PER_CHANNEL),mi(g[0]+g[1]<=yt.MAX_BITS_PER_GRANULE)},this.athAdjust=function(g,I,F){var O=90.30873362,q=94.82444863,_=Xc.FAST_LOG10_X(I,10),k=g*g,R=0;return _-=F,k>1e-20&&(R=1+Xc.FAST_LOG10_X(k,10/O)),R<0&&(R=0),_*=R,_+=F+O-q,Math.pow(10,.1*_)},this.calc_xmin=function(g,I,F,O){var q=0,_=g.internal_flags,k,R=0,y=0,A=_.ATH,p=F.xr,S=g.VBR==Fr.vbr_mtrh?1:0,x=_.masking_lower;for((g.VBR==Fr.vbr_mtrh||g.VBR==Fr.vbr_mt)&&(x=1),k=0;k<F.psy_lmax;k++){var M,D,Y,V,X,b;g.VBR==Fr.vbr_rh||g.VBR==Fr.vbr_mtrh?D=athAdjust(A.adjust,A.l[k],A.floor):D=A.adjust*A.l[k],X=F.width[k],Y=D/X,V=o,b=X>>1,M=0;do{var T,ie;T=p[R]*p[R],M+=T,V+=T<Y?T:Y,R++,ie=p[R]*p[R],M+=ie,V+=ie<Y?ie:Y,R++}while(--b>0);if(M>D&&y++,k==H.SBPSY_l){var ce=D*_.nsPsy.longfact[k];V<ce&&(V=ce)}if(S!=0&&(D=V),!g.ATHonly){var Te=I.en.l[k];if(Te>0){var ce;ce=M*I.thm.l[k]*x/Te,S!=0&&(ce*=_.nsPsy.longfact[k]),D<ce&&(D=ce)}}S!=0?O[q++]=D:O[q++]=D*_.nsPsy.longfact[k]}var te=575;if(F.block_type!=H.SHORT_TYPE)for(var ve=576;ve--!=0&&Ys.EQ(p[ve],0);)te=ve;F.max_nonzero_coeff=te;for(var oe=F.sfb_smin;k<F.psymax;oe++,k+=3){var X,Re,Oe;for(g.VBR==Fr.vbr_rh||g.VBR==Fr.vbr_mtrh?Oe=athAdjust(A.adjust,A.s[oe],A.floor):Oe=A.adjust*A.s[oe],X=F.width[k],Re=0;Re<3;Re++){var M=0,D,Y,V,b=X>>1;Y=Oe/X,V=o;do{var T,ie;T=p[R]*p[R],M+=T,V+=T<Y?T:Y,R++,ie=p[R]*p[R],M+=ie,V+=ie<Y?ie:Y,R++}while(--b>0);if(M>Oe&&y++,oe==H.SBPSY_s){var ce=Oe*_.nsPsy.shortfact[oe];V<ce&&(V=ce)}if(S!=0?D=V:D=Oe,!g.ATHonly&&!g.ATHshort){var Te=I.en.s[oe][Re];if(Te>0){var ce;ce=M*I.thm.s[oe][Re]*x/Te,S!=0&&(ce*=_.nsPsy.shortfact[oe]),D<ce&&(D=ce)}}S!=0?O[q++]=D:O[q++]=D*_.nsPsy.shortfact[oe]}g.useTemporal&&(O[q-3]>O[q-3+1]&&(O[q-3+1]+=(O[q-3]-O[q-3+1])*_.decay),O[q-3+1]>O[q-3+2]&&(O[q-3+2]+=(O[q-3+1]-O[q-3+2])*_.decay))}return y};function P(g){this.s=g}this.calc_noise_core=function(g,I,F,O){var q=0,_=I.s,k=g.l3_enc;if(_>g.count1)for(;F--!=0;){var R;R=g.xr[_],_++,q+=R*R,R=g.xr[_],_++,q+=R*R}else if(_>g.big_values){var y=Hr(2);for(y[0]=0,y[1]=O;F--!=0;){var R;R=Math.abs(g.xr[_])-y[k[_]],_++,q+=R*R,R=Math.abs(g.xr[_])-y[k[_]],_++,q+=R*R}}else for(;F--!=0;){var R;R=Math.abs(g.xr[_])-w[k[_]]*O,_++,q+=R*R,R=Math.abs(g.xr[_])-w[k[_]]*O,_++,q+=R*R}return I.s=_,q},this.calc_noise=function(g,I,F,O,q){var _=0,k=0,R,y,A=0,p=0,S=0,x=-20,M=0,D=g.scalefac,Y=0;for(O.over_SSD=0,R=0;R<g.psymax;R++){var V=g.global_gain-(D[Y++]+(g.preflag!=0?f[R]:0)<<g.scalefac_scale+1)-g.subblock_gain[g.window[R]]*8,X=0;if(q!=null&&q.step[R]==V)X=q.noise[R],M+=g.width[R],F[_++]=X/I[k++],X=q.noise_log[R];else{var b=n(V);if(y=g.width[R]>>1,M+g.width[R]>g.max_nonzero_coeff){var T;T=g.max_nonzero_coeff-M+1,T>0?y=T>>1:y=0}var ie=new P(M);X=this.calc_noise_core(g,ie,y,b),M=ie.s,q!=null&&(q.step[R]=V,q.noise[R]=X),X=F[_++]=X/I[k++],X=Xc.FAST_LOG10(Math.max(X,1e-20)),q!=null&&(q.noise_log[R]=X)}if(q!=null&&(q.global_gain=g.global_gain),S+=X,X>0){var ce;ce=Math.max(0|X*10+.5,1),O.over_SSD+=ce*ce,A++,p+=X}x=Math.max(x,X)}return O.over_count=A,O.tot_noise=S,O.over_noise=p,O.max_noise=x,A},this.set_pinfo=function(g,I,F,O,q){var _=g.internal_flags,k,R,y,A,p,S=I.scalefac_scale==0?.5:1,x=I.scalefac,M=Hr(L3Side.SFBMAX),D=Hr(L3Side.SFBMAX),Y=new CalcNoiseResult;calc_xmin(g,F,I,M),calc_noise(I,M,D,Y,null);var V=0;for(R=I.sfb_lmax,I.block_type!=H.SHORT_TYPE&&I.mixed_block_flag==0&&(R=22),k=0;k<R;k++){var X=_.scalefac_band.l[k],b=_.scalefac_band.l[k+1],T=b-X;for(A=0;V<b;V++)A+=I.xr[V]*I.xr[V];A/=T,p=1e15,_.pinfo.en[O][q][k]=p*A,_.pinfo.xfsf[O][q][k]=p*M[k]*D[k]/T,F.en.l[k]>0&&!g.ATHonly?A=A/F.en.l[k]:A=0,_.pinfo.thr[O][q][k]=p*Math.max(A*F.thm.l[k],_.ATH.l[k]),_.pinfo.LAMEsfb[O][q][k]=0,I.preflag!=0&&k>=11&&(_.pinfo.LAMEsfb[O][q][k]=-S*f[k]),k<H.SBPSY_l&&(mi(x[k]>=0),_.pinfo.LAMEsfb[O][q][k]-=S*x[k])}if(I.block_type==H.SHORT_TYPE)for(R=k,k=I.sfb_smin;k<H.SBMAX_s;k++)for(var X=_.scalefac_band.s[k],b=_.scalefac_band.s[k+1],T=b-X,ie=0;ie<3;ie++){for(A=0,y=X;y<b;y++)A+=I.xr[V]*I.xr[V],V++;A=Math.max(A/T,1e-20),p=1e15,_.pinfo.en_s[O][q][3*k+ie]=p*A,_.pinfo.xfsf_s[O][q][3*k+ie]=p*M[R]*D[R]/T,F.en.s[k][ie]>0?A=A/F.en.s[k][ie]:A=0,(g.ATHonly||g.ATHshort)&&(A=0),_.pinfo.thr_s[O][q][3*k+ie]=p*Math.max(A*F.thm.s[k][ie],_.ATH.s[k]),_.pinfo.LAMEsfb_s[O][q][3*k+ie]=-2*I.subblock_gain[ie],k<H.SBPSY_s&&(_.pinfo.LAMEsfb_s[O][q][3*k+ie]-=S*x[R]),R++}_.pinfo.LAMEqss[O][q]=I.global_gain,_.pinfo.LAMEmainbits[O][q]=I.part2_3_length+I.part2_length,_.pinfo.LAMEsfbits[O][q]=I.part2_length,_.pinfo.over[O][q]=Y.over_count,_.pinfo.max_noise[O][q]=Y.max_noise*10,_.pinfo.over_noise[O][q]=Y.over_noise*10,_.pinfo.tot_noise[O][q]=Y.tot_noise*10,_.pinfo.over_SSD[O][q]=Y.over_SSD}}var US=Ve.System,DS=Ve.Arrays,pi=Ve.new_int,Wc=Ve.assert;function oa(){var e=null;this.qupvt=null,this.setModules=function(y){this.qupvt=y,e=y};function t(y){this.bits=0|y}var s=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function n(y,A,p,S,x,M){var D=.5946/A;for(y=y>>1;y--!=0;)x[M++]=D>p[S++]?0:1,x[M++]=D>p[S++]?0:1}function o(y,A,p,S,x,M){y=y>>1;var D=y%2;for(y=y>>1;y--!=0;){var Y,V,X,b,T,ie,ce,Te;Y=p[S++]*A,V=p[S++]*A,T=0|Y,X=p[S++]*A,ie=0|V,b=p[S++]*A,ce=0|X,Y+=e.adj43[T],Te=0|b,V+=e.adj43[ie],x[M++]=0|Y,X+=e.adj43[ce],x[M++]=0|V,b+=e.adj43[Te],x[M++]=0|X,x[M++]=0|b}if(D!=0){var Y,V,T,ie;Y=p[S++]*A,V=p[S++]*A,T=0|Y,ie=0|V,Y+=e.adj43[T],V+=e.adj43[ie],x[M++]=0|Y,x[M++]=0|V}}function r(y,A,p,S,x){var M,D,Y=0,V,X=0,b=0,T=0,ie=A,ce=0,Te=ie,te=0,ve=y,oe=0;for(V=x!=null&&S.global_gain==x.global_gain,S.block_type==H.SHORT_TYPE?D=38:D=21,M=0;M<=D;M++){var Re=-1;if((V||S.block_type==H.NORM_TYPE)&&(Re=S.global_gain-(S.scalefac[M]+(S.preflag!=0?e.pretab[M]:0)<<S.scalefac_scale+1)-S.subblock_gain[S.window[M]]*8),Wc(S.width[M]>=0),V&&x.step[M]==Re)X!=0&&(o(X,p,ve,oe,Te,te),X=0),b!=0&&(n(b,p,ve,oe,Te,te),b=0);else{var Oe=S.width[M];if(Y+S.width[M]>S.max_nonzero_coeff){var Se;Se=S.max_nonzero_coeff-Y+1,DS.fill(A,S.max_nonzero_coeff,576,0),Oe=Se,Oe<0&&(Oe=0),M=D+1}if(X==0&&b==0&&(Te=ie,te=ce,ve=y,oe=T),x!=null&&x.sfb_count1>0&&M>=x.sfb_count1&&x.step[M]>0&&Re>=x.step[M]?(X!=0&&(o(X,p,ve,oe,Te,te),X=0,Te=ie,te=ce,ve=y,oe=T),b+=Oe):(b!=0&&(n(b,p,ve,oe,Te,te),b=0,Te=ie,te=ce,ve=y,oe=T),X+=Oe),Oe<=0){b!=0&&(n(b,p,ve,oe,Te,te),b=0),X!=0&&(o(X,p,ve,oe,Te,te),X=0);break}}M<=D&&(ce+=S.width[M],T+=S.width[M],Y+=S.width[M])}X!=0&&(o(X,p,ve,oe,Te,te),X=0),b!=0&&(n(b,p,ve,oe,Te,te),b=0)}function i(y,A,p){var S=0,x=0;do{var M=y[A++],D=y[A++];S<M&&(S=M),x<D&&(x=D)}while(A<p);return S<x&&(S=x),S}function l(y,A,p,S,x,M){var D=we.ht[S].xlen*65536+we.ht[x].xlen,Y=0,V;do{var X=y[A++],b=y[A++];X!=0&&(X>14&&(X=15,Y+=D),X*=16),b!=0&&(b>14&&(b=15,Y+=D),X+=b),Y+=we.largetbl[X]}while(A<p);return V=Y&65535,Y>>=16,Y>V&&(Y=V,S=x),M.bits+=Y,S}function d(y,A,p,S){var x=0,M=we.ht[1].hlen;do{var D=y[A+0]*2+y[A+1];A+=2,x+=M[D]}while(A<p);return S.bits+=x,1}function c(y,A,p,S,x){var M=0,D,Y=we.ht[S].xlen,V;S==2?V=we.table23:V=we.table56;do{var X=y[A+0]*Y+y[A+1];A+=2,M+=V[X]}while(A<p);return D=M&65535,M>>=16,M>D&&(M=D,S++),x.bits+=M,S}function f(y,A,p,S,x){var M=0,D=0,Y=0,V=we.ht[S].xlen,X=we.ht[S].hlen,b=we.ht[S+1].hlen,T=we.ht[S+2].hlen;do{var ie=y[A+0]*V+y[A+1];A+=2,M+=X[ie],D+=b[ie],Y+=T[ie]}while(A<p);var ce=S;return M>D&&(M=D,ce++),M>Y&&(M=Y,ce=S+2),x.bits+=M,ce}var u=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function v(y,A,p,S){var x=i(y,A,p);switch(x){case 0:return x;case 1:return d(y,A,p,S);case 2:case 3:return c(y,A,p,u[x-1],S);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return f(y,A,p,u[x-1],S);default:if(x>cs.IXMAX_VAL)return S.bits=cs.LARGE_BITS,-1;x-=15;var M;for(M=24;M<32&&!(we.ht[M].linmax>=x);M++);var D;for(D=M-8;D<24&&!(we.ht[D].linmax>=x);D++);return l(y,A,p,D,M,S)}}this.noquant_count_bits=function(y,A,p){var S=A.l3_enc,x=Math.min(576,A.max_nonzero_coeff+2>>1<<1);for(p!=null&&(p.sfb_count1=0);x>1&&(S[x-1]|S[x-2])==0;x-=2);A.count1=x;for(var M=0,D=0;x>3;x-=4){var Y;if(((S[x-1]|S[x-2]|S[x-3]|S[x-4])&2147483647)>1)break;Y=((S[x-4]*2+S[x-3])*2+S[x-2])*2+S[x-1],M+=we.t32l[Y],D+=we.t33l[Y]}var V=M;if(A.count1table_select=0,M>D&&(V=D,A.count1table_select=1),A.count1bits=V,A.big_values=x,x==0)return V;if(A.block_type==H.SHORT_TYPE)M=3*y.scalefac_band.s[3],M>A.big_values&&(M=A.big_values),D=A.big_values;else if(A.block_type==H.NORM_TYPE){if(M=A.region0_count=y.bv_scf[x-2],D=A.region1_count=y.bv_scf[x-1],D=y.scalefac_band.l[M+D+2],M=y.scalefac_band.l[M+1],D<x){var X=new t(V);A.table_select[2]=v(S,D,x,X),V=X.bits}}else A.region0_count=7,A.region1_count=H.SBMAX_l-1-7-1,M=y.scalefac_band.l[7+1],D=x,M>D&&(M=D);if(M=Math.min(M,x),D=Math.min(D,x),M>0){var X=new t(V);A.table_select[0]=v(S,0,M,X),V=X.bits}if(M<D){var X=new t(V);A.table_select[1]=v(S,M,D,X),V=X.bits}if(y.use_best_huffman==2&&(A.part2_3_length=V,best_huffman_divide(y,A),V=A.part2_3_length),p!=null&&A.block_type==H.NORM_TYPE){for(var b=0;y.scalefac_band.l[b]<A.big_values;)b++;p.sfb_count1=b}return V},this.count_bits=function(y,A,p,S){var x=p.l3_enc,M=cs.IXMAX_VAL/e.IPOW20(p.global_gain);if(p.xrpow_max>M)return cs.LARGE_BITS;if(r(A,x,e.IPOW20(p.global_gain),p,S),(y.substep_shaping&2)!=0)for(var D=0,Y=p.global_gain+p.scalefac_scale,V=.634521682242439/e.IPOW20(Y),X=0;X<p.sfbmax;X++){var b=p.width[X];if(y.pseudohalf[X]==0)D+=b;else{var T;for(T=D,D+=b;T<D;++T)x[T]=A[T]>=V?x[T]:0}}return this.noquant_count_bits(y,p,S)};function w(y,A,p,S,x,M,D){for(var Y=A.big_values,V=0;V<=7+15;V++)S[V]=cs.LARGE_BITS;for(var V=0;V<16;V++){var X=y.scalefac_band.l[V+1];if(X>=Y)break;var b=0,T=new t(b),ie=v(p,0,X,T);b=T.bits;for(var ce=0;ce<8;ce++){var Te=y.scalefac_band.l[V+ce+2];if(Te>=Y)break;var te=b;T=new t(te);var ve=v(p,X,Te,T);te=T.bits,S[V+ce]>te&&(S[V+ce]=te,x[V+ce]=V,M[V+ce]=ie,D[V+ce]=ve)}}}function a(y,A,p,S,x,M,D,Y){for(var V=A.big_values,X=2;X<H.SBMAX_l+1;X++){var b=y.scalefac_band.l[X];if(b>=V)break;var T=x[X-2]+A.count1bits;if(p.part2_3_length<=T)break;var ie=new t(T),ce=v(S,b,V,ie);T=ie.bits,!(p.part2_3_length<=T)&&(p.assign(A),p.part2_3_length=T,p.region0_count=M[X-2],p.region1_count=X-2-M[X-2],p.table_select[0]=D[X-2],p.table_select[1]=Y[X-2],p.table_select[2]=ce)}}this.best_huffman_divide=function(y,A){var p=new Ml,S=A.l3_enc,x=pi(7+15+1),M=pi(7+15+1),D=pi(7+15+1),Y=pi(7+15+1);if(!(A.block_type==H.SHORT_TYPE&&y.mode_gr==1)){p.assign(A),A.block_type==H.NORM_TYPE&&(w(y,A,S,x,M,D,Y),a(y,p,A,S,x,M,D,Y));var V=p.big_values;if(!(V==0||(S[V-2]|S[V-1])>1)&&(V=A.count1+2,!(V>576))){p.assign(A),p.count1=V;for(var X=0,b=0;V>p.big_values;V-=4){var T=((S[V-4]*2+S[V-3])*2+S[V-2])*2+S[V-1];X+=we.t32l[T],b+=we.t33l[T]}if(p.big_values=V,p.count1table_select=0,X>b&&(X=b,p.count1table_select=1),p.count1bits=X,p.block_type==H.NORM_TYPE)a(y,p,A,S,x,M,D,Y);else{if(p.part2_3_length=X,X=y.scalefac_band.l[7+1],X>V&&(X=V),X>0){var ie=new t(p.part2_3_length);p.table_select[0]=v(S,0,X,ie),p.part2_3_length=ie.bits}if(V>X){var ie=new t(p.part2_3_length);p.table_select[1]=v(S,X,V,ie),p.part2_3_length=ie.bits}A.part2_3_length>p.part2_3_length&&A.assign(p)}}}};var j=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],N=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],P=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],g=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];oa.slen1_tab=P,oa.slen2_tab=g;function I(y,A){for(var p,S=A.tt[1][y],x=A.tt[0][y],M=0;M<we.scfsi_band.length-1;M++){for(p=we.scfsi_band[M];p<we.scfsi_band[M+1]&&!(x.scalefac[p]!=S.scalefac[p]&&S.scalefac[p]>=0);p++);if(p==we.scfsi_band[M+1]){for(p=we.scfsi_band[M];p<we.scfsi_band[M+1];p++)S.scalefac[p]=-1;A.scfsi[y][M]=1}}var D=0,Y=0;for(p=0;p<11;p++)S.scalefac[p]!=-1&&(Y++,D<S.scalefac[p]&&(D=S.scalefac[p]));for(var V=0,X=0;p<H.SBPSY_l;p++)S.scalefac[p]!=-1&&(X++,V<S.scalefac[p]&&(V=S.scalefac[p]));for(var M=0;M<16;M++)if(D<j[M]&&V<N[M]){var b=P[M]*Y+g[M]*X;S.part2_length>b&&(S.part2_length=b,S.scalefac_compress=M)}}this.best_scalefac_store=function(y,A,p,S){var x=S.tt[A][p],M,D,Y,V,X=0;for(Y=0,M=0;M<x.sfbmax;M++){var b=x.width[M];for(Y+=b,V=-b;V<0&&x.l3_enc[V+Y]==0;V++);V==0&&(x.scalefac[M]=X=-2)}if(x.scalefac_scale==0&&x.preflag==0){var T=0;for(M=0;M<x.sfbmax;M++)x.scalefac[M]>0&&(T|=x.scalefac[M]);if((T&1)==0&&T!=0){for(M=0;M<x.sfbmax;M++)x.scalefac[M]>0&&(x.scalefac[M]>>=1);x.scalefac_scale=X=1}}if(x.preflag==0&&x.block_type!=H.SHORT_TYPE&&y.mode_gr==2){for(M=11;M<H.SBPSY_l&&!(x.scalefac[M]<e.pretab[M]&&x.scalefac[M]!=-2);M++);if(M==H.SBPSY_l){for(M=11;M<H.SBPSY_l;M++)x.scalefac[M]>0&&(x.scalefac[M]-=e.pretab[M]);x.preflag=X=1}}for(D=0;D<4;D++)S.scfsi[p][D]=0;for(y.mode_gr==2&&A==1&&S.tt[0][p].block_type!=H.SHORT_TYPE&&S.tt[1][p].block_type!=H.SHORT_TYPE&&(I(p,S),X=0),M=0;M<x.sfbmax;M++)x.scalefac[M]==-2&&(x.scalefac[M]=0);X!=0&&(y.mode_gr==2?this.scale_bitcount(x):this.scale_bitcount_lsf(y,x))};function F(y,A){for(var p=0;p<A;++p)if(y[p]<0)return!1;return!0}var O=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],q=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],_=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(y){var A,p,S=0,x=0,M,D=y.scalefac;if(Wc(F(D,y.sfbmax)),y.block_type==H.SHORT_TYPE)M=O,y.mixed_block_flag!=0&&(M=q);else if(M=_,y.preflag==0){for(p=11;p<H.SBPSY_l&&!(D[p]<e.pretab[p]);p++);if(p==H.SBPSY_l)for(y.preflag=1,p=11;p<H.SBPSY_l;p++)D[p]-=e.pretab[p]}for(p=0;p<y.sfbdivide;p++)S<D[p]&&(S=D[p]);for(;p<y.sfbmax;p++)x<D[p]&&(x=D[p]);for(y.part2_length=cs.LARGE_BITS,A=0;A<16;A++)S<j[A]&&x<N[A]&&y.part2_length>M[A]&&(y.part2_length=M[A],y.scalefac_compress=A);return y.part2_length==cs.LARGE_BITS};var k=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(y,A){var p,S,x,M,D,Y,V,X,b=pi(4),T=A.scalefac;for(A.preflag!=0?p=2:p=0,V=0;V<4;V++)b[V]=0;if(A.block_type==H.SHORT_TYPE){S=1;var ie=e.nr_of_sfb_block[p][S];for(X=0,x=0;x<4;x++)for(M=ie[x]/3,V=0;V<M;V++,X++)for(D=0;D<3;D++)T[X*3+D]>b[x]&&(b[x]=T[X*3+D])}else{S=0;var ie=e.nr_of_sfb_block[p][S];for(X=0,x=0;x<4;x++)for(M=ie[x],V=0;V<M;V++,X++)T[X]>b[x]&&(b[x]=T[X])}for(Y=!1,x=0;x<4;x++)b[x]>k[p][x]&&(Y=!0);if(!Y){var ce,Te,te,ve;for(A.sfb_partition_table=e.nr_of_sfb_block[p][S],x=0;x<4;x++)A.slen[x]=R[b[x]];switch(ce=A.slen[0],Te=A.slen[1],te=A.slen[2],ve=A.slen[3],p){case 0:A.scalefac_compress=(ce*5+Te<<4)+(te<<2)+ve;break;case 1:A.scalefac_compress=400+(ce*5+Te<<2)+te;break;case 2:A.scalefac_compress=500+ce*3+Te;break;default:US.err.printf(`intensity stereo not implemented yet
`);break}}if(!Y)for(Wc(A.sfb_partition_table!=null),A.part2_length=0,x=0;x<4;x++)A.part2_length+=A.slen[x]*A.sfb_partition_table[x];return Y};var R=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(y){for(var A=2;A<=576;A+=2){for(var p=0,S;y.scalefac_band.l[++p]<A;);for(S=s[p][0];y.scalefac_band.l[S+1]>A;)S--;for(S<0&&(S=s[p][0]),y.bv_scf[A-2]=S,S=s[p][1];y.scalefac_band.l[S+y.bv_scf[A-2]+2]>A;)S--;S<0&&(S=s[p][1]),y.bv_scf[A-1]=S}}}var hn=Ve.System,qS=Ve.Arrays,VS=Ve.new_byte,$S=Ve.new_float_n,zS=Ve.new_int,Jt=Ve.assert;Ys.EQ=function(e,t){return Math.abs(e)>Math.abs(t)?Math.abs(e-t)<=Math.abs(e)*1e-6:Math.abs(e-t)<=Math.abs(t)*1e-6};Ys.NEQ=function(e,t){return!Ys.EQ(e,t)};function Ys(){var e=this,t=32773,s=null,n=null,o=null,r=null;this.setModules=function(k,R,y,A){s=k,n=R,o=y,r=A};var i=null,l=0,d=0,c=0;this.getframebits=function(k){var R=k.internal_flags,y;R.bitrate_index!=0?y=we.bitrate_table[k.version][R.bitrate_index]:y=k.brate;var A=0|(k.version+1)*72e3*y/k.out_samplerate+R.padding;return 8*A};function f(k){hn.arraycopy(k.header[k.w_ptr].buf,0,i,d,k.sideinfo_len),d+=k.sideinfo_len,l+=k.sideinfo_len*8,k.w_ptr=k.w_ptr+1&yt.MAX_HEADER_BUF-1}function u(k,R,y){for(;y>0;){var A;c==0&&(c=8,d++,Jt(k.header[k.w_ptr].write_timing>=l),k.header[k.w_ptr].write_timing==l&&f(k),i[d]=0),A=Math.min(y,c),y-=A,c-=A,i[d]|=R>>y<<c,l+=A}}function v(k,R,y){for(;y>0;){var A;c==0&&(c=8,d++,i[d]=0),A=Math.min(y,c),y-=A,c-=A,i[d]|=R>>y<<c,l+=A}}function w(k,R){var y=k.internal_flags,A;if(R>=8&&(u(y,76,8),R-=8),R>=8&&(u(y,65,8),R-=8),R>=8&&(u(y,77,8),R-=8),R>=8&&(u(y,69,8),R-=8),R>=32){var p=o.getLameShortVersion();if(R>=32)for(A=0;A<p.length&&R>=8;++A)R-=8,u(y,p.charAt(A),8)}for(;R>=1;R-=1)u(y,y.ancillary_flag,1),y.ancillary_flag^=k.disable_reservoir?0:1}function a(k,R,y){for(var A=k.header[k.h_ptr].ptr;y>0;){var p=Math.min(y,8-(A&7));y-=p,k.header[k.h_ptr].buf[A>>3]|=R>>y<<8-(A&7)-p,A+=p}k.header[k.h_ptr].ptr=A}function j(k,R){k<<=8;for(var y=0;y<8;y++)k<<=1,R<<=1,((R^k)&65536)!=0&&(R^=t);return R}this.CRC_writeheader=function(k,R){var y=65535;y=j(R[2]&255,y),y=j(R[3]&255,y);for(var A=6;A<k.sideinfo_len;A++)y=j(R[A]&255,y);R[4]=byte(y>>8),R[5]=byte(y&255)};function N(k,R){var y=k.internal_flags,A,p,S;if(A=y.l3_side,y.header[y.h_ptr].ptr=0,qS.fill(y.header[y.h_ptr].buf,0,y.sideinfo_len,0),k.out_samplerate<16e3?a(y,4094,12):a(y,4095,12),a(y,k.version,1),a(y,4-3,2),a(y,k.error_protection?0:1,1),a(y,y.bitrate_index,4),a(y,y.samplerate_index,2),a(y,y.padding,1),a(y,k.extension,1),a(y,k.mode.ordinal(),2),a(y,y.mode_ext,2),a(y,k.copyright,1),a(y,k.original,1),a(y,k.emphasis,2),k.error_protection&&a(y,0,16),k.version==1){for(Jt(A.main_data_begin>=0),a(y,A.main_data_begin,9),y.channels_out==2?a(y,A.private_bits,3):a(y,A.private_bits,5),S=0;S<y.channels_out;S++){var x;for(x=0;x<4;x++)a(y,A.scfsi[S][x],1)}for(p=0;p<2;p++)for(S=0;S<y.channels_out;S++){var M=A.tt[p][S];a(y,M.part2_3_length+M.part2_length,12),a(y,M.big_values/2,9),a(y,M.global_gain,8),a(y,M.scalefac_compress,4),M.block_type!=H.NORM_TYPE?(a(y,1,1),a(y,M.block_type,2),a(y,M.mixed_block_flag,1),M.table_select[0]==14&&(M.table_select[0]=16),a(y,M.table_select[0],5),M.table_select[1]==14&&(M.table_select[1]=16),a(y,M.table_select[1],5),a(y,M.subblock_gain[0],3),a(y,M.subblock_gain[1],3),a(y,M.subblock_gain[2],3)):(a(y,0,1),M.table_select[0]==14&&(M.table_select[0]=16),a(y,M.table_select[0],5),M.table_select[1]==14&&(M.table_select[1]=16),a(y,M.table_select[1],5),M.table_select[2]==14&&(M.table_select[2]=16),a(y,M.table_select[2],5),Jt(M.region0_count>=0&&M.region0_count<16),Jt(M.region1_count>=0&&M.region1_count<8),a(y,M.region0_count,4),a(y,M.region1_count,3)),a(y,M.preflag,1),a(y,M.scalefac_scale,1),a(y,M.count1table_select,1)}}else for(Jt(A.main_data_begin>=0),a(y,A.main_data_begin,8),a(y,A.private_bits,y.channels_out),p=0,S=0;S<y.channels_out;S++){var M=A.tt[p][S];a(y,M.part2_3_length+M.part2_length,12),a(y,M.big_values/2,9),a(y,M.global_gain,8),a(y,M.scalefac_compress,9),M.block_type!=H.NORM_TYPE?(a(y,1,1),a(y,M.block_type,2),a(y,M.mixed_block_flag,1),M.table_select[0]==14&&(M.table_select[0]=16),a(y,M.table_select[0],5),M.table_select[1]==14&&(M.table_select[1]=16),a(y,M.table_select[1],5),a(y,M.subblock_gain[0],3),a(y,M.subblock_gain[1],3),a(y,M.subblock_gain[2],3)):(a(y,0,1),M.table_select[0]==14&&(M.table_select[0]=16),a(y,M.table_select[0],5),M.table_select[1]==14&&(M.table_select[1]=16),a(y,M.table_select[1],5),M.table_select[2]==14&&(M.table_select[2]=16),a(y,M.table_select[2],5),Jt(M.region0_count>=0&&M.region0_count<16),Jt(M.region1_count>=0&&M.region1_count<8),a(y,M.region0_count,4),a(y,M.region1_count,3)),a(y,M.scalefac_scale,1),a(y,M.count1table_select,1)}k.error_protection&&CRC_writeheader(y,y.header[y.h_ptr].buf);{var D=y.h_ptr;Jt(y.header[D].ptr==y.sideinfo_len*8),y.h_ptr=D+1&yt.MAX_HEADER_BUF-1,y.header[y.h_ptr].write_timing=y.header[D].write_timing+R,y.h_ptr==y.w_ptr&&hn.err.println(`Error: MAX_HEADER_BUF too small in bitstream.c 
`)}}function P(k,R){var y=we.ht[R.count1table_select+32],A,p=0,S=R.big_values,x=R.big_values;for(Jt(R.count1table_select<2),A=(R.count1-R.big_values)/4;A>0;--A){var M=0,D=0,Y;Y=R.l3_enc[S+0],Y!=0&&(D+=8,R.xr[x+0]<0&&M++),Y=R.l3_enc[S+1],Y!=0&&(D+=4,M*=2,R.xr[x+1]<0&&M++),Y=R.l3_enc[S+2],Y!=0&&(D+=2,M*=2,R.xr[x+2]<0&&M++),Y=R.l3_enc[S+3],Y!=0&&(D++,M*=2,R.xr[x+3]<0&&M++),S+=4,x+=4,u(k,M+y.table[D],y.hlen[D]),p+=y.hlen[D]}return p}function g(k,R,y,A,p){var S=we.ht[R],x=0;if(R==0)return x;for(var M=y;M<A;M+=2){var D=0,Y=0,V=S.xlen,X=S.xlen,b=0,T=p.l3_enc[M],ie=p.l3_enc[M+1];if(T!=0&&(p.xr[M]<0&&b++,D--),R>15){if(T>14){var ce=T-15;Jt(ce<=S.linmax),b|=ce<<1,Y=V,T=15}if(ie>14){var Te=ie-15;Jt(Te<=S.linmax),b<<=V,b|=Te,Y+=V,ie=15}X=16}ie!=0&&(b<<=1,p.xr[M+1]<0&&b++,D--),T=T*X+ie,Y-=D,D+=S.hlen[T],u(k,S.table[T],D),u(k,b,Y),x+=D+Y}return x}function I(k,R){var y=3*k.scalefac_band.s[3];y>R.big_values&&(y=R.big_values);var A=g(k,R.table_select[0],0,y,R);return A+=g(k,R.table_select[1],y,R.big_values,R),A}function F(k,R){var y,A,p,S;y=R.big_values;var x=R.region0_count+1;return Jt(x<k.scalefac_band.l.length),p=k.scalefac_band.l[x],x+=R.region1_count+1,Jt(x<k.scalefac_band.l.length),S=k.scalefac_band.l[x],p>y&&(p=y),S>y&&(S=y),A=g(k,R.table_select[0],0,p,R),A+=g(k,R.table_select[1],p,S,R),A+=g(k,R.table_select[2],S,y,R),A}function O(k){var R,y,A,p,S=0,x=k.internal_flags,M=x.l3_side;if(k.version==1)for(R=0;R<2;R++)for(y=0;y<x.channels_out;y++){var D=M.tt[R][y],Y=oa.slen1_tab[D.scalefac_compress],V=oa.slen2_tab[D.scalefac_compress];for(p=0,A=0;A<D.sfbdivide;A++)D.scalefac[A]!=-1&&(u(x,D.scalefac[A],Y),p+=Y);for(;A<D.sfbmax;A++)D.scalefac[A]!=-1&&(u(x,D.scalefac[A],V),p+=V);Jt(p==D.part2_length),D.block_type==H.SHORT_TYPE?p+=I(x,D):p+=F(x,D),p+=P(x,D),Jt(p==D.part2_3_length+D.part2_length),S+=p}else for(R=0,y=0;y<x.channels_out;y++){var D=M.tt[R][y],X,b,T=0;if(Jt(D.sfb_partition_table!=null),p=0,A=0,b=0,D.block_type==H.SHORT_TYPE){for(;b<4;b++){var ie=D.sfb_partition_table[b]/3,ce=D.slen[b];for(X=0;X<ie;X++,A++)u(x,Math.max(D.scalefac[A*3+0],0),ce),u(x,Math.max(D.scalefac[A*3+1],0),ce),u(x,Math.max(D.scalefac[A*3+2],0),ce),T+=3*ce}p+=I(x,D)}else{for(;b<4;b++){var ie=D.sfb_partition_table[b],ce=D.slen[b];for(X=0;X<ie;X++,A++)u(x,Math.max(D.scalefac[A],0),ce),T+=ce}p+=F(x,D)}p+=P(x,D),Jt(p==D.part2_3_length),Jt(T==D.part2_length),S+=T+p}return S}function q(){this.total=0}function _(k,R){var y=k.internal_flags,A,p,S,x,M;return M=y.w_ptr,x=y.h_ptr-1,x==-1&&(x=yt.MAX_HEADER_BUF-1),A=y.header[x].write_timing-l,R.total=A,A>=0&&(p=1+x-M,x<M&&(p=1+x-M+yt.MAX_HEADER_BUF),A-=p*8*y.sideinfo_len),S=e.getframebits(k),A+=S,R.total+=S,R.total%8!=0?R.total=1+R.total/8:R.total=R.total/8,R.total+=d+1,A<0&&hn.err.println(`strange error flushing buffer ... 
`),A}this.flush_bitstream=function(k){var R=k.internal_flags,y,A,p=R.h_ptr-1;if(p==-1&&(p=yt.MAX_HEADER_BUF-1),y=R.l3_side,!((A=_(k,new q))<0)){if(w(k,A),Jt(R.header[p].write_timing+this.getframebits(k)==l),R.ResvSize=0,y.main_data_begin=0,R.findReplayGain){var S=s.GetTitleGain(R.rgdata);Jt(NEQ(S,GainAnalysis.GAIN_NOT_ENOUGH_SAMPLES)),R.RadioGain=Math.floor(S*10+.5)|0}R.findPeakSample&&(R.noclipGainChange=Math.ceil(Math.log10(R.PeakSample/32767)*20*10)|0,R.noclipGainChange>0&&(EQ(k.scale,1)||EQ(k.scale,0))?R.noclipScale=Math.floor(32767/R.PeakSample*100)/100:R.noclipScale=-1)}},this.add_dummy_byte=function(k,R,y){for(var A=k.internal_flags,p;y-- >0;)for(v(A,R,8),p=0;p<yt.MAX_HEADER_BUF;++p)A.header[p].write_timing+=8},this.format_bitstream=function(k){var R=k.internal_flags,y;y=R.l3_side;var A=this.getframebits(k);w(k,y.resvDrain_pre),N(k,A);var p=8*R.sideinfo_len;if(p+=O(k),w(k,y.resvDrain_post),p+=y.resvDrain_post,y.main_data_begin+=(A-p)/8,_(k,new q)!=R.ResvSize&&hn.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),y.main_data_begin*8!=R.ResvSize&&(hn.err.printf(`bit reservoir error: 
l3_side.main_data_begin: %d 
Resvoir size:             %d 
resv drain (post)         %d 
resv drain (pre)          %d 
header and sideinfo:      %d 
data bits:                %d 
total bits:               %d (remainder: %d) 
bitsperframe:             %d 
`,8*y.main_data_begin,R.ResvSize,y.resvDrain_post,y.resvDrain_pre,8*R.sideinfo_len,p-y.resvDrain_post-8*R.sideinfo_len,p,p%8,A),hn.err.println("This is a fatal error.  It has several possible causes:"),hn.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),hn.err.println(" 9%%  Your system is overclocked"),hn.err.println(" 1%%  bug in LAME encoding library"),R.ResvSize=y.main_data_begin*8),l>1e9){var S;for(S=0;S<yt.MAX_HEADER_BUF;++S)R.header[S].write_timing-=l;l=0}return 0},this.copy_buffer=function(k,R,y,A,p){var S=d+1;if(S<=0)return 0;if(A!=0&&S>A)return-1;if(hn.arraycopy(i,0,R,y,S),d=-1,c=0,p!=0){var x=zS(1);if(x[0]=k.nMusicCRC,r.updateMusicCRC(x,R,y,S),k.nMusicCRC=x[0],S>0&&(k.VBR_seek_table.nBytesWritten+=S),k.decode_on_the_fly){for(var M=$S([2,1152]),D=S,Y=-1,V;Y!=0;)if(Y=n.hip_decode1_unclipped(k.hip,R,y,D,M[0],M[1]),D=0,Y==-1&&(Y=0),Y>0){if(k.findPeakSample){for(V=0;V<Y;V++)M[0][V]>k.PeakSample?k.PeakSample=M[0][V]:-M[0][V]>k.PeakSample&&(k.PeakSample=-M[0][V]);if(k.channels_out>1)for(V=0;V<Y;V++)M[1][V]>k.PeakSample?k.PeakSample=M[1][V]:-M[1][V]>k.PeakSample&&(k.PeakSample=-M[1][V])}if(k.findReplayGain&&s.AnalyzeSamples(k.rgdata,M[0],0,M[1],0,Y,k.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6}}}return S},this.init_bit_stream_w=function(k){i=VS(it.LAME_MAXMP3BUFFER),k.h_ptr=k.w_ptr=0,k.header[k.h_ptr].write_timing=0,d=-1,c=0,l=0}}var KS=Ve.System,Nt=Ve.VbrMode,Gc=Ve.ShortBlock,Ur=Ve.new_float,D0=Ve.new_int_n,YS=Ve.new_short_n,sr=Ve.assert;function it(){var e=this,t=128*1024;it.V9=410,it.V8=420,it.V7=430,it.V6=440,it.V5=450,it.V4=460,it.V3=470,it.V2=480,it.V1=490,it.V0=500,it.R3MIX=1e3,it.STANDARD=1001,it.EXTREME=1002,it.INSANE=1003,it.STANDARD_FAST=1004,it.EXTREME_FAST=1005,it.MEDIUM=1006,it.MEDIUM_FAST=1007;var s=16384+t;it.LAME_MAXMP3BUFFER=s;var n,o,r,i,l,d=new Kc,c,f,u;this.enc=new H,this.setModules=function(b,T,ie,ce,Te,te,ve,oe,Re){n=b,o=T,r=ie,i=ce,l=Te,c=te,f=oe,u=Re,this.enc.setModules(o,d,i,c)};function v(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=Ur(H.SBMAX_l),this.bo_s_weight=Ur(H.SBMAX_s)}function w(){this.lowerlimit=0}function a(b,T){this.lowpass=T}var j=4294479419;function N(b){var T;return b.class_id=j,T=b.internal_flags=new yt,b.mode=St.NOT_SET,b.original=1,b.in_samplerate=44100,b.num_channels=2,b.num_samples=-1,b.bWriteVbrTag=!0,b.quality=-1,b.short_blocks=null,T.subblock_gain=-1,b.lowpassfreq=0,b.highpassfreq=0,b.lowpasswidth=-1,b.highpasswidth=-1,b.VBR=Nt.vbr_off,b.VBR_q=4,b.ATHcurve=-1,b.VBR_mean_bitrate_kbps=128,b.VBR_min_bitrate_kbps=0,b.VBR_max_bitrate_kbps=0,b.VBR_hard_min=0,T.VBR_min_bitrate=1,T.VBR_max_bitrate=13,b.quant_comp=-1,b.quant_comp_short=-1,b.msfix=-1,T.resample_ratio=1,T.OldValue[0]=180,T.OldValue[1]=180,T.CurrentStep[0]=4,T.CurrentStep[1]=4,T.masking_lower=1,T.nsPsy.attackthre=-1,T.nsPsy.attackthre_s=-1,b.scale=-1,b.athaa_type=-1,b.ATHtype=-1,b.athaa_loudapprox=-1,b.athaa_sensitivity=0,b.useTemporal=null,b.interChRatio=-1,T.mf_samples_to_encode=H.ENCDELAY+H.POSTDELAY,b.encoder_padding=0,T.mf_size=H.ENCDELAY-H.MDCTDELAY,b.findReplayGain=!1,b.decode_on_the_fly=!1,T.decode_on_the_fly=!1,T.findReplayGain=!1,T.findPeakSample=!1,T.RadioGain=0,T.AudiophileGain=0,T.noclipGainChange=0,T.noclipScale=-1,b.preset=0,b.write_id3tag_automatic=!0,0}this.lame_init=function(){var b=new xS;return N(b),b.lame_allocated_gfp=1,b};function P(b){return b>1?0:b<=0?1:Math.cos(Math.PI/2*b)}this.nearestBitrateFullIndex=function(b){var T=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],ie=0,ce=0,Te=0,te=0;te=T[16],Te=16,ce=T[16],ie=16;for(var ve=0;ve<16;ve++)if(Math.max(b,T[ve+1])!=b){te=T[ve+1],Te=ve+1,ce=T[ve],ie=ve;break}return te-b>b-ce?ie:Te};function g(b,T){var ie=44100;return T>=48e3?ie=48e3:T>=44100?ie=44100:T>=32e3?ie=32e3:T>=24e3?ie=24e3:T>=22050?ie=22050:T>=16e3?ie=16e3:T>=12e3?ie=12e3:T>=11025?ie=11025:T>=8e3&&(ie=8e3),b==-1?ie:(b<=15960&&(ie=44100),b<=15250&&(ie=32e3),b<=11220&&(ie=24e3),b<=9970&&(ie=22050),b<=7230&&(ie=16e3),b<=5420&&(ie=12e3),b<=4510&&(ie=11025),b<=3970&&(ie=8e3),T<ie?T>44100?48e3:T>32e3?44100:T>24e3?32e3:T>22050?24e3:T>16e3?22050:T>12e3?16e3:T>11025?12e3:T>8e3?11025:8e3:ie)}function I(b,T){switch(b){case 44100:return T.version=1,0;case 48e3:return T.version=1,1;case 32e3:return T.version=1,2;case 22050:return T.version=0,0;case 24e3:return T.version=0,1;case 16e3:return T.version=0,2;case 11025:return T.version=0,0;case 12e3:return T.version=0,1;case 8e3:return T.version=0,2;default:return T.version=0,-1}}function F(b,T,ie){ie<16e3&&(T=2);for(var ce=we.bitrate_table[T][1],Te=2;Te<=14;Te++)we.bitrate_table[T][Te]>0&&Math.abs(we.bitrate_table[T][Te]-b)<Math.abs(ce-b)&&(ce=we.bitrate_table[T][Te]);return ce}function O(b,T,ie){ie<16e3&&(T=2);for(var ce=0;ce<=14;ce++)if(we.bitrate_table[T][ce]>0&&we.bitrate_table[T][ce]==b)return ce;return-1}function q(b,T){var ie=[new a(8,2e3),new a(16,3700),new a(24,3900),new a(32,5500),new a(40,7e3),new a(48,7500),new a(56,1e4),new a(64,11e3),new a(80,13500),new a(96,15100),new a(112,15600),new a(128,17e3),new a(160,17500),new a(192,18600),new a(224,19400),new a(256,19700),new a(320,20500)],ce=e.nearestBitrateFullIndex(T);b.lowerlimit=ie[ce].lowpass}function _(b){var T=b.internal_flags,ie=32,ce=-1;if(T.lowpass1>0){for(var Te=999,te=0;te<=31;te++){var ve=te/31;ve>=T.lowpass2&&(ie=Math.min(ie,te)),T.lowpass1<ve&&ve<T.lowpass2&&(Te=Math.min(Te,te))}Te==999?T.lowpass1=(ie-.75)/31:T.lowpass1=(Te-.75)/31,T.lowpass2=ie/31}if(T.highpass2>0&&T.highpass2<.9*(.75/31)&&(T.highpass1=0,T.highpass2=0,KS.err.println(`Warning: highpass filter disabled.  highpass frequency too small
`)),T.highpass2>0){for(var oe=-1,te=0;te<=31;te++){var ve=te/31;ve<=T.highpass1&&(ce=Math.max(ce,te)),T.highpass1<ve&&ve<T.highpass2&&(oe=Math.max(oe,te))}T.highpass1=ce/31,oe==-1?T.highpass2=(ce+.75)/31:T.highpass2=(oe+.75)/31}for(var te=0;te<32;te++){var Re,Oe,ve=te/31;T.highpass2>T.highpass1?Re=P((T.highpass2-ve)/(T.highpass2-T.highpass1+1e-20)):Re=1,T.lowpass2>T.lowpass1?Oe=P((ve-T.lowpass1)/(T.lowpass2-T.lowpass1+1e-20)):Oe=1,T.amp_filter[te]=Re*Oe}}function k(b){var T=b.internal_flags;switch(b.quality){default:case 9:T.psymodel=0,T.noise_shaping=0,T.noise_shaping_amp=0,T.noise_shaping_stop=0,T.use_best_huffman=0,T.full_outer_loop=0;break;case 8:b.quality=7;case 7:T.psymodel=1,T.noise_shaping=0,T.noise_shaping_amp=0,T.noise_shaping_stop=0,T.use_best_huffman=0,T.full_outer_loop=0;break;case 6:T.psymodel=1,T.noise_shaping==0&&(T.noise_shaping=1),T.noise_shaping_amp=0,T.noise_shaping_stop=0,T.subblock_gain==-1&&(T.subblock_gain=1),T.use_best_huffman=0,T.full_outer_loop=0;break;case 5:T.psymodel=1,T.noise_shaping==0&&(T.noise_shaping=1),T.noise_shaping_amp=0,T.noise_shaping_stop=0,T.subblock_gain==-1&&(T.subblock_gain=1),T.use_best_huffman=0,T.full_outer_loop=0;break;case 4:T.psymodel=1,T.noise_shaping==0&&(T.noise_shaping=1),T.noise_shaping_amp=0,T.noise_shaping_stop=0,T.subblock_gain==-1&&(T.subblock_gain=1),T.use_best_huffman=1,T.full_outer_loop=0;break;case 3:T.psymodel=1,T.noise_shaping==0&&(T.noise_shaping=1),T.noise_shaping_amp=1,T.noise_shaping_stop=1,T.subblock_gain==-1&&(T.subblock_gain=1),T.use_best_huffman=1,T.full_outer_loop=0;break;case 2:T.psymodel=1,T.noise_shaping==0&&(T.noise_shaping=1),T.substep_shaping==0&&(T.substep_shaping=2),T.noise_shaping_amp=1,T.noise_shaping_stop=1,T.subblock_gain==-1&&(T.subblock_gain=1),T.use_best_huffman=1,T.full_outer_loop=0;break;case 1:T.psymodel=1,T.noise_shaping==0&&(T.noise_shaping=1),T.substep_shaping==0&&(T.substep_shaping=2),T.noise_shaping_amp=2,T.noise_shaping_stop=1,T.subblock_gain==-1&&(T.subblock_gain=1),T.use_best_huffman=1,T.full_outer_loop=0;break;case 0:T.psymodel=1,T.noise_shaping==0&&(T.noise_shaping=1),T.substep_shaping==0&&(T.substep_shaping=2),T.noise_shaping_amp=2,T.noise_shaping_stop=1,T.subblock_gain==-1&&(T.subblock_gain=1),T.use_best_huffman=1,T.full_outer_loop=0;break}}function R(b){var T=b.internal_flags;b.frameNum=0,b.write_id3tag_automatic&&f.id3tag_write_v2(b),T.bitrate_stereoMode_Hist=D0([16,4+1]),T.bitrate_blockType_Hist=D0([16,4+1+1]),T.PeakSample=0,b.bWriteVbrTag&&c.InitVbrTag(b)}this.lame_init_params=function(b){var T=b.internal_flags;if(T.Class_ID=0,T.ATH==null&&(T.ATH=new PS),T.PSY==null&&(T.PSY=new v),T.rgdata==null&&(T.rgdata=new NS),T.channels_in=b.num_channels,T.channels_in==1&&(b.mode=St.MONO),T.channels_out=b.mode==St.MONO?1:2,T.mode_ext=H.MPG_MD_MS_LR,b.mode==St.MONO&&(b.force_ms=!1),b.VBR==Nt.vbr_off&&b.VBR_mean_bitrate_kbps!=128&&b.brate==0&&(b.brate=b.VBR_mean_bitrate_kbps),b.VBR==Nt.vbr_off||b.VBR==Nt.vbr_mtrh||b.VBR==Nt.vbr_mt||(b.free_format=!1),b.VBR==Nt.vbr_off&&b.brate==0&&Ys.EQ(b.compression_ratio,0)&&(b.compression_ratio=11.025),b.VBR==Nt.vbr_off&&b.compression_ratio>0&&(b.out_samplerate==0&&(b.out_samplerate=map2MP3Frequency(int(.97*b.in_samplerate))),b.brate=0|b.out_samplerate*16*T.channels_out/(1e3*b.compression_ratio),T.samplerate_index=I(b.out_samplerate,b),b.free_format||(b.brate=F(b.brate,b.version,b.out_samplerate))),b.out_samplerate!=0&&(b.out_samplerate<16e3?(b.VBR_mean_bitrate_kbps=Math.max(b.VBR_mean_bitrate_kbps,8),b.VBR_mean_bitrate_kbps=Math.min(b.VBR_mean_bitrate_kbps,64)):b.out_samplerate<32e3?(b.VBR_mean_bitrate_kbps=Math.max(b.VBR_mean_bitrate_kbps,8),b.VBR_mean_bitrate_kbps=Math.min(b.VBR_mean_bitrate_kbps,160)):(b.VBR_mean_bitrate_kbps=Math.max(b.VBR_mean_bitrate_kbps,32),b.VBR_mean_bitrate_kbps=Math.min(b.VBR_mean_bitrate_kbps,320))),b.lowpassfreq==0){var ie=16e3;switch(b.VBR){case Nt.vbr_off:{var ce=new w;q(ce,b.brate),ie=ce.lowerlimit;break}case Nt.vbr_abr:{var ce=new w;q(ce,b.VBR_mean_bitrate_kbps),ie=ce.lowerlimit;break}case Nt.vbr_rh:{var Te=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(b.VBR_q>=0&&b.VBR_q<=9){var te=Te[b.VBR_q],ve=Te[b.VBR_q+1],oe=b.VBR_q_frac;ie=linear_int(te,ve,oe)}else ie=19500;break}default:{var Te=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950];if(b.VBR_q>=0&&b.VBR_q<=9){var te=Te[b.VBR_q],ve=Te[b.VBR_q+1],oe=b.VBR_q_frac;ie=linear_int(te,ve,oe)}else ie=19500}}b.mode==St.MONO&&(b.VBR==Nt.vbr_off||b.VBR==Nt.vbr_abr)&&(ie*=1.5),b.lowpassfreq=ie|0}if(b.out_samplerate==0&&(2*b.lowpassfreq>b.in_samplerate&&(b.lowpassfreq=b.in_samplerate/2),b.out_samplerate=g(b.lowpassfreq|0,b.in_samplerate)),b.lowpassfreq=Math.min(20500,b.lowpassfreq),b.lowpassfreq=Math.min(b.out_samplerate/2,b.lowpassfreq),b.VBR==Nt.vbr_off&&(b.compression_ratio=b.out_samplerate*16*T.channels_out/(1e3*b.brate)),b.VBR==Nt.vbr_abr&&(b.compression_ratio=b.out_samplerate*16*T.channels_out/(1e3*b.VBR_mean_bitrate_kbps)),b.bWriteVbrTag||(b.findReplayGain=!1,b.decode_on_the_fly=!1,T.findPeakSample=!1),T.findReplayGain=b.findReplayGain,T.decode_on_the_fly=b.decode_on_the_fly,T.decode_on_the_fly&&(T.findPeakSample=!0),T.findReplayGain&&n.InitGainAnalysis(T.rgdata,b.out_samplerate)==GainAnalysis.INIT_GAIN_ANALYSIS_ERROR)return b.internal_flags=null,-6;switch(T.decode_on_the_fly&&!b.decode_only&&(T.hip!=null&&u.hip_decode_exit(T.hip),T.hip=u.hip_decode_init()),T.mode_gr=b.out_samplerate<=24e3?1:2,b.framesize=576*T.mode_gr,b.encoder_delay=H.ENCDELAY,T.resample_ratio=b.in_samplerate/b.out_samplerate,b.VBR){case Nt.vbr_mt:case Nt.vbr_rh:case Nt.vbr_mtrh:{var Re=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5];b.compression_ratio=Re[b.VBR_q]}break;case Nt.vbr_abr:b.compression_ratio=b.out_samplerate*16*T.channels_out/(1e3*b.VBR_mean_bitrate_kbps);break;default:b.compression_ratio=b.out_samplerate*16*T.channels_out/(1e3*b.brate);break}if(b.mode==St.NOT_SET&&(b.mode=St.JOINT_STEREO),b.highpassfreq>0?(T.highpass1=2*b.highpassfreq,b.highpasswidth>=0?T.highpass2=2*(b.highpassfreq+b.highpasswidth):T.highpass2=(1+0)*2*b.highpassfreq,T.highpass1/=b.out_samplerate,T.highpass2/=b.out_samplerate):(T.highpass1=0,T.highpass2=0),b.lowpassfreq>0?(T.lowpass2=2*b.lowpassfreq,b.lowpasswidth>=0?(T.lowpass1=2*(b.lowpassfreq-b.lowpasswidth),T.lowpass1<0&&(T.lowpass1=0)):T.lowpass1=(1-0)*2*b.lowpassfreq,T.lowpass1/=b.out_samplerate,T.lowpass2/=b.out_samplerate):(T.lowpass1=0,T.lowpass2=0),_(b),T.samplerate_index=I(b.out_samplerate,b),T.samplerate_index<0)return b.internal_flags=null,-1;if(b.VBR==Nt.vbr_off){if(b.free_format)T.bitrate_index=0;else if(b.brate=F(b.brate,b.version,b.out_samplerate),T.bitrate_index=O(b.brate,b.version,b.out_samplerate),T.bitrate_index<=0)return b.internal_flags=null,-1}else T.bitrate_index=1;b.analysis&&(b.bWriteVbrTag=!1),T.pinfo!=null&&(b.bWriteVbrTag=!1),o.init_bit_stream_w(T);for(var Oe=T.samplerate_index+3*b.version+6*(b.out_samplerate<16e3?1:0),Se=0;Se<H.SBMAX_l+1;Se++)T.scalefac_band.l[Se]=i.sfBandIndex[Oe].l[Se];for(var Se=0;Se<H.PSFB21+1;Se++){var Fe=(T.scalefac_band.l[22]-T.scalefac_band.l[21])/H.PSFB21,Ke=T.scalefac_band.l[21]+Se*Fe;T.scalefac_band.psfb21[Se]=Ke}T.scalefac_band.psfb21[H.PSFB21]=576;for(var Se=0;Se<H.SBMAX_s+1;Se++)T.scalefac_band.s[Se]=i.sfBandIndex[Oe].s[Se];for(var Se=0;Se<H.PSFB12+1;Se++){var Fe=(T.scalefac_band.s[13]-T.scalefac_band.s[12])/H.PSFB12,Ke=T.scalefac_band.s[12]+Se*Fe;T.scalefac_band.psfb12[Se]=Ke}T.scalefac_band.psfb12[H.PSFB12]=192,b.version==1?T.sideinfo_len=T.channels_out==1?4+17:4+32:T.sideinfo_len=T.channels_out==1?4+9:4+17,b.error_protection&&(T.sideinfo_len+=2),R(b),T.Class_ID=j;{var E;for(E=0;E<19;E++)T.nsPsy.pefirbuf[E]=700*T.mode_gr*T.channels_out;b.ATHtype==-1&&(b.ATHtype=4)}switch(sr(b.VBR_q<=9),sr(b.VBR_q>=0),b.VBR){case Nt.vbr_mt:b.VBR=Nt.vbr_mtrh;case Nt.vbr_mtrh:{b.useTemporal==null&&(b.useTemporal=!1),r.apply_preset(b,500-b.VBR_q*10,0),b.quality<0&&(b.quality=LAME_DEFAULT_QUALITY),b.quality<5&&(b.quality=0),b.quality>5&&(b.quality=5),T.PSY.mask_adjust=b.maskingadjust,T.PSY.mask_adjust_short=b.maskingadjust_short,b.experimentalY?T.sfb21_extra=!1:T.sfb21_extra=b.out_samplerate>44e3,T.iteration_loop=new VBRNewIterationLoop(l);break}case Nt.vbr_rh:{r.apply_preset(b,500-b.VBR_q*10,0),T.PSY.mask_adjust=b.maskingadjust,T.PSY.mask_adjust_short=b.maskingadjust_short,b.experimentalY?T.sfb21_extra=!1:T.sfb21_extra=b.out_samplerate>44e3,b.quality>6&&(b.quality=6),b.quality<0&&(b.quality=LAME_DEFAULT_QUALITY),T.iteration_loop=new VBROldIterationLoop(l);break}default:{var B;T.sfb21_extra=!1,b.quality<0&&(b.quality=LAME_DEFAULT_QUALITY),B=b.VBR,B==Nt.vbr_off&&(b.VBR_mean_bitrate_kbps=b.brate),r.apply_preset(b,b.VBR_mean_bitrate_kbps,0),b.VBR=B,T.PSY.mask_adjust=b.maskingadjust,T.PSY.mask_adjust_short=b.maskingadjust_short,B==Nt.vbr_off?T.iteration_loop=new FS(l):T.iteration_loop=new ABRIterationLoop(l);break}}if(sr(b.scale>=0),b.VBR!=Nt.vbr_off){if(T.VBR_min_bitrate=1,T.VBR_max_bitrate=14,b.out_samplerate<16e3&&(T.VBR_max_bitrate=8),b.VBR_min_bitrate_kbps!=0&&(b.VBR_min_bitrate_kbps=F(b.VBR_min_bitrate_kbps,b.version,b.out_samplerate),T.VBR_min_bitrate=O(b.VBR_min_bitrate_kbps,b.version,b.out_samplerate),T.VBR_min_bitrate<0)||b.VBR_max_bitrate_kbps!=0&&(b.VBR_max_bitrate_kbps=F(b.VBR_max_bitrate_kbps,b.version,b.out_samplerate),T.VBR_max_bitrate=O(b.VBR_max_bitrate_kbps,b.version,b.out_samplerate),T.VBR_max_bitrate<0))return-1;b.VBR_min_bitrate_kbps=we.bitrate_table[b.version][T.VBR_min_bitrate],b.VBR_max_bitrate_kbps=we.bitrate_table[b.version][T.VBR_max_bitrate],b.VBR_mean_bitrate_kbps=Math.min(we.bitrate_table[b.version][T.VBR_max_bitrate],b.VBR_mean_bitrate_kbps),b.VBR_mean_bitrate_kbps=Math.max(we.bitrate_table[b.version][T.VBR_min_bitrate],b.VBR_mean_bitrate_kbps)}return b.tune&&(T.PSY.mask_adjust+=b.tune_value_a,T.PSY.mask_adjust_short+=b.tune_value_a),k(b),sr(b.scale>=0),b.athaa_type<0?T.ATH.useAdjust=3:T.ATH.useAdjust=b.athaa_type,T.ATH.aaSensitivityP=Math.pow(10,b.athaa_sensitivity/-10),b.short_blocks==null&&(b.short_blocks=Gc.short_block_allowed),b.short_blocks==Gc.short_block_allowed&&(b.mode==St.JOINT_STEREO||b.mode==St.STEREO)&&(b.short_blocks=Gc.short_block_coupled),b.quant_comp<0&&(b.quant_comp=1),b.quant_comp_short<0&&(b.quant_comp_short=0),b.msfix<0&&(b.msfix=0),b.exp_nspsytune=b.exp_nspsytune|1,b.internal_flags.nsPsy.attackthre<0&&(b.internal_flags.nsPsy.attackthre=Kc.NSATTACKTHRE),b.internal_flags.nsPsy.attackthre_s<0&&(b.internal_flags.nsPsy.attackthre_s=Kc.NSATTACKTHRE_S),sr(b.scale>=0),b.scale<0&&(b.scale=1),b.ATHtype<0&&(b.ATHtype=4),b.ATHcurve<0&&(b.ATHcurve=4),b.athaa_loudapprox<0&&(b.athaa_loudapprox=2),b.interChRatio<0&&(b.interChRatio=0),b.useTemporal==null&&(b.useTemporal=!0),T.slot_lag=T.frac_SpF=0,b.VBR==Nt.vbr_off&&(T.slot_lag=T.frac_SpF=(b.version+1)*72e3*b.brate%b.out_samplerate|0),i.iteration_init(b),d.psymodel_init(b),sr(b.scale>=0),0};function y(b,T){(b.in_buffer_0==null||b.in_buffer_nsamples<T)&&(b.in_buffer_0=Ur(T),b.in_buffer_1=Ur(T),b.in_buffer_nsamples=T)}this.lame_encode_flush=function(b,T,ie,ce){var Te=b.internal_flags,te=YS([2,1152]),ve=0,oe,Re,Oe,Se,Fe=Te.mf_samples_to_encode-H.POSTDELAY,Ke=A(b);if(Te.mf_samples_to_encode<1)return 0;for(oe=0,b.in_samplerate!=b.out_samplerate&&(Fe+=16*b.out_samplerate/b.in_samplerate),Oe=b.framesize-Fe%b.framesize,Oe<576&&(Oe+=b.framesize),b.encoder_padding=Oe,Se=(Fe+Oe)/b.framesize;Se>0&&ve>=0;){var E=Ke-Te.mf_size,B=b.frameNum;E*=b.in_samplerate,E/=b.out_samplerate,E>1152&&(E=1152),E<1&&(E=1),Re=ce-oe,ce==0&&(Re=0),ve=this.lame_encode_buffer(b,te[0],te[1],E,T,ie,Re),ie+=ve,oe+=ve,Se-=B!=b.frameNum?1:0}if(Te.mf_samples_to_encode=0,ve<0||(Re=ce-oe,ce==0&&(Re=0),o.flush_bitstream(b),ve=o.copy_buffer(Te,T,ie,Re,1),ve<0))return ve;if(ie+=ve,oe+=ve,Re=ce-oe,ce==0&&(Re=0),b.write_id3tag_automatic){if(f.id3tag_write_v1(b),ve=o.copy_buffer(Te,T,ie,Re,0),ve<0)return ve;oe+=ve}return oe},this.lame_encode_buffer=function(b,T,ie,ce,Te,te,ve){var oe=b.internal_flags,Re=[null,null];if(oe.Class_ID!=j)return-3;if(ce==0)return 0;y(oe,ce),Re[0]=oe.in_buffer_0,Re[1]=oe.in_buffer_1;for(var Oe=0;Oe<ce;Oe++)Re[0][Oe]=T[Oe],oe.channels_in>1&&(Re[1][Oe]=ie[Oe]);return p(b,Re[0],Re[1],ce,Te,te,ve)};function A(b){var T=H.BLKSIZE+b.framesize-H.FFTOFFSET;return T=Math.max(T,512+b.framesize-32),T}function p(b,T,ie,ce,Te,te,ve){var oe=b.internal_flags,Re=0,Oe,Se,Fe,Ke,E,B=[null,null],$=[null,null];if(oe.Class_ID!=j)return-3;if(ce==0)return 0;if(E=o.copy_buffer(oe,Te,te,ve,0),E<0)return E;if(te+=E,Re+=E,$[0]=T,$[1]=ie,Ys.NEQ(b.scale,0)&&Ys.NEQ(b.scale,1))for(Se=0;Se<ce;++Se)$[0][Se]*=b.scale,oe.channels_out==2&&($[1][Se]*=b.scale);if(Ys.NEQ(b.scale_left,0)&&Ys.NEQ(b.scale_left,1))for(Se=0;Se<ce;++Se)$[0][Se]*=b.scale_left;if(Ys.NEQ(b.scale_right,0)&&Ys.NEQ(b.scale_right,1))for(Se=0;Se<ce;++Se)$[1][Se]*=b.scale_right;if(b.num_channels==2&&oe.channels_out==1)for(Se=0;Se<ce;++Se)$[0][Se]=.5*($[0][Se]+$[1][Se]),$[1][Se]=0;Ke=A(b),B[0]=oe.mfbuf[0],B[1]=oe.mfbuf[1];for(var W=0;ce>0;){var Z=[null,null],ue=0,de=0;Z[0]=$[0],Z[1]=$[1];var re=new x;if(X(b,B,Z,W,ce,re),ue=re.n_in,de=re.n_out,oe.findReplayGain&&!oe.decode_on_the_fly&&n.AnalyzeSamples(oe.rgdata,B[0],oe.mf_size,B[1],oe.mf_size,de,oe.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6;if(ce-=ue,W+=ue,oe.channels_out==2,oe.mf_size+=de,sr(oe.mf_size<=yt.MFSIZE),oe.mf_samples_to_encode<1&&(oe.mf_samples_to_encode=H.ENCDELAY+H.POSTDELAY),oe.mf_samples_to_encode+=de,oe.mf_size>=Ke){var fe=ve-Re;if(ve==0&&(fe=0),Oe=S(b,B[0],B[1],Te,te,fe),Oe<0)return Oe;for(te+=Oe,Re+=Oe,oe.mf_size-=b.framesize,oe.mf_samples_to_encode-=b.framesize,Fe=0;Fe<oe.channels_out;Fe++)for(Se=0;Se<oe.mf_size;Se++)B[Fe][Se]=B[Fe][Se+b.framesize]}}return Re}function S(b,T,ie,ce,Te,te){var ve=e.enc.lame_encode_mp3_frame(b,T,ie,ce,Te,te);return b.frameNum++,ve}function x(){this.n_in=0,this.n_out=0}function M(){this.num_used=0}function D(b,T){return T!=0?D(T,b%T):b}function Y(b,T,ie){var ce=Math.PI*T;b/=ie,b<0&&(b=0),b>1&&(b=1);var Te=b-.5,te=.42-.5*Math.cos(2*b*Math.PI)+.08*Math.cos(4*b*Math.PI);return Math.abs(Te)<1e-9?ce/Math.PI:te*Math.sin(ie*ce*Te)/(Math.PI*ie*Te)}function V(b,T,ie,ce,Te,te,ve,oe,Re){var Oe=b.internal_flags,Se,Fe=0,Ke,E=b.out_samplerate/D(b.out_samplerate,b.in_samplerate);E>yt.BPC&&(E=yt.BPC);var B=Math.abs(Oe.resample_ratio-Math.floor(.5+Oe.resample_ratio))<1e-4?1:0,$=1/Oe.resample_ratio;$>1&&($=1);var W=31;W%2==0&&--W,W+=B;var Z=W+1;if(Oe.fill_buffer_resample_init==0){for(Oe.inbuf_old[0]=Ur(Z),Oe.inbuf_old[1]=Ur(Z),Se=0;Se<=2*E;++Se)Oe.blackfilt[Se]=Ur(Z);for(Oe.itime[0]=0,Oe.itime[1]=0,Fe=0;Fe<=2*E;Fe++){var ue=0,de=(Fe-E)/(2*E);for(Se=0;Se<=W;Se++)ue+=Oe.blackfilt[Fe][Se]=Y(Se-de,$,W);for(Se=0;Se<=W;Se++)Oe.blackfilt[Fe][Se]/=ue}Oe.fill_buffer_resample_init=1}var re=Oe.inbuf_old[Re];for(Ke=0;Ke<ce;Ke++){var fe,J;if(fe=Ke*Oe.resample_ratio,Fe=0|Math.floor(fe-Oe.itime[Re]),W+Fe-W/2>=ve)break;var de=fe-Oe.itime[Re]-(Fe+.5*(W%2));J=0|Math.floor(de*2*E+E+.5);var ke=0;for(Se=0;Se<=W;++Se){var _e=0|Se+Fe-W/2,Ce;Ce=_e<0?re[Z+_e]:Te[te+_e],ke+=Ce*Oe.blackfilt[J][Se]}T[ie+Ke]=ke}if(oe.num_used=Math.min(ve,W+Fe-W/2),Oe.itime[Re]+=oe.num_used-Ke*Oe.resample_ratio,oe.num_used>=Z)for(Se=0;Se<Z;Se++)re[Se]=Te[te+oe.num_used+Se-Z];else{var ye=Z-oe.num_used;for(Se=0;Se<ye;++Se)re[Se]=re[Se+oe.num_used];for(Fe=0;Se<Z;++Se,++Fe)re[Se]=Te[te+Fe];sr(Fe==oe.num_used)}return Ke}function X(b,T,ie,ce,Te,te){var ve=b.internal_flags;if(ve.resample_ratio<.9999||ve.resample_ratio>1.0001)for(var oe=0;oe<ve.channels_out;oe++){var Re=new M;te.n_out=V(b,T[oe],ve.mf_size,b.framesize,ie[oe],ce,Te,Re,oe),te.n_in=Re.num_used}else{te.n_out=Math.min(b.framesize,Te),te.n_in=te.n_out;for(var Oe=0;Oe<te.n_out;++Oe)T[0][ve.mf_size+Oe]=ie[0][ce+Oe],ve.channels_out==2&&(T[1][ve.mf_size+Oe]=ie[1][ce+Oe])}}}var mn=Ve.VbrMode;function XS(){function e(c,f,u,v,w,a,j,N,P,g,I,F,O,q,_){this.vbr_q=c,this.quant_comp=f,this.quant_comp_s=u,this.expY=v,this.st_lrm=w,this.st_s=a,this.masking_adj=j,this.masking_adj_short=N,this.ath_lower=P,this.ath_curve=g,this.ath_sensitivity=I,this.interch=F,this.safejoint=O,this.sfb21mod=q,this.msfix=_}function t(c,f,u,v,w,a,j,N,P,g,I,F,O,q){this.quant_comp=f,this.quant_comp_s=u,this.safejoint=v,this.nsmsfix=w,this.st_lrm=a,this.st_s=j,this.nsbass=N,this.scale=P,this.masking_adj=g,this.ath_lower=I,this.ath_curve=F,this.interch=O,this.sfscale=q}var s;this.setModules=function(c){s=c};var n=[new e(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new e(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new e(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new e(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new e(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new e(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new e(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new e(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new e(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new e(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new e(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],o=[new e(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new e(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new e(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new e(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new e(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new e(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new e(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new e(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new e(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new e(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new e(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function r(c,f,u){var v=c.VBR==mn.vbr_rh?n:o,w=c.VBR_q_frac,a=v[f],j=v[f+1],N=a;a.st_lrm=a.st_lrm+w*(j.st_lrm-a.st_lrm),a.st_s=a.st_s+w*(j.st_s-a.st_s),a.masking_adj=a.masking_adj+w*(j.masking_adj-a.masking_adj),a.masking_adj_short=a.masking_adj_short+w*(j.masking_adj_short-a.masking_adj_short),a.ath_lower=a.ath_lower+w*(j.ath_lower-a.ath_lower),a.ath_curve=a.ath_curve+w*(j.ath_curve-a.ath_curve),a.ath_sensitivity=a.ath_sensitivity+w*(j.ath_sensitivity-a.ath_sensitivity),a.interch=a.interch+w*(j.interch-a.interch),a.msfix=a.msfix+w*(j.msfix-a.msfix),d(c,N.vbr_q),u!=0?c.quant_comp=N.quant_comp:Math.abs(c.quant_comp- -1)>0||(c.quant_comp=N.quant_comp),u!=0?c.quant_comp_short=N.quant_comp_s:Math.abs(c.quant_comp_short- -1)>0||(c.quant_comp_short=N.quant_comp_s),N.expY!=0&&(c.experimentalY=N.expY!=0),u!=0?c.internal_flags.nsPsy.attackthre=N.st_lrm:Math.abs(c.internal_flags.nsPsy.attackthre- -1)>0||(c.internal_flags.nsPsy.attackthre=N.st_lrm),u!=0?c.internal_flags.nsPsy.attackthre_s=N.st_s:Math.abs(c.internal_flags.nsPsy.attackthre_s- -1)>0||(c.internal_flags.nsPsy.attackthre_s=N.st_s),u!=0?c.maskingadjust=N.masking_adj:Math.abs(c.maskingadjust-0)>0||(c.maskingadjust=N.masking_adj),u!=0?c.maskingadjust_short=N.masking_adj_short:Math.abs(c.maskingadjust_short-0)>0||(c.maskingadjust_short=N.masking_adj_short),u!=0?c.ATHlower=-N.ath_lower/10:Math.abs(-c.ATHlower*10-0)>0||(c.ATHlower=-N.ath_lower/10),u!=0?c.ATHcurve=N.ath_curve:Math.abs(c.ATHcurve- -1)>0||(c.ATHcurve=N.ath_curve),u!=0?c.athaa_sensitivity=N.ath_sensitivity:Math.abs(c.athaa_sensitivity- -1)>0||(c.athaa_sensitivity=N.ath_sensitivity),N.interch>0&&(u!=0?c.interChRatio=N.interch:Math.abs(c.interChRatio- -1)>0||(c.interChRatio=N.interch)),N.safejoint>0&&(c.exp_nspsytune=c.exp_nspsytune|N.safejoint),N.sfb21mod>0&&(c.exp_nspsytune=c.exp_nspsytune|N.sfb21mod<<20),u!=0?c.msfix=N.msfix:Math.abs(c.msfix- -1)>0||(c.msfix=N.msfix),u==0&&(c.VBR_q=f,c.VBR_q_frac=w)}var i=[new t(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new t(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new t(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new t(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new t(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new t(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new t(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new t(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new t(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new t(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new t(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new t(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new t(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new t(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new t(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new t(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new t(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function l(c,f,u){var v=f,w=s.nearestBitrateFullIndex(f);if(c.VBR=mn.vbr_abr,c.VBR_mean_bitrate_kbps=v,c.VBR_mean_bitrate_kbps=Math.min(c.VBR_mean_bitrate_kbps,320),c.VBR_mean_bitrate_kbps=Math.max(c.VBR_mean_bitrate_kbps,8),c.brate=c.VBR_mean_bitrate_kbps,c.VBR_mean_bitrate_kbps>320&&(c.disable_reservoir=!0),i[w].safejoint>0&&(c.exp_nspsytune=c.exp_nspsytune|2),i[w].sfscale>0&&(c.internal_flags.noise_shaping=2),Math.abs(i[w].nsbass)>0){var a=int(i[w].nsbass*4);a<0&&(a+=64),c.exp_nspsytune=c.exp_nspsytune|a<<2}return u!=0?c.quant_comp=i[w].quant_comp:Math.abs(c.quant_comp- -1)>0||(c.quant_comp=i[w].quant_comp),u!=0?c.quant_comp_short=i[w].quant_comp_s:Math.abs(c.quant_comp_short- -1)>0||(c.quant_comp_short=i[w].quant_comp_s),u!=0?c.msfix=i[w].nsmsfix:Math.abs(c.msfix- -1)>0||(c.msfix=i[w].nsmsfix),u!=0?c.internal_flags.nsPsy.attackthre=i[w].st_lrm:Math.abs(c.internal_flags.nsPsy.attackthre- -1)>0||(c.internal_flags.nsPsy.attackthre=i[w].st_lrm),u!=0?c.internal_flags.nsPsy.attackthre_s=i[w].st_s:Math.abs(c.internal_flags.nsPsy.attackthre_s- -1)>0||(c.internal_flags.nsPsy.attackthre_s=i[w].st_s),u!=0?c.scale=i[w].scale:Math.abs(c.scale- -1)>0||(c.scale=i[w].scale),u!=0?c.maskingadjust=i[w].masking_adj:Math.abs(c.maskingadjust-0)>0||(c.maskingadjust=i[w].masking_adj),i[w].masking_adj>0?u!=0?c.maskingadjust_short=i[w].masking_adj*.9:Math.abs(c.maskingadjust_short-0)>0||(c.maskingadjust_short=i[w].masking_adj*.9):u!=0?c.maskingadjust_short=i[w].masking_adj*1.1:Math.abs(c.maskingadjust_short-0)>0||(c.maskingadjust_short=i[w].masking_adj*1.1),u!=0?c.ATHlower=-i[w].ath_lower/10:Math.abs(-c.ATHlower*10-0)>0||(c.ATHlower=-i[w].ath_lower/10),u!=0?c.ATHcurve=i[w].ath_curve:Math.abs(c.ATHcurve- -1)>0||(c.ATHcurve=i[w].ath_curve),u!=0?c.interChRatio=i[w].interch:Math.abs(c.interChRatio- -1)>0||(c.interChRatio=i[w].interch),f}this.apply_preset=function(c,f,u){switch(f){case it.R3MIX:{f=it.V3,c.VBR=mn.vbr_mtrh;break}case it.MEDIUM:{f=it.V4,c.VBR=mn.vbr_rh;break}case it.MEDIUM_FAST:{f=it.V4,c.VBR=mn.vbr_mtrh;break}case it.STANDARD:{f=it.V2,c.VBR=mn.vbr_rh;break}case it.STANDARD_FAST:{f=it.V2,c.VBR=mn.vbr_mtrh;break}case it.EXTREME:{f=it.V0,c.VBR=mn.vbr_rh;break}case it.EXTREME_FAST:{f=it.V0,c.VBR=mn.vbr_mtrh;break}case it.INSANE:return f=320,c.preset=f,l(c,f,u),c.VBR=mn.vbr_off,f}switch(c.preset=f,f){case it.V9:return r(c,9,u),f;case it.V8:return r(c,8,u),f;case it.V7:return r(c,7,u),f;case it.V6:return r(c,6,u),f;case it.V5:return r(c,5,u),f;case it.V4:return r(c,4,u),f;case it.V3:return r(c,3,u),f;case it.V2:return r(c,2,u),f;case it.V1:return r(c,1,u),f;case it.V0:return r(c,0,u),f}return f>=8&&f<=320?l(c,f,u):(c.preset=0,f)};function d(c,f){var u=0;return f<0&&(u=-1,f=0),f>9&&(u=-1,f=9),c.VBR_q=f,c.VBR_q_frac=0,u}}function WS(){this.setModules=function(e,t){}}function Zc(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}var q0=Ve.new_float,GS=Ve.new_int;function ZS(){this.global_gain=0,this.sfb_count1=0,this.step=GS(39),this.noise=q0(39),this.noise_log=q0(39)}var nr=Ve.System,V0=Ve.VbrMode,Qc=Ve.Util,wo=Ve.Arrays,vi=Ve.new_float,gi=Ve.assert;function QS(){var e;this.rv=null;var t;this.qupvt=null;var s,n=new WS,o;this.setModules=function(P,g,I,F){e=P,t=g,this.rv=g,s=I,this.qupvt=I,o=F,n.setModules(s,o)},this.ms_convert=function(P,g){for(var I=0;I<576;++I){var F=P.tt[g][0].xr[I],O=P.tt[g][1].xr[I];P.tt[g][0].xr[I]=(F+O)*(Qc.SQRT2*.5),P.tt[g][1].xr[I]=(F-O)*(Qc.SQRT2*.5)}};function r(P,g,I,F){F=0;for(var O=0;O<=I;++O){var q=Math.abs(P.xr[O]);F+=q,g[O]=Math.sqrt(q*Math.sqrt(q)),g[O]>P.xrpow_max&&(P.xrpow_max=g[O])}return F}this.init_xrpow=function(P,g,I){var F=0,O=0|g.max_nonzero_coeff;if(g.xrpow_max=0,wo.fill(I,O,576,0),F=r(g,I,O,F),F>1e-20){var q=0;(P.substep_shaping&2)!=0&&(q=1);for(var _=0;_<g.psymax;_++)P.pseudohalf[_]=q;return!0}return wo.fill(g.l3_enc,0,576,0),!1};function i(P,g){var I=P.ATH,F=g.xr;if(g.block_type!=H.SHORT_TYPE)for(var O=!1,q=H.PSFB21-1;q>=0&&!O;q--){var _=P.scalefac_band.psfb21[q],k=P.scalefac_band.psfb21[q+1],R=s.athAdjust(I.adjust,I.psfb21[q],I.floor);P.nsPsy.longfact[21]>1e-12&&(R*=P.nsPsy.longfact[21]);for(var y=k-1;y>=_;y--)if(Math.abs(F[y])<R)F[y]=0;else{O=!0;break}}else for(var A=0;A<3;A++)for(var O=!1,q=H.PSFB12-1;q>=0&&!O;q--){var _=P.scalefac_band.s[12]*3+(P.scalefac_band.s[13]-P.scalefac_band.s[12])*A+(P.scalefac_band.psfb12[q]-P.scalefac_band.psfb12[0]),k=_+(P.scalefac_band.psfb12[q+1]-P.scalefac_band.psfb12[q]),p=s.athAdjust(I.adjust,I.psfb12[q],I.floor);P.nsPsy.shortfact[12]>1e-12&&(p*=P.nsPsy.shortfact[12]);for(var y=k-1;y>=_;y--)if(Math.abs(F[y])<p)F[y]=0;else{O=!0;break}}}this.init_outer_loop=function(P,g){g.part2_3_length=0,g.big_values=0,g.count1=0,g.global_gain=210,g.scalefac_compress=0,g.table_select[0]=0,g.table_select[1]=0,g.table_select[2]=0,g.subblock_gain[0]=0,g.subblock_gain[1]=0,g.subblock_gain[2]=0,g.subblock_gain[3]=0,g.region0_count=0,g.region1_count=0,g.preflag=0,g.scalefac_scale=0,g.count1table_select=0,g.part2_length=0,g.sfb_lmax=H.SBPSY_l,g.sfb_smin=H.SBPSY_s,g.psy_lmax=P.sfb21_extra?H.SBMAX_l:H.SBPSY_l,g.psymax=g.psy_lmax,g.sfbmax=g.sfb_lmax,g.sfbdivide=11;for(var I=0;I<H.SBMAX_l;I++)g.width[I]=P.scalefac_band.l[I+1]-P.scalefac_band.l[I],g.window[I]=3;if(g.block_type==H.SHORT_TYPE){var F=vi(576);g.sfb_smin=0,g.sfb_lmax=0,g.mixed_block_flag!=0&&(g.sfb_smin=3,g.sfb_lmax=P.mode_gr*2+4),g.psymax=g.sfb_lmax+3*((P.sfb21_extra?H.SBMAX_s:H.SBPSY_s)-g.sfb_smin),g.sfbmax=g.sfb_lmax+3*(H.SBPSY_s-g.sfb_smin),g.sfbdivide=g.sfbmax-18,g.psy_lmax=g.sfb_lmax;var O=P.scalefac_band.l[g.sfb_lmax];nr.arraycopy(g.xr,0,F,0,576);for(var I=g.sfb_smin;I<H.SBMAX_s;I++)for(var q=P.scalefac_band.s[I],_=P.scalefac_band.s[I+1],k=0;k<3;k++)for(var R=q;R<_;R++)g.xr[O++]=F[3*R+k];for(var y=g.sfb_lmax,I=g.sfb_smin;I<H.SBMAX_s;I++)g.width[y]=g.width[y+1]=g.width[y+2]=P.scalefac_band.s[I+1]-P.scalefac_band.s[I],g.window[y]=0,g.window[y+1]=1,g.window[y+2]=2,y+=3}g.count1bits=0,g.sfb_partition_table=s.nr_of_sfb_block[0][0],g.slen[0]=0,g.slen[1]=0,g.slen[2]=0,g.slen[3]=0,g.max_nonzero_coeff=575,wo.fill(g.scalefac,0),i(P,g)};function l(P){this.ordinal=P}l.BINSEARCH_NONE=new l(0),l.BINSEARCH_UP=new l(1),l.BINSEARCH_DOWN=new l(2);function d(P,g,I,F,O){var q,_=P.CurrentStep[F],k=!1,R=P.OldValue[F],y=l.BINSEARCH_NONE;for(g.global_gain=R,I-=g.part2_length;;){var A;if(q=o.count_bits(P,O,g,null),_==1||q==I)break;q>I?(y==l.BINSEARCH_DOWN&&(k=!0),k&&(_/=2),y=l.BINSEARCH_UP,A=_):(y==l.BINSEARCH_UP&&(k=!0),k&&(_/=2),y=l.BINSEARCH_DOWN,A=-_),g.global_gain+=A,g.global_gain<0&&(g.global_gain=0,k=!0),g.global_gain>255&&(g.global_gain=255,k=!0)}for(gi(g.global_gain>=0),gi(g.global_gain<256);q>I&&g.global_gain<255;)g.global_gain++,q=o.count_bits(P,O,g,null);return P.CurrentStep[F]=R-g.global_gain>=4?4:2,P.OldValue[F]=g.global_gain,g.part2_3_length=q,q}this.trancate_smallspectrums=function(P,g,I,F){var O=vi(_r.SFBMAX);if(!((P.substep_shaping&4)==0&&g.block_type==H.SHORT_TYPE||(P.substep_shaping&128)!=0)){s.calc_noise(g,I,O,new Zc,null);for(var _=0;_<576;_++){var q=0;g.l3_enc[_]!=0&&(q=Math.abs(g.xr[_])),F[_]=q}var _=0,k=8;g.block_type==H.SHORT_TYPE&&(k=6);do{var R,y,A,p,S=g.width[k];if(_+=S,!(O[k]>=1)&&(wo.sort(F,_-S,S),!BitStream.EQ(F[_-1],0))){R=(1-O[k])*I[k],y=0,p=0;do{var x;for(A=1;p+A<S&&!BitStream.NEQ(F[p+_-S],F[p+_+A-S]);A++);if(x=F[p+_-S]*F[p+_-S]*A,R<x){p!=0&&(y=F[p+_-S-1]);break}R-=x,p+=A}while(p<S);if(!BitStream.EQ(y,0))do Math.abs(g.xr[_-S])<=y&&(g.l3_enc[_-S]=0);while(--S>0)}}while(++k<g.psymax);g.part2_3_length=o.noquant_count_bits(P,g,null)}};function c(P){for(var g=0;g<P.sfbmax;g++)if(P.scalefac[g]+P.subblock_gain[P.window[g]]==0)return!1;return!0}function f(P){return Qc.FAST_LOG10(.368+.632*P*P*P)}function u(P,g){for(var I=1e-37,F=0;F<g.psymax;F++)I+=f(P[F]);return Math.max(1e-20,I)}function v(P,g,I,F,O){var q;switch(P){default:case 9:{g.over_count>0?(q=I.over_SSD<=g.over_SSD,I.over_SSD==g.over_SSD&&(q=I.bits<g.bits)):q=I.max_noise<0&&I.max_noise*10+I.bits<=g.max_noise*10+g.bits;break}case 0:q=I.over_count<g.over_count||I.over_count==g.over_count&&I.over_noise<g.over_noise||I.over_count==g.over_count&&BitStream.EQ(I.over_noise,g.over_noise)&&I.tot_noise<g.tot_noise;break;case 8:I.max_noise=u(O,F);case 1:q=I.max_noise<g.max_noise;break;case 2:q=I.tot_noise<g.tot_noise;break;case 3:q=I.tot_noise<g.tot_noise&&I.max_noise<g.max_noise;break;case 4:q=I.max_noise<=0&&g.max_noise>.2||I.max_noise<=0&&g.max_noise<0&&g.max_noise>I.max_noise-.2&&I.tot_noise<g.tot_noise||I.max_noise<=0&&g.max_noise>0&&g.max_noise>I.max_noise-.2&&I.tot_noise<g.tot_noise+g.over_noise||I.max_noise>0&&g.max_noise>-.05&&g.max_noise>I.max_noise-.1&&I.tot_noise+I.over_noise<g.tot_noise+g.over_noise||I.max_noise>0&&g.max_noise>-.1&&g.max_noise>I.max_noise-.15&&I.tot_noise+I.over_noise+I.over_noise<g.tot_noise+g.over_noise+g.over_noise;break;case 5:q=I.over_noise<g.over_noise||BitStream.EQ(I.over_noise,g.over_noise)&&I.tot_noise<g.tot_noise;break;case 6:q=I.over_noise<g.over_noise||BitStream.EQ(I.over_noise,g.over_noise)&&(I.max_noise<g.max_noise||BitStream.EQ(I.max_noise,g.max_noise)&&I.tot_noise<=g.tot_noise);break;case 7:q=I.over_count<g.over_count||I.over_noise<g.over_noise;break}return g.over_count==0&&(q=q&&I.bits<g.bits),q}function w(P,g,I,F,O){var q=P.internal_flags,_;g.scalefac_scale==0?_=1.2968395546510096:_=1.6817928305074292;for(var k=0,R=0;R<g.sfbmax;R++)k<I[R]&&(k=I[R]);var y=q.noise_shaping_amp;switch(y==3&&(O?y=2:y=1),y){case 2:break;case 1:k>1?k=Math.pow(k,.5):k*=.95;break;case 0:default:k>1?k=1:k*=.95;break}for(var A=0,R=0;R<g.sfbmax;R++){var p=g.width[R],S;if(A+=p,!(I[R]<k)){if((q.substep_shaping&2)!=0&&(q.pseudohalf[R]=q.pseudohalf[R]==0?1:0,q.pseudohalf[R]==0&&q.noise_shaping_amp==2))return;for(g.scalefac[R]++,S=-p;S<0;S++)F[A+S]*=_,F[A+S]>g.xrpow_max&&(g.xrpow_max=F[A+S]);if(q.noise_shaping_amp==2)return}}}function a(P,g){for(var I=1.2968395546510096,F=0,O=0;O<P.sfbmax;O++){var q=P.width[O],_=P.scalefac[O];if(P.preflag!=0&&(_+=s.pretab[O]),F+=q,(_&1)!=0){_++;for(var k=-q;k<0;k++)g[F+k]*=I,g[F+k]>P.xrpow_max&&(P.xrpow_max=g[F+k])}P.scalefac[O]=_>>1}P.preflag=0,P.scalefac_scale=1}function j(P,g,I){var F,O=g.scalefac;for(F=0;F<g.sfb_lmax;F++)if(O[F]>=16)return!0;for(var q=0;q<3;q++){var _=0,k=0;for(F=g.sfb_lmax+q;F<g.sfbdivide;F+=3)_<O[F]&&(_=O[F]);for(;F<g.sfbmax;F+=3)k<O[F]&&(k=O[F]);if(!(_<16&&k<8)){if(g.subblock_gain[q]>=7)return!0;g.subblock_gain[q]++;var R=P.scalefac_band.l[g.sfb_lmax];for(F=g.sfb_lmax+q;F<g.sfbmax;F+=3){var y,A=g.width[F],p=O[F];if(p=p-(4>>g.scalefac_scale),p>=0){O[F]=p,R+=A*3;continue}O[F]=0;{var S=210+(p<<g.scalefac_scale+1);y=s.IPOW20(S)}R+=A*(q+1);for(var x=-A;x<0;x++)I[R+x]*=y,I[R+x]>g.xrpow_max&&(g.xrpow_max=I[R+x]);R+=A*(3-q-1)}{var y=s.IPOW20(202);R+=g.width[F]*(q+1);for(var x=-g.width[F];x<0;x++)I[R+x]*=y,I[R+x]>g.xrpow_max&&(g.xrpow_max=I[R+x])}}}return!1}function N(P,g,I,F,O){var q=P.internal_flags;w(P,g,I,F,O);var _=c(g);return _?!1:(q.mode_gr==2?_=o.scale_bitcount(g):_=o.scale_bitcount_lsf(q,g),_?(q.noise_shaping>1&&(wo.fill(q.pseudohalf,0),g.scalefac_scale==0?(a(g,F),_=!1):g.block_type==H.SHORT_TYPE&&q.subblock_gain>0&&(_=j(q,g,F)||c(g))),_||(q.mode_gr==2?_=o.scale_bitcount(g):_=o.scale_bitcount_lsf(q,g)),!_):!0)}this.outer_loop=function(P,g,I,F,O,q){var _=P.internal_flags,k=new Ml,R=vi(576),y=vi(_r.SFBMAX),A=new Zc,p,S=new ZS,x=9999999,M=!1,D=!1,Y=0;if(d(_,g,q,O,F),_.noise_shaping==0)return 100;s.calc_noise(g,I,y,A,S),A.bits=g.part2_3_length,k.assign(g);var V=0;for(nr.arraycopy(F,0,R,0,576);!M;){do{var X=new Zc,b,T=255;if((_.substep_shaping&2)!=0?b=20:b=3,_.sfb21_extra&&(y[k.sfbmax]>1||k.block_type==H.SHORT_TYPE&&(y[k.sfbmax+1]>1||y[k.sfbmax+2]>1))||!N(P,k,y,F,D))break;k.scalefac_scale!=0&&(T=254);var ie=q-k.part2_length;if(ie<=0)break;for(;(k.part2_3_length=o.count_bits(_,F,k,S))>ie&&k.global_gain<=T;)k.global_gain++;if(k.global_gain>T)break;if(A.over_count==0){for(;(k.part2_3_length=o.count_bits(_,F,k,S))>x&&k.global_gain<=T;)k.global_gain++;if(k.global_gain>T)break}if(s.calc_noise(k,I,y,X,S),X.bits=k.part2_3_length,g.block_type!=H.SHORT_TYPE?p=P.quant_comp:p=P.quant_comp_short,p=v(p,A,X,k,y)?1:0,p!=0)x=g.part2_3_length,A=X,g.assign(k),V=0,nr.arraycopy(F,0,R,0,576);else if(_.full_outer_loop==0&&(++V>b&&A.over_count==0||_.noise_shaping_amp==3&&D&&V>30||_.noise_shaping_amp==3&&D&&k.global_gain-Y>15))break}while(k.global_gain+k.scalefac_scale<255);_.noise_shaping_amp==3?D?M=!0:(k.assign(g),nr.arraycopy(R,0,F,0,576),V=0,Y=k.global_gain,D=!0):M=!0}return gi(g.global_gain+g.scalefac_scale<=255),P.VBR==V0.vbr_rh||P.VBR==V0.vbr_mtrh?nr.arraycopy(R,0,F,0,576):(_.substep_shaping&1)!=0&&trancate_smallspectrums(_,g,I,F),A.over_count},this.iteration_finish_one=function(P,g,I){var F=P.l3_side,O=F.tt[g][I];o.best_scalefac_store(P,g,I,F),P.use_best_huffman==1&&o.best_huffman_divide(P,O),t.ResvAdjust(P,O)},this.VBR_encode_granule=function(P,g,I,F,O,q,_){var k=P.internal_flags,R=new Ml,y=vi(576),A=_,p=_+1,S=(_+q)/2,x,M,D=0,Y=k.sfb21_extra;gi(A<=LameInternalFlags.MAX_BITS_PER_CHANNEL),wo.fill(R.l3_enc,0);do S>A-42?k.sfb21_extra=!1:k.sfb21_extra=Y,M=outer_loop(P,g,I,F,O,S),M<=0?(D=1,p=g.part2_3_length,R.assign(g),nr.arraycopy(F,0,y,0,576),_=p-32,x=_-q,S=(_+q)/2):(q=S+32,x=_-q,S=(_+q)/2,D!=0&&(D=2,g.assign(R),nr.arraycopy(y,0,F,0,576)));while(x>12);k.sfb21_extra=Y,D==2&&nr.arraycopy(R.l3_enc,0,g.l3_enc,0,576),gi(g.part2_3_length<=A)},this.get_framebits=function(P,g){var I=P.internal_flags;I.bitrate_index=I.VBR_min_bitrate;var F=e.getframebits(P);I.bitrate_index=1,F=e.getframebits(P);for(var O=1;O<=I.VBR_max_bitrate;O++){I.bitrate_index=O;var q=new MeanBits(F);g[O]=t.ResvFrameBegin(P,q),F=q.bits}},this.VBR_old_prepare=function(P,g,I,F,O,q,_,k,R){var y=P.internal_flags,A,p=0,S=1,x=0;y.bitrate_index=y.VBR_max_bitrate;var M=t.ResvFrameBegin(P,new MeanBits(0))/y.mode_gr;get_framebits(P,q);for(var D=0;D<y.mode_gr;D++){var Y=s.on_pe(P,g,k[D],M,D,0);y.mode_ext==H.MPG_MD_MS_LR&&(ms_convert(y.l3_side,D),s.reduce_side(k[D],I[D],M,Y));for(var V=0;V<y.channels_out;++V){var X=y.l3_side.tt[D][V];X.block_type!=H.SHORT_TYPE?(p=1.28/(1+Math.exp(3.5-g[D][V]/300))-.05,A=y.PSY.mask_adjust-p):(p=2.56/(1+Math.exp(3.5-g[D][V]/300))-.14,A=y.PSY.mask_adjust_short-p),y.masking_lower=Math.pow(10,A*.1),init_outer_loop(y,X),R[D][V]=s.calc_xmin(P,F[D][V],X,O[D][V]),R[D][V]!=0&&(S=0),_[D][V]=126,x+=k[D][V]}}for(var D=0;D<y.mode_gr;D++)for(var V=0;V<y.channels_out;V++)x>q[y.VBR_max_bitrate]&&(k[D][V]*=q[y.VBR_max_bitrate],k[D][V]/=x),_[D][V]>k[D][V]&&(_[D][V]=k[D][V]);return S},this.bitpressure_strategy=function(P,g,I,F){for(var O=0;O<P.mode_gr;O++)for(var q=0;q<P.channels_out;q++){for(var _=P.l3_side.tt[O][q],k=g[O][q],R=0,y=0;y<_.psy_lmax;y++)k[R++]*=1+.029*y*y/H.SBMAX_l/H.SBMAX_l;if(_.block_type==H.SHORT_TYPE)for(var y=_.sfb_smin;y<H.SBMAX_s;y++)k[R++]*=1+.029*y*y/H.SBMAX_s/H.SBMAX_s,k[R++]*=1+.029*y*y/H.SBMAX_s/H.SBMAX_s,k[R++]*=1+.029*y*y/H.SBMAX_s/H.SBMAX_s;F[O][q]=0|Math.max(I[O][q],.9*F[O][q])}},this.VBR_new_prepare=function(P,g,I,F,O,q){var _=P.internal_flags,k=1,R=0,y=0,A;if(P.free_format){_.bitrate_index=0;var p=new MeanBits(R);A=t.ResvFrameBegin(P,p),R=p.bits,O[0]=A}else{_.bitrate_index=_.VBR_max_bitrate;var p=new MeanBits(R);t.ResvFrameBegin(P,p),R=p.bits,get_framebits(P,O),A=O[_.VBR_max_bitrate]}for(var S=0;S<_.mode_gr;S++){s.on_pe(P,g,q[S],R,S,0),_.mode_ext==H.MPG_MD_MS_LR&&ms_convert(_.l3_side,S);for(var x=0;x<_.channels_out;++x){var M=_.l3_side.tt[S][x];_.masking_lower=Math.pow(10,_.PSY.mask_adjust*.1),init_outer_loop(_,M),s.calc_xmin(P,I[S][x],M,F[S][x])!=0&&(k=0),y+=q[S][x]}}for(var S=0;S<_.mode_gr;S++)for(var x=0;x<_.channels_out;x++)y>A&&(q[S][x]*=A,q[S][x]/=y);return k},this.calc_target_bits=function(P,g,I,F,O,q){var _=P.internal_flags,k=_.l3_side,R,y,A,p,S=0;_.bitrate_index=_.VBR_max_bitrate;var x=new MeanBits(S);for(q[0]=t.ResvFrameBegin(P,x),S=x.bits,_.bitrate_index=1,S=e.getframebits(P)-_.sideinfo_len*8,O[0]=S/(_.mode_gr*_.channels_out),S=P.VBR_mean_bitrate_kbps*P.framesize*1e3,(_.substep_shaping&1)!=0&&(S*=1.09),S/=P.out_samplerate,S-=_.sideinfo_len*8,S/=_.mode_gr*_.channels_out,R=.93+.07*(11-P.compression_ratio)/(11-5.5),R<.9&&(R=.9),R>1&&(R=1),y=0;y<_.mode_gr;y++){var M=0;for(A=0;A<_.channels_out;A++){if(F[y][A]=int(R*S),g[y][A]>700){var D=int((g[y][A]-700)/1.4),Y=k.tt[y][A];F[y][A]=int(R*S),Y.block_type==H.SHORT_TYPE&&D<S/2&&(D=S/2),D>S*3/2?D=S*3/2:D<0&&(D=0),F[y][A]+=D}F[y][A]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(F[y][A]=LameInternalFlags.MAX_BITS_PER_CHANNEL),M+=F[y][A]}if(M>LameInternalFlags.MAX_BITS_PER_GRANULE)for(A=0;A<_.channels_out;++A)F[y][A]*=LameInternalFlags.MAX_BITS_PER_GRANULE,F[y][A]/=M}if(_.mode_ext==H.MPG_MD_MS_LR)for(y=0;y<_.mode_gr;y++)s.reduce_side(F[y],I[y],S*_.channels_out,LameInternalFlags.MAX_BITS_PER_GRANULE);for(p=0,y=0;y<_.mode_gr;y++)for(A=0;A<_.channels_out;A++)F[y][A]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(F[y][A]=LameInternalFlags.MAX_BITS_PER_CHANNEL),p+=F[y][A];if(p>q[0])for(y=0;y<_.mode_gr;y++)for(A=0;A<_.channels_out;A++)F[y][A]*=q[0],F[y][A]/=p}}var $0=Ve.assert;function JS(){var e;this.setModules=function(t){e=t},this.ResvFrameBegin=function(t,s){var n=t.internal_flags,o,r=n.l3_side,i=e.getframebits(t);s.bits=(i-n.sideinfo_len*8)/n.mode_gr;var l=8*256*n.mode_gr-8;t.brate>320?o=8*int(t.brate*1e3/(t.out_samplerate/1152)/8+.5):(o=8*1440,t.strict_ISO&&(o=8*int(32e4/(t.out_samplerate/1152)/8+.5))),n.ResvMax=o-i,n.ResvMax>l&&(n.ResvMax=l),(n.ResvMax<0||t.disable_reservoir)&&(n.ResvMax=0);var d=s.bits*n.mode_gr+Math.min(n.ResvSize,n.ResvMax);return d>o&&(d=o),$0(n.ResvMax%8==0),$0(n.ResvMax>=0),r.resvDrain_pre=0,n.pinfo!=null&&(n.pinfo.mean_bits=s.bits/2,n.pinfo.resvsize=n.ResvSize),d},this.ResvMaxBits=function(t,s,n,o){var r=t.internal_flags,i,l=r.ResvSize,d=r.ResvMax;o!=0&&(l+=s),(r.substep_shaping&1)!=0&&(d*=.9),n.bits=s,l*10>d*9?(i=l-d*9/10,n.bits+=i,r.substep_shaping|=128):(i=0,r.substep_shaping&=127,!t.disable_reservoir&&(r.substep_shaping&1)==0&&(n.bits-=.1*s));var c=l<r.ResvMax*6/10?l:r.ResvMax*6/10;return c-=i,c<0&&(c=0),c},this.ResvAdjust=function(t,s){t.ResvSize-=s.part2_3_length+s.part2_length},this.ResvFrameEnd=function(t,s){var n,o=t.l3_side;t.ResvSize+=s*t.mode_gr;var r=0;o.resvDrain_post=0,o.resvDrain_pre=0,(n=t.ResvSize%8)!=0&&(r+=n),n=t.ResvSize-r-t.ResvMax,n>0&&(r+=n);{var i=Math.min(o.main_data_begin*8,r)/8;o.resvDrain_pre+=8*i,r-=8*i,t.ResvSize-=8*i,o.main_data_begin-=i}o.resvDrain_post+=r,t.ResvSize-=r}}function eE(){var e="http://www.mp3dev.org/",t=3,s=98,n=4,o=0,r=93;this.getLameVersion=function(){return t+"."+s+"."+n},this.getLameShortVersion=function(){return t+"."+s+"."+n},this.getLameVeryShortVersion=function(){return"LAME"+t+"."+s+"r"},this.getPsyVersion=function(){return o+"."+r},this.getLameUrl=function(){return e},this.getLameOsBitness=function(){return"32bits"}}var tE=Ve.System,Jc=Ve.VbrMode,z0=Ve.ShortBlock,sE=Ve.Arrays,Wa=Ve.new_byte,nE=Ve.assert;ia.NUMTOCENTRIES=100;ia.MAXFRAMESIZE=2880;function ia(){var e,t,s;this.setModules=function(S,x,M){e=S,t=x,s=M};var n=1,o=2,r=4,i=8,l=ia.NUMTOCENTRIES,d=ia.MAXFRAMESIZE,c=l+4+4+4+4+4,f=c+9+1+1+8+1+1+3+1+1+2+4+2+2,u=128,v=64,w=32,a=null,j="Xing",N="Info",P=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function g(S,x){if(S.nVbrNumFrames++,S.sum+=x,S.seen++,!(S.seen<S.want)&&(S.pos<S.size&&(S.bag[S.pos]=S.sum,S.pos++,S.seen=0),S.pos==S.size)){for(var M=1;M<S.size;M+=2)S.bag[M/2]=S.bag[M];S.want*=2,S.pos/=2}}function I(S,x){if(!(S.pos<=0))for(var M=1;M<l;++M){var D=M/l,Y,V,X=0|Math.floor(D*S.pos);X>S.pos-1&&(X=S.pos-1),Y=S.bag[X],V=S.sum;var b=0|256*Y/V;b>255&&(b=255),x[M]=255&b}}this.addVbrFrame=function(S){var x=S.internal_flags,M=Tables.bitrate_table[S.version][x.bitrate_index];nE(x.VBR_seek_table.bag!=null),g(x.VBR_seek_table,M)};function F(S,x){var M=S[x+0]&255;return M<<=8,M|=S[x+1]&255,M<<=8,M|=S[x+2]&255,M<<=8,M|=S[x+3]&255,M}function O(S,x,M){S[x+0]=255&(M>>24&255),S[x+1]=255&(M>>16&255),S[x+2]=255&(M>>8&255),S[x+3]=255&(M&255)}function q(S,x,M){S[x+0]=255&(M>>8&255),S[x+1]=255&(M&255)}function _(S,x){return new String(S,x,j.length(),a).equals(j)||new String(S,x,N.length(),a).equals(N)}function k(S,x,M){return 255&(S<<x|M&~(-1<<x))}function R(S,x){var M=S.internal_flags;x[0]=k(x[0],8,255),x[1]=k(x[1],3,7),x[1]=k(x[1],1,S.out_samplerate<16e3?0:1),x[1]=k(x[1],1,S.version),x[1]=k(x[1],2,4-3),x[1]=k(x[1],1,S.error_protection?0:1),x[2]=k(x[2],4,M.bitrate_index),x[2]=k(x[2],2,M.samplerate_index),x[2]=k(x[2],1,0),x[2]=k(x[2],1,S.extension),x[3]=k(x[3],2,S.mode.ordinal()),x[3]=k(x[3],2,M.mode_ext),x[3]=k(x[3],1,S.copyright),x[3]=k(x[3],1,S.original),x[3]=k(x[3],2,S.emphasis),x[0]=255;var D=255&(x[1]&241),Y;S.version==1?Y=u:S.out_samplerate<16e3?Y=w:Y=v,S.VBR==Jc.vbr_off&&(Y=S.brate);var V;S.free_format?V=0:V=255&16*e.BitrateIndex(Y,S.version,S.out_samplerate),S.version==1?(x[1]=255&(D|10),D=255&(x[2]&13),x[2]=255&(V|D)):(x[1]=255&(D|2),D=255&(x[2]&13),x[2]=255&(V|D))}this.getVbrTag=function(S){var x=new VBRTagData,M=0;x.flags=0;var D=S[M+1]>>3&1,Y=S[M+2]>>2&3,V=S[M+3]>>6&3,X=S[M+2]>>4&15;if(X=Tables.bitrate_table[D][X],S[M+1]>>4==14?x.samprate=Tables.samplerate_table[2][Y]:x.samprate=Tables.samplerate_table[D][Y],D!=0?V!=3?M+=32+4:M+=17+4:V!=3?M+=17+4:M+=9+4,!_(S,M))return null;M+=4,x.hId=D;var b=x.flags=F(S,M);if(M+=4,(b&n)!=0&&(x.frames=F(S,M),M+=4),(b&o)!=0&&(x.bytes=F(S,M),M+=4),(b&r)!=0){if(x.toc!=null)for(var T=0;T<l;T++)x.toc[T]=S[M+T];M+=l}x.vbrScale=-1,(b&i)!=0&&(x.vbrScale=F(S,M),M+=4),x.headersize=(D+1)*72e3*X/x.samprate,M+=21;var ie=S[M+0]<<4;ie+=S[M+1]>>4;var ce=(S[M+1]&15)<<8;return ce+=S[M+2]&255,(ie<0||ie>3e3)&&(ie=-1),(ce<0||ce>3e3)&&(ce=-1),x.encDelay=ie,x.encPadding=ce,x},this.InitVbrTag=function(S){var x=S.internal_flags,M;S.version==1?M=u:S.out_samplerate<16e3?M=w:M=v,S.VBR==Jc.vbr_off&&(M=S.brate);var D=(S.version+1)*72e3*M/S.out_samplerate,Y=x.sideinfo_len+f;if(x.VBR_seek_table.TotalFrameSize=D,D<Y||D>d){S.bWriteVbrTag=!1;return}x.VBR_seek_table.nVbrNumFrames=0,x.VBR_seek_table.nBytesWritten=0,x.VBR_seek_table.sum=0,x.VBR_seek_table.seen=0,x.VBR_seek_table.want=1,x.VBR_seek_table.pos=0,x.VBR_seek_table.bag==null&&(x.VBR_seek_table.bag=new int[400],x.VBR_seek_table.size=400);var V=Wa(d);R(S,V);for(var X=x.VBR_seek_table.TotalFrameSize,b=0;b<X;++b)t.add_dummy_byte(S,V[b]&255,1)};function y(S,x){var M=x^S;return x=x>>8^P[M&255],x}this.updateMusicCRC=function(S,x,M,D){for(var Y=0;Y<D;++Y)S[0]=y(x[M+Y],S[0])};function A(S,x,M,D,Y){var V=S.internal_flags,X=0,b=S.encoder_delay,T=S.encoder_padding,ie=100-10*S.VBR_q-S.quality,ce=s.getLameVeryShortVersion(),Te,te=0,ve,oe=[1,5,3,2,4,0,3],Re=0|(S.lowpassfreq/100+.5>255?255:S.lowpassfreq/100+.5),Oe=0,Se=0,Fe=0,Ke=S.internal_flags.noise_shaping,E=0,B=0,$=0,W=0,Z=0,ue=(S.exp_nspsytune&1)!=0,de=(S.exp_nspsytune&2)!=0,re=!1,fe=!1,J=S.internal_flags.nogap_total,ke=S.internal_flags.nogap_current,_e=S.ATHtype,Ce=0,ye;switch(S.VBR){case vbr_abr:ye=S.VBR_mean_bitrate_kbps;break;case vbr_off:ye=S.brate;break;default:ye=S.VBR_min_bitrate_kbps}switch(S.VBR.ordinal()<oe.length?Te=oe[S.VBR.ordinal()]:Te=0,ve=16*te+Te,V.findReplayGain&&(V.RadioGain>510&&(V.RadioGain=510),V.RadioGain<-510&&(V.RadioGain=-510),Se=8192,Se|=3072,V.RadioGain>=0?Se|=V.RadioGain:(Se|=512,Se|=-V.RadioGain)),V.findPeakSample&&(Oe=Math.abs(0|V.PeakSample/32767*Math.pow(2,23)+.5)),J!=-1&&(ke>0&&(fe=!0),ke<J-1&&(re=!0)),Ce=_e+((ue?1:0)<<4)+((de?1:0)<<5)+((re?1:0)<<6)+((fe?1:0)<<7),ie<0&&(ie=0),S.mode){case MONO:E=0;break;case STEREO:E=1;break;case DUAL_CHANNEL:E=2;break;case JOINT_STEREO:S.force_ms?E=4:E=3;break;case NOT_SET:default:E=7;break}S.in_samplerate<=32e3?$=0:S.in_samplerate==48e3?$=2:S.in_samplerate>48e3?$=3:$=1,(S.short_blocks==z0.short_block_forced||S.short_blocks==z0.short_block_dispensed||S.lowpassfreq==-1&&S.highpassfreq==-1||S.scale_left<S.scale_right||S.scale_left>S.scale_right||S.disable_reservoir&&S.brate<320||S.noATH||S.ATHonly||_e==0||S.in_samplerate<=32e3)&&(B=1),W=Ke+(E<<2)+(B<<5)+($<<6),Z=V.nMusicCRC,O(M,D+X,ie),X+=4;for(var He=0;He<9;He++)M[D+X+He]=255&ce.charAt(He);X+=9,M[D+X]=255&ve,X++,M[D+X]=255&Re,X++,O(M,D+X,Oe),X+=4,q(M,D+X,Se),X+=2,q(M,D+X,Fe),X+=2,M[D+X]=255&Ce,X++,ye>=255?M[D+X]=255:M[D+X]=255&ye,X++,M[D+X]=255&b>>4,M[D+X+1]=255&(b<<4)+(T>>8),M[D+X+2]=255&T,X+=3,M[D+X]=255&W,X++,M[D+X++]=0,q(M,D+X,S.preset),X+=2,O(M,D+X,x),X+=4,q(M,D+X,Z),X+=2;for(var he=0;he<X;he++)Y=y(M[D+he],Y);return q(M,D+X,Y),X+=2,X}function p(S){S.seek(0);var x=Wa(10);S.readFully(x);var M;return new String(x,"ISO-8859-1").startsWith("ID3")?M=0:M=((x[6]&127)<<21|(x[7]&127)<<14|(x[8]&127)<<7|x[9]&127)+x.length,M}this.getLameTagFrame=function(S,x){var M=S.internal_flags;if(!S.bWriteVbrTag||M.Class_ID!=Lame.LAME_ID||M.VBR_seek_table.pos<=0)return 0;if(x.length<M.VBR_seek_table.TotalFrameSize)return M.VBR_seek_table.TotalFrameSize;sE.fill(x,0,M.VBR_seek_table.TotalFrameSize,0),R(S,x);var D=Wa(l);if(S.free_format)for(var Y=1;Y<l;++Y)D[Y]=255&255*Y/100;else I(M.VBR_seek_table,D);var V=M.sideinfo_len;S.error_protection&&(V-=2),S.VBR==Jc.vbr_off?(x[V++]=255&N.charAt(0),x[V++]=255&N.charAt(1),x[V++]=255&N.charAt(2),x[V++]=255&N.charAt(3)):(x[V++]=255&j.charAt(0),x[V++]=255&j.charAt(1),x[V++]=255&j.charAt(2),x[V++]=255&j.charAt(3)),O(x,V,n+o+r+i),V+=4,O(x,V,M.VBR_seek_table.nVbrNumFrames),V+=4;var X=M.VBR_seek_table.nBytesWritten+M.VBR_seek_table.TotalFrameSize;O(x,V,0|X),V+=4,tE.arraycopy(D,0,x,V,D.length),V+=D.length,S.error_protection&&t.CRC_writeheader(M,x);for(var b=0,Y=0;Y<V;Y++)b=y(x[Y],b);return V+=A(S,X,x,V,b),M.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(S,x){var M=S.internal_flags;if(M.VBR_seek_table.pos<=0||(x.seek(x.length()),x.length()==0))return-1;var D=p(x);x.seek(D);var Y=Wa(d),V=getLameTagFrame(S,Y);return V>Y.length?-1:(V<1||x.write(Y,0,V),0)}}var K0=Ve.new_byte,rE=Ve.assert;function oE(){this.setModules=function(e,t){}}function iE(){this.setModules=function(e,t,s){}}function aE(){}function lE(){this.setModules=function(e,t){}}function cE(e,t,s){arguments.length!=3&&(console.error("WARN: Mp3Encoder(channels, samplerate, kbps) not specified"),e=1,t=44100,s=128);var n=new it,o=new oE,r=new Xt,i=new Ys,l=new XS,d=new cs,c=new QS,f=new ia,u=new eE,v=new lE,w=new JS,a=new oa,j=new iE,N=new aE;n.setModules(r,i,l,d,c,f,u,v,N),i.setModules(r,N,u,f),v.setModules(i,u),l.setModules(n),c.setModules(i,w,d,a),d.setModules(a,w,n.enc.psy),w.setModules(i),a.setModules(d),f.setModules(n,i,u),o.setModules(j,N),j.setModules(u,v,l);var P=n.lame_init();P.num_channels=e,P.in_samplerate=t,P.brate=s,P.mode=St.STEREO,P.quality=3,P.bWriteVbrTag=!1,P.disable_reservoir=!0,P.write_id3tag_automatic=!1,n.lame_init_params(P);var g=1152,I=0|1.25*g+7200,F=K0(I);this.encodeBuffer=function(O,q){e==1&&(q=O),rE(O.length==q.length),O.length>g&&(g=O.length,I=0|1.25*g+7200,F=K0(I));var _=n.lame_encode_buffer(P,O,q,O.length,F,0,I);return new Int8Array(F.subarray(0,_))},this.flush=function(){var O=n.lame_encode_flush(P,F,0,I);return new Int8Array(F.subarray(0,O))}}function dc(e){return e.charCodeAt(0)<<24|e.charCodeAt(1)<<16|e.charCodeAt(2)<<8|e.charCodeAt(3)}dc("RIFF");dc("WAVE");dc("fmt ");dc("data");class uE{constructor(t){this.bitRate=t.bitRate,this.sampleRate=t.sampleRate,this.dataBuffer=[],this.encoder=new cE(1,this.sampleRate,this.bitRate)}encode(t){const n=this._convertBuffer(t);let o=n.length;for(let r=0;o>=0;r+=1152){const i=n.subarray(r,r+1152),l=this.encoder.encodeBuffer(i);this.dataBuffer.push(new Int8Array(l)),o-=1152}}finish(){this.dataBuffer.push(this.encoder.flush());const t=new Blob(this.dataBuffer,{type:"audio/mp3"});return this.dataBuffer=[],{id:Date.now(),blob:t,url:URL.createObjectURL(t)}}_floatTo16BitPCM(t,s){for(let n=0;n<t.length;n++){const o=Math.max(-1,Math.min(1,t[n]));s[n]=o<0?o*32768:o*32767}}_convertBuffer(t){const s=new Float32Array(t),n=new Int16Array(t.length);return this._floatTo16BitPCM(s,n),n}}class dE{constructor(t={}){this.beforeRecording=t.beforeRecording,this.pauseRecording=t.pauseRecording,this.afterRecording=t.afterRecording,this.micFailed=t.micFailed,this.encoderOptions={bitRate:t.bitRate,sampleRate:t.sampleRate},this.bufferSize=4096,this.records=[],this.isPause=!1,this.isRecording=!1,this.duration=0,this.volume=0,this._duration=0}start(){const t={video:!1,audio:{channelCount:1,echoCancellation:!1}};this.beforeRecording&&this.beforeRecording("start recording"),navigator.mediaDevices.getUserMedia(t).then(this._micCaptured.bind(this)).catch(this._micError.bind(this)),this.isPause=!1,this.isRecording=!0,this.lameEncoder||(this.lameEncoder=new uE(this.encoderOptions))}stop(){this.stream.getTracks().forEach(s=>s.stop()),this.input.disconnect(),this.processor.disconnect(),this.context.close();let t=null;t=this.lameEncoder.finish(),t.duration=this.duration,this.records.push(t),this._duration=0,this.duration=0,this.isPause=!1,this.isRecording=!1,this.afterRecording&&this.afterRecording(t)}pause(){this.stream.getTracks().forEach(t=>t.stop()),this.input.disconnect(),this.processor.disconnect(),this._duration=this.duration,this.isPause=!0,this.pauseRecording&&this.pauseRecording("pause recording")}_micCaptured(t){this.context=new(window.AudioContext||window.webkitAudioContext),this.duration=this._duration,this.input=this.context.createMediaStreamSource(t),this.processor=this.context.createScriptProcessor(this.bufferSize,1,1),this.stream=t,this.processor.onaudioprocess=s=>{const n=s.inputBuffer.getChannelData(0);let o=0;this.lameEncoder&&this.lameEncoder.encode(n);for(let r=0;r<n.length;++r)o+=n[r]*n[r];this.duration=parseFloat(this._duration)+parseFloat(this.context.currentTime.toFixed(2)),this.volume=Math.sqrt(o/n.length).toFixed(2)},this.input.connect(this.processor),this.processor.connect(this.context.destination)}_micError(t){this.micFailed&&this.micFailed(t)}}function Y0(){var e=fE(),t=e.substr(0,4);return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw(n|u)|c55\/|capi|ccwa|cdm|cell|chtm|cldc|cmd|co(mp|nd)|craw|da(it|ll|ng)|dbte|dcs|devi|dica|dmob|do(c|p)o|ds(12|d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(|_)|g1 u|g560|gene|gf5|gmo|go(\.w|od)|gr(ad|un)|haie|hcit|hd(m|p|t)|hei|hi(pt|ta)|hp( i|ip)|hsc|ht(c(| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i(20|go|ma)|i230|iac( ||\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|[a-w])|libw|lynx|m1w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|mcr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|([1-8]|c))|phil|pire|pl(ay|uc)|pn2|po(ck|rt|se)|prox|psio|ptg|qaa|qc(07|12|21|32|60|[2-7]|i)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h|oo|p)|sdk\/|se(c(|0|1)|47|mc|nd|ri)|sgh|shar|sie(|m)|sk0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h|v|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl|tdg|tel(i|m)|tim|tmo|to(pl|sh)|ts(70|m|m3|m5)|tx9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas|your|zeto|zte/i.test(t)}function fE(){var e=navigator.userAgent||navigator.vendor||window.opera||null;if(!e)throw new Error("Failed to look for user agent information.");return e}const hE={name:"RoomFooter",components:{SvgIcon:is,EmojiPickerContainer:yv,RoomFiles:Mw,RoomMessageReply:Xw,RoomUsersTag:eS,RoomEmojis:rS,RoomTemplatesText:dS},directives:{clickOutside:lc},props:{room:{type:Object,required:!0},roomId:{type:[String,Number],required:!0},roomMessage:{type:String,default:null},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},textMessages:{type:Object,required:!0},showSendIcon:{type:Boolean,required:!0},showFiles:{type:Boolean,required:!0},showAudio:{type:Boolean,required:!0},showEmojis:{type:Boolean,required:!0},showFooter:{type:Boolean,required:!0},acceptedFiles:{type:String,required:!0},textareaActionEnabled:{type:Boolean,required:!0},textareaAutoFocus:{type:Boolean,required:!0},userTagsEnabled:{type:Boolean,required:!0},emojisSuggestionEnabled:{type:Boolean,required:!0},templatesText:{type:Array,default:null},audioBitRate:{type:Number,required:!0},audioSampleRate:{type:Number,required:!0},initReplyMessage:{type:Object,default:null},initEditMessage:{type:Object,default:null}},emits:["edit-message","send-message","update-edited-message-id","textarea-action-handler","typing-message"],data(){return{message:"",editedMessage:{},messageReply:null,cursorRangePosition:null,files:[],fileDialog:!1,selectUsersTagItem:null,selectEmojiItem:null,selectTemplatesTextItem:null,format:"mp3",activeUpOrDownEmojis:null,activeUpOrDownUsersTag:null,activeUpOrDownTemplatesText:null,emojisDB:new av,emojiOpened:!1,keepKeyboardOpen:!1,filteredEmojis:[],filteredUsersTag:[],selectedUsersTag:[],filteredTemplatesText:[],recorder:this.initRecorder(),isRecording:!1}},computed:{isMessageEmpty(){return!this.files.length&&!this.message.trim()},isFileLoading(){return this.files.some(e=>e.loading)},recordedTime(){return new Date(this.recorder.duration*1e3).toISOString().substr(14,5)},shadowFooter(){return!!this.filteredEmojis.length||!!this.filteredUsersTag.length||!!this.filteredTemplatesText.length||!!this.files.length||!!this.messageReply}},watch:{roomId(){this.resetMessage(!0,!0),this.roomMessage&&(this.message=this.roomMessage,setTimeout(()=>this.onChangeInput()))},message(e){this.getTextareaRef().value=e},roomMessage:{immediate:!0,handler(e){e&&(this.message=this.roomMessage)}},editedMessage(e){this.$emit("update-edited-message-id",e._id)},initReplyMessage(e){this.replyMessage(e)},initEditMessage(e){this.editMessage(e)}},mounted(){const e=Y0();let t=!0;this.getTextareaRef().addEventListener("keyup",s=>{s.key==="Enter"&&!s.shiftKey&&!this.fileDialog&&(e?(this.message=this.message+`
`,setTimeout(()=>this.onChangeInput())):t&&!this.filteredEmojis.length&&!this.filteredUsersTag.length&&!this.filteredTemplatesText.length&&this.sendMessage()),t=!s.isComposing,setTimeout(()=>{this.updateFooterLists()},60)}),this.getTextareaRef().addEventListener("click",()=>{e&&(this.keepKeyboardOpen=!0),this.updateFooterLists()}),this.getTextareaRef().addEventListener("blur",()=>{setTimeout(()=>{this.resetFooterList()},100),e&&setTimeout(()=>this.keepKeyboardOpen=!1)})},beforeUnmount(){this.stopRecorder()},methods:{getTextareaRef(){return this.$refs.roomTextarea},focusTextarea(e){Y0()&&e||!this.getTextareaRef()||(this.getTextareaRef().focus(),this.cursorRangePosition&&setTimeout(()=>{this.getTextareaRef().setSelectionRange(this.cursorRangePosition,this.cursorRangePosition),this.cursorRangePosition=null}))},onChangeInput(){var e,t,s;(((e=this.getTextareaRef())==null?void 0:e.value)||((t=this.getTextareaRef())==null?void 0:t.value)==="")&&(this.message=(s=this.getTextareaRef())==null?void 0:s.value),this.keepKeyboardOpen=!0,this.resizeTextarea(),this.$emit("typing-message",this.message)},resizeTextarea(){const e=this.getTextareaRef();if(!e)return;const t=window.getComputedStyle(e,null).getPropertyValue("padding-top").replace("px","");e.style.height=0,e.style.height=e.scrollHeight-t*2+"px"},escapeTextarea(){this.filteredEmojis.length?this.filteredEmojis=[]:this.filteredUsersTag.length?this.filteredUsersTag=[]:this.filteredTemplatesText.length?this.filteredTemplatesText=[]:this.resetMessage()},onPasteImage(e){var t;const s=(t=e.clipboardData)==null?void 0:t.items;s&&Array.from(s).forEach(n=>{if(n.type.includes("image")){const o=n.getAsFile();this.onFileChange([o])}})},updateActiveUpOrDown(e){this.filteredEmojis.length?this.activeUpOrDownEmojis=e:this.filteredUsersTag.length?this.activeUpOrDownUsersTag=e:this.filteredTemplatesText.length&&(this.activeUpOrDownTemplatesText=e)},selectItem(){this.filteredEmojis.length?this.selectEmojiItem=!0:this.filteredUsersTag.length?this.selectUsersTagItem=!0:this.filteredTemplatesText.length&&(this.selectTemplatesTextItem=!0)},selectEmoji(e){if(this.selectEmojiItem=!1,!e)return;const{position:t,endPosition:s}=this.getCharPosition(":");this.message=this.message.substr(0,t-1)+e+this.message.substr(s,this.message.length-1),this.cursorRangePosition=t,this.focusTextarea()},selectTemplateText(e){if(this.selectTemplatesTextItem=!1,!e)return;const{position:t,endPosition:s}=this.getCharPosition("/"),n=this.message.substr(s,s).length?"":" ";this.message=this.message.substr(0,t-1)+e.text+n+this.message.substr(s,this.message.length-1),this.cursorRangePosition=t+e.text.length+n.length+1,this.focusTextarea()},addEmoji(e){this.message+=e.unicode,this.focusTextarea(!0)},launchFilePicker(){this.$refs.file.value="",this.$refs.file.click()},async onFileChange(e){this.fileDialog=!0,this.focusTextarea(),Array.from(e).forEach(async t=>{const s=URL.createObjectURL(t),n=t.name.lastIndexOf(".");this.files.push({loading:!0,name:t.name.substring(0,n),size:t.size,type:t.type,extension:t.name.substring(n+1),localUrl:s});const o=await fetch(s).then(i=>i.blob());let r=this.files.find(i=>i.localUrl===s);r&&(r.blob=o,r.loading=!1,delete r.loading)}),setTimeout(()=>this.fileDialog=!1,500)},removeFile(e){this.files.splice(e,1),this.focusTextarea()},toggleRecorder(e){if(this.isRecording=e,!this.recorder.isRecording)setTimeout(()=>this.recorder.start(),200);else try{this.recorder.stop();const t=this.recorder.records[0];this.files.push({blob:t.blob,name:`audio.${this.format}`,size:t.blob.size,duration:t.duration,type:t.blob.type,audio:!0,localUrl:URL.createObjectURL(t.blob)}),this.recorder=this.initRecorder(),this.sendMessage()}catch{setTimeout(()=>this.stopRecorder(),100)}},stopRecorder(){if(this.recorder.isRecording)try{this.recorder.stop(),this.recorder=this.initRecorder()}catch{setTimeout(()=>this.stopRecorder(),100)}},textareaActionHandler(){this.$emit("textarea-action-handler",this.message)},sendMessage(){var e;let t=this.message.trim();if(!this.files.length&&!t||this.isFileLoading)return;this.selectedUsersTag.forEach(n=>{t=t.replace(`@${n.username}`,`<usertag>${n._id}</usertag>`)});const s=this.files.length?this.files:null;this.editedMessage._id?(this.editedMessage.content!==t||((e=this.editedMessage.files)==null?void 0:e.length)||this.files.length)&&this.$emit("edit-message",{messageId:this.editedMessage._id,newContent:t,files:s,replyMessage:this.messageReply,usersTag:this.selectedUsersTag}):this.$emit("send-message",{content:t,files:s,replyMessage:this.messageReply,usersTag:this.selectedUsersTag}),this.resetMessage(!0)},editMessage(e){this.resetMessage(),this.editedMessage={...e};let t=e.content;const s=t,n="<usertag>",o="</usertag>";[...t.matchAll(new RegExp(n,"gi"))].map(i=>i.index).forEach(i=>{const l=s.substring(i+n.length,s.indexOf(o,i)),d=this.room.users.find(c=>c._id===l);t=t.replace(`${n}${l}${o}`,`@${(d==null?void 0:d.username)||"unknown"}`),this.selectUserTag(d,!0)}),this.message=t,e.files&&(this.files=[...e.files]),setTimeout(()=>this.resizeTextarea())},replyMessage(e){this.editedMessage={},this.messageReply=e,this.focusTextarea()},updateFooterLists(){this.updateFooterList("@"),this.updateFooterList(":"),this.updateFooterList("/")},updateFooterList(e){if(!this.getTextareaRef()||e===":"&&!this.emojisSuggestionEnabled||e==="@"&&(!this.userTagsEnabled||!this.room.users)||e==="/"&&!this.templatesText)return;const t=this.getTextareaRef().selectionStart;let s=t;for(;s>0&&this.message.charAt(s-1)!==e&&(this.message.charAt(s-1)!==" "||e!==":");)s--;const n=this.message.charAt(s-2),o=!n.match(/^[0-9a-zA-Z]+$/);if(this.message.charAt(s-1)===e&&(!n||n===" "||o)){const r=this.message.substring(s,t);e===":"?this.updateEmojis(r):e==="@"?this.updateShowUsersTag(r):e==="/"&&this.updateShowTemplatesText(r)}else this.resetFooterList(e)},updateShowUsersTag(e){this.filteredUsersTag=Du(this.room.users,"username",e,!0).filter(t=>t._id!==this.currentUserId)},selectUserTag(e,t=!1){if(this.selectUsersTagItem=!1,!e)return;const{position:s,endPosition:n}=this.getCharPosition("@"),o=this.message.substr(n,n).length?"":" ";this.message=this.message.substr(0,s)+e.username+o+this.message.substr(n,this.message.length-1),this.selectedUsersTag=[...this.selectedUsersTag,{...e}],t||(this.cursorRangePosition=s+e.username.length+o.length+1),this.focusTextarea()},updateShowTemplatesText(e){this.filteredTemplatesText=Du(this.templatesText,"tag",e,!0)},getCharPosition(e){let s=this.getTextareaRef().selectionStart;for(;s>0&&this.message.charAt(s-1)!==e;)s--;const n=this.getTextareaRef().selectionEnd;return{position:s,endPosition:n}},async updateEmojis(e){if(!e)return;const t=await this.emojisDB.getEmojiBySearchQuery(e);this.filteredEmojis=t.map(s=>s.unicode)},resetFooterList(e=null){e===":"?this.filteredEmojis=[]:e==="@"?this.filteredUsersTag=[]:e==="/"?this.filteredTemplatesText=[]:(this.filteredEmojis=[],this.filteredUsersTag=[],this.filteredTemplatesText=[])},resetMessage(e=!1,t=!1){t||this.$emit("typing-message",null),this.selectedUsersTag=[],this.resetFooterList(),this.resetTextareaSize(),this.message="",this.editedMessage={},this.messageReply=null,this.files=[],this.emojiOpened=!1,this.preventKeyboardFromClosing(),(this.textareaAutoFocus||!t)&&setTimeout(()=>this.focusTextarea(e))},resetTextareaSize(){this.getTextareaRef()&&(this.getTextareaRef().style.height="20px")},preventKeyboardFromClosing(){this.keepKeyboardOpen&&this.getTextareaRef().focus()},initRecorder(){return this.isRecording=!1,new dE({bitRate:Number(this.audioBitRate),sampleRate:Number(this.audioSampleRate),beforeRecording:null,afterRecording:null,pauseRecording:null,micFailed:this.micFailed})},micFailed(){this.isRecording=!1,this.recorder=this.initRecorder()}}},mE={key:0,class:"vac-icon-textarea-left"},pE=je("div",{class:"vac-dot-audio-record"},null,-1),vE={class:"vac-dot-audio-record-time"},gE=["placeholder"],_E={class:"vac-icon-textarea"},bE={key:1},yE=["accept"];function wE(e,t,s,n,o,r){const i=st("room-emojis"),l=st("room-users-tag"),d=st("room-templates-text"),c=st("room-message-reply"),f=st("room-files"),u=st("svg-icon"),v=st("emoji-picker-container"),w=Wl("click-outside");return Dn((pe(),xe("div",{id:"room-footer",class:ft(["vac-room-footer",{"vac-app-box-shadow":r.shadowFooter}])},[$e(i,{"filtered-emojis":o.filteredEmojis,"select-item":o.selectEmojiItem,"active-up-or-down":o.activeUpOrDownEmojis,onSelectEmoji:t[0]||(t[0]=a=>r.selectEmoji(a)),onActivateItem:t[1]||(t[1]=a=>o.activeUpOrDownEmojis=0)},null,8,["filtered-emojis","select-item","active-up-or-down"]),$e(l,{"filtered-users-tag":o.filteredUsersTag,"select-item":o.selectUsersTagItem,"active-up-or-down":o.activeUpOrDownUsersTag,onSelectUserTag:t[2]||(t[2]=a=>r.selectUserTag(a)),onActivateItem:t[3]||(t[3]=a=>o.activeUpOrDownUsersTag=0)},null,8,["filtered-users-tag","select-item","active-up-or-down"]),$e(d,{"filtered-templates-text":o.filteredTemplatesText,"select-item":o.selectTemplatesTextItem,"active-up-or-down":o.activeUpOrDownTemplatesText,onSelectTemplateText:t[4]||(t[4]=a=>r.selectTemplateText(a)),onActivateItem:t[5]||(t[5]=a=>o.activeUpOrDownTemplatesText=0)},null,8,["filtered-templates-text","select-item","active-up-or-down"]),$e(c,{room:s.room,"message-reply":o.messageReply,"text-formatting":s.textFormatting,"link-options":s.linkOptions,onResetMessage:r.resetMessage},Lt({_:2},[ut(e.$slots,(a,j)=>({name:j,fn:tt(N=>[ze(e.$slots,j,Bt(Tt(N)))])}))]),1032,["room","message-reply","text-formatting","link-options","onResetMessage"]),$e(f,{files:o.files,onRemoveFile:r.removeFile,onResetMessage:r.resetMessage},Lt({_:2},[ut(e.$slots,(a,j)=>({name:j,fn:tt(N=>[ze(e.$slots,j,Bt(Tt(N)))])}))]),1032,["files","onRemoveFile","onResetMessage"]),je("div",{class:ft(["vac-box-footer",{"vac-box-footer-border":!o.files.length}])},[s.showAudio&&!o.files.length?(pe(),xe("div",mE,[o.isRecording?(pe(),xe(wt,{key:0},[je("div",{class:"vac-svg-button vac-icon-audio-stop",onClick:t[6]||(t[6]=(...a)=>r.stopRecorder&&r.stopRecorder(...a))},[ze(e.$slots,"audio-stop-icon",{},()=>[$e(u,{name:"close-outline"})])]),pE,je("div",vE,at(r.recordedTime),1),je("div",{class:"vac-svg-button vac-icon-audio-confirm",onClick:t[7]||(t[7]=a=>r.toggleRecorder(!1))},[ze(e.$slots,"audio-check-icon",{},()=>[$e(u,{name:"checkmark"})])])],64)):(pe(),xe("div",{key:1,class:"vac-svg-button",onClick:t[8]||(t[8]=a=>r.toggleRecorder(!0))},[ze(e.$slots,"microphone-icon",{},()=>[$e(u,{name:"microphone",class:"vac-icon-microphone"})])]))])):Ye("",!0),je("textarea",{id:"roomTextarea",ref:"roomTextarea",placeholder:s.textMessages.TYPE_MESSAGE,class:ft(["vac-textarea",{"vac-textarea-outline":o.editedMessage._id}]),style:{"min-height":"20px","padding-left":"12px"},onInput:t[9]||(t[9]=(...a)=>r.onChangeInput&&r.onChangeInput(...a)),onKeydown:[t[10]||(t[10]=In((...a)=>r.escapeTextarea&&r.escapeTextarea(...a),["esc"])),t[11]||(t[11]=In(ur((...a)=>r.selectItem&&r.selectItem(...a),["exact","prevent"]),["enter"])),t[13]||(t[13]=In(ur(()=>{},["exact","prevent"]),["tab"])),t[14]||(t[14]=In((...a)=>r.selectItem&&r.selectItem(...a),["tab"])),t[15]||(t[15]=In(ur(()=>{},["exact","prevent"]),["up"])),t[16]||(t[16]=In(a=>r.updateActiveUpOrDown(-1),["up"])),t[17]||(t[17]=In(ur(()=>{},["exact","prevent"]),["down"])),t[18]||(t[18]=In(a=>r.updateActiveUpOrDown(1),["down"]))],onPaste:t[12]||(t[12]=(...a)=>r.onPasteImage&&r.onPasteImage(...a))},null,42,gE),je("div",_E,[o.editedMessage._id?(pe(),xe("div",{key:0,class:"vac-svg-button",onClick:t[19]||(t[19]=(...a)=>r.resetMessage&&r.resetMessage(...a))},[ze(e.$slots,"edit-close-icon",{},()=>[$e(u,{name:"close-outline"})])])):Ye("",!0),s.showEmojis?Dn((pe(),xe("div",bE,[ze(e.$slots,"emoji-picker",Ud({emojiOpened:o.emojiOpened},{addEmoji:r.addEmoji}),()=>[$e(v,{"emoji-opened":o.emojiOpened,"position-top":!0,onAddEmoji:r.addEmoji,onOpenEmoji:t[20]||(t[20]=a=>o.emojiOpened=a)},{"emoji-picker-icon":tt(()=>[ze(e.$slots,"emoji-picker-icon")]),_:3},8,["emoji-opened","onAddEmoji"])])])),[[w,()=>o.emojiOpened=!1]]):Ye("",!0),s.showFiles?(pe(),xe("div",{key:2,class:"vac-svg-button",onClick:t[21]||(t[21]=(...a)=>r.launchFilePicker&&r.launchFilePicker(...a))},[ze(e.$slots,"paperclip-icon",{},()=>[$e(u,{name:"paperclip"})])])):Ye("",!0),s.textareaActionEnabled?(pe(),xe("div",{key:3,class:"vac-svg-button",onClick:t[22]||(t[22]=(...a)=>r.textareaActionHandler&&r.textareaActionHandler(...a))},[ze(e.$slots,"custom-action-icon",{},()=>[$e(u,{name:"deleted"})])])):Ye("",!0),s.showFiles?(pe(),xe("input",{key:4,ref:"file",type:"file",multiple:"",accept:s.acceptedFiles,style:{display:"none"},onChange:t[23]||(t[23]=a=>r.onFileChange(a.target.files))},null,40,yE)):Ye("",!0),s.showSendIcon?(pe(),xe("div",{key:5,class:ft(["vac-svg-button",{"vac-send-disabled":r.isMessageEmpty}]),onClick:t[24]||(t[24]=(...a)=>r.sendMessage&&r.sendMessage(...a))},[ze(e.$slots,"send-icon",{},()=>[$e(u,{name:"send",param:r.isMessageEmpty||r.isFileLoading?"disabled":""},null,8,["param"])])],2)):Ye("",!0)])],2)],2)),[[Ql,Object.keys(s.room).length&&s.showFooter]])}var SE=Ut(hE,[["render",wE]]);const EE={name:"MessageReply",components:{AudioPlayer:o1,SvgIcon:is,FormatMessage:ga},props:{message:{type:Object,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},roomUsers:{type:Array,required:!0}},computed:{replyUsername(){const{senderId:e}=this.message.replyMessage,t=this.roomUsers.find(s=>s._id===e);return t?t.username:""},firstFile(){var e,t;return(t=(e=this.message.replyMessage)==null?void 0:e.files)!=null&&t.length?this.message.replyMessage.files[0]:{}},isAudio(){return cc(this.firstFile)},isImage(){return $o(this.firstFile)},isVideo(){return _a(this.firstFile)},isOtherFile(){var e;return((e=this.message.replyMessage.files)==null?void 0:e.length)&&!this.isAudio&&!this.isVideo&&!this.isImage}}},AE={class:"vac-reply-message"},ME={class:"vac-reply-username"},xE={key:0,class:"vac-image-reply-container"},RE={key:1,class:"vac-video-reply-container"},TE={controls:""},kE=["src"],CE={key:3,class:"vac-file-container"},OE={class:"vac-text-ellipsis"},IE={key:0,class:"vac-text-ellipsis vac-text-extension"},BE={class:"vac-reply-content"};function LE(e,t,s,n,o,r){const i=st("audio-player"),l=st("svg-icon"),d=st("format-message");return pe(),xe("div",AE,[je("div",ME,at(r.replyUsername),1),r.isImage?(pe(),xe("div",xE,[je("div",{class:"vac-message-image vac-message-image-reply",style:At({"background-image":`url('${r.firstFile.url}')`})},null,4)])):r.isVideo?(pe(),xe("div",RE,[je("video",TE,[je("source",{src:r.firstFile.url},null,8,kE)])])):r.isAudio?(pe(),kt(i,{key:2,src:r.firstFile.url,"message-selection-enabled":!1,onUpdateProgressTime:t[0]||(t[0]=c=>e.progressTime=c),onHoverAudioProgress:t[1]||(t[1]=c=>e.hoverAudioProgress=c)},Lt({_:2},[ut(e.$slots,(c,f)=>({name:f,fn:tt(u=>[ze(e.$slots,f,Bt(Tt(u)))])}))]),1032,["src"])):r.isOtherFile?(pe(),xe("div",CE,[je("div",null,[ze(e.$slots,"file-icon",{},()=>[$e(l,{name:"file"})])]),je("div",OE,at(r.firstFile.name),1),r.firstFile.extension?(pe(),xe("div",IE,at(r.firstFile.extension),1)):Ye("",!0)])):Ye("",!0),je("div",BE,[$e(d,{"message-id":s.message.replyMessage._id,content:s.message.replyMessage.content,users:s.roomUsers,"text-formatting":s.textFormatting,"link-options":s.linkOptions,reply:!0},null,8,["message-id","content","users","text-formatting","link-options"])])])}var PE=Ut(EE,[["render",LE]]);const NE={name:"ProgressBar",props:{progress:{type:Number,default:0}},data(){const n=54*Math.PI;return{radius:35,stroke:4,normalizedRadius:27,circumference:n}},computed:{strokeDashoffset(){return this.circumference-this.progress/100*this.circumference}}},jE={ref:"progress",class:"vac-progress-wrapper"},FE=["height","width"],HE=["stroke-dasharray","stroke-width","r","cx","cy"],UE={class:"vac-progress-text"},DE=je("span",{class:"vac-progress-pourcent"},"%",-1);function qE(e,t,s,n,o,r){return pe(),kt(Wt,{name:"vac-fade-spinner",appear:""},{default:tt(()=>[je("div",jE,[(pe(),xe("svg",{height:o.radius*2,width:o.radius*2},[je("circle",{stroke:"rgba(255, 255, 255, 0.7)","stroke-dasharray":o.circumference+" "+o.circumference,style:At({strokeDashoffset:r.strokeDashoffset,strokeLinecap:"round"}),"stroke-width":o.stroke,fill:"transparent",r:o.normalizedRadius,cx:o.radius,cy:o.radius},null,12,HE)],8,FE)),je("div",{class:"vac-progress-content",style:At({height:o.radius*2-19+"px",width:o.radius*2-19+"px"})},[je("div",UE,[Sr(at(s.progress),1),DE])],4)],512)]),_:1})}var Ov=Ut(NE,[["render",qE]]);const VE={name:"MessageFile",components:{SvgIcon:is,Loader:Jl,ProgressBar:Ov},props:{currentUserId:{type:[String,Number],required:!0},message:{type:Object,required:!0},file:{type:Object,required:!0},index:{type:Number,required:!0},messageSelectionEnabled:{type:Boolean,required:!0}},emits:["open-file"],data(){return{imageResponsive:"",imageLoading:!1,imageHover:!1}},computed:{isImageLoading(){return this.file.url.indexOf("blob:http")!==-1||this.imageLoading},isImage(){return $o(this.file)},isVideo(){return _a(this.file)}},watch:{file:{immediate:!0,handler(){this.checkImgLoad()}}},mounted(){const e=this.$refs["imageRef"+this.index];e&&(this.imageResponsive={maxHeight:e.clientWidth-18,loaderTop:e.clientHeight/2-9})},methods:{checkImgLoad(){if(!$o(this.file))return;this.imageLoading=!0;const e=new Image;e.src=this.file.url,e.addEventListener("load",()=>this.imageLoading=!1)},openFile(e,t){this.messageSelectionEnabled||(e.stopPropagation(),this.$emit("open-file",{file:this.file,action:t}))}}},$E={class:"vac-message-file-container"},zE={key:0,class:"vac-image-buttons"},KE={controls:""},YE=["src"];function XE(e,t,s,n,o,r){const i=st("progress-bar"),l=st("loader"),d=st("svg-icon");return pe(),xe("div",$E,[r.isImage?(pe(),xe("div",{key:0,ref:"imageRef"+s.index,class:"vac-message-image-container",onMouseover:t[2]||(t[2]=c=>o.imageHover=!0),onMouseleave:t[3]||(t[3]=c=>o.imageHover=!1),onClick:t[4]||(t[4]=c=>r.openFile(c,"preview"))},[s.file.progress>=0?(pe(),kt(i,{key:0,progress:s.file.progress,style:At({top:`${o.imageResponsive.loaderTop}px`})},null,8,["progress","style"])):(pe(),kt(l,{key:1,show:r.isImageLoading,type:"message-file","message-id":s.message._id,style:At({top:`${o.imageResponsive.loaderTop}px`})},Lt({_:2},[ut(e.$slots,(c,f)=>({name:f,fn:tt(u=>[ze(e.$slots,f,Bt(Tt(u)))])}))]),1032,["show","message-id","style"])),je("div",{class:ft(["vac-message-image",{"vac-blur-loading":r.isImageLoading&&s.message.senderId===s.currentUserId}]),style:At({"background-image":`url('${r.isImageLoading&&s.file.preview||s.file.url}')`,"max-height":`${o.imageResponsive.maxHeight}px`})},[$e(Wt,{name:"vac-fade-image"},{default:tt(()=>[!s.messageSelectionEnabled&&o.imageHover&&!r.isImageLoading?(pe(),xe("div",zE,[je("div",{class:"vac-svg-button vac-button-view",onClick:t[0]||(t[0]=c=>r.openFile(c,"preview"))},[ze(e.$slots,"eye-icon_"+s.message._id,{},()=>[$e(d,{name:"eye"})])]),je("div",{class:"vac-svg-button vac-button-download",onClick:t[1]||(t[1]=c=>r.openFile(c,"download"))},[ze(e.$slots,"document-icon_"+s.message._id,{},()=>[$e(d,{name:"document"})])])])):Ye("",!0)]),_:3})],6)],544)):r.isVideo?(pe(),xe("div",{key:1,class:"vac-video-container",onClick:t[5]||(t[5]=ur(c=>r.openFile(c,"preview"),["prevent"]))},[s.file.progress>=0?(pe(),kt(i,{key:0,progress:s.file.progress},null,8,["progress"])):Ye("",!0),je("video",KE,[je("source",{src:s.file.url},null,8,YE)])])):Ye("",!0)])}var WE=Ut(VE,[["render",XE]]);const GE={name:"MessageFiles",components:{SvgIcon:is,FormatMessage:ga,ProgressBar:Ov,MessageFile:WE},props:{currentUserId:{type:[String,Number],required:!0},message:{type:Object,required:!0},roomUsers:{type:Array,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},messageSelectionEnabled:{type:Boolean,required:!0}},emits:["open-file","open-user-tag"],computed:{imageVideoFiles(){return this.message.files.filter(e=>c0(e))},otherFiles(){return this.message.files.filter(e=>!c0(e))}},methods:{openFile(e,t,s){this.messageSelectionEnabled||(e.stopPropagation(),this.$emit("open-file",{file:t,action:s}))}}},ZE={class:"vac-message-files-container"},QE=["onClick"],JE={class:"vac-svg-button"},eA={class:"vac-text-ellipsis"},tA={key:0,class:"vac-text-ellipsis vac-text-extension"};function sA(e,t,s,n,o,r){const i=st("message-file"),l=st("progress-bar"),d=st("svg-icon"),c=st("format-message");return pe(),xe("div",ZE,[(pe(!0),xe(wt,null,ut(r.imageVideoFiles,(f,u)=>(pe(),xe("div",{key:u+"iv"},[$e(i,{file:f,"current-user-id":s.currentUserId,message:s.message,index:u,"message-selection-enabled":s.messageSelectionEnabled,onOpenFile:t[0]||(t[0]=v=>e.$emit("open-file",v))},Lt({_:2},[ut(e.$slots,(v,w)=>({name:w,fn:tt(a=>[ze(e.$slots,w,Bt(Tt(a)))])}))]),1032,["file","current-user-id","message","index","message-selection-enabled"])]))),128)),(pe(!0),xe(wt,null,ut(r.otherFiles,(f,u)=>(pe(),xe("div",{key:u+"a",class:"vac-file-wrapper"},[f.progress>=0?(pe(),kt(l,{key:0,progress:f.progress,style:{top:"44px"}},null,8,["progress"])):Ye("",!0),je("div",{class:ft(["vac-file-container",{"vac-file-container-progress":f.progress>=0}]),onClick:v=>r.openFile(v,f,"download")},[je("div",JE,[ze(e.$slots,"document-icon",{},()=>[$e(d,{name:"document"})])]),je("div",eA,at(f.name),1),f.extension?(pe(),xe("div",tA,at(f.extension),1)):Ye("",!0)],10,QE)]))),128)),$e(c,{"message-id":s.message._id,content:s.message.content,users:s.roomUsers,"text-formatting":s.textFormatting,"link-options":s.linkOptions,onOpenUserTag:t[1]||(t[1]=f=>e.$emit("open-user-tag",f))},null,8,["message-id","content","users","text-formatting","link-options"])])}var nA=Ut(GE,[["render",sA]]);const rA={name:"MessageActions",components:{SvgIcon:is,EmojiPickerContainer:yv},directives:{clickOutside:lc},props:{currentUserId:{type:[String,Number],required:!0},message:{type:Object,required:!0},messageActions:{type:Array,required:!0},showReactionEmojis:{type:Boolean,required:!0},messageHover:{type:Boolean,required:!0},hoverMessageId:{type:[String,Number],default:null},hoverAudioProgress:{type:Boolean,required:!0}},emits:["update-emoji-opened","update-options-opened","update-message-hover","message-action-handler","send-message-reaction"],data(){return{menuOptionsTop:0,optionsOpened:!1,optionsClosing:!1,emojiOpened:!1}},computed:{isMessageActions(){return this.filteredMessageActions.length&&this.messageHover&&!this.message.deleted&&!this.message.disableActions&&!this.hoverAudioProgress},isMessageReactions(){return this.showReactionEmojis&&this.messageHover&&!this.message.deleted&&!this.message.disableReactions&&!this.hoverAudioProgress},filteredMessageActions(){return this.message.senderId===this.currentUserId?this.messageActions:this.messageActions.filter(e=>!e.onlyMe)}},watch:{emojiOpened(e){this.$emit("update-emoji-opened",e),e&&(this.optionsOpened=!1)},optionsOpened(e){this.$emit("update-options-opened",e)}},methods:{openOptions(){this.optionsClosing||(this.optionsOpened=!this.optionsOpened,this.optionsOpened&&setTimeout(()=>{const e=document.querySelector("vue-advanced-chat").shadowRoot.getElementById("room-footer");if(!e||!this.$refs.menuOptions||!this.$refs.actionIcon)return;const t=this.$refs.menuOptions.getBoundingClientRect().height,s=this.$refs.actionIcon.getBoundingClientRect().top;e.getBoundingClientRect().top-s>t+50?this.menuOptionsTop=30:this.menuOptionsTop=-t}))},closeOptions(){this.optionsOpened=!1,this.optionsClosing=!0,this.updateMessageHover(),setTimeout(()=>this.optionsClosing=!1,100)},openEmoji(){this.emojiOpened=!this.emojiOpened},closeEmoji(){this.emojiOpened=!1,this.updateMessageHover()},updateMessageHover(){this.hoverMessageId!==this.message._id&&this.$emit("update-message-hover",!1)},messageActionHandler(e){this.closeOptions(),this.$emit("message-action-handler",e)},sendMessageReaction(e,t){this.$emit("send-message-reaction",{emoji:e,reaction:t}),this.closeEmoji()}}},oA={class:"vac-message-actions-wrapper"},iA={key:"3"},aA={class:"vac-menu-list"},lA=["onClick"];function cA(e,t,s,n,o,r){const i=st("svg-icon"),l=st("emoji-picker-container"),d=Wl("click-outside");return pe(),xe("div",oA,[je("div",{class:"vac-options-container",style:At({display:s.hoverAudioProgress?"none":"initial",width:r.filteredMessageActions.length&&s.showReactionEmojis?"70px":"45px"})},[$e(Vd,{name:"vac-slide-left",tag:"span"},{default:tt(()=>[r.isMessageActions||r.isMessageReactions?(pe(),xe("div",{key:"1",class:ft(["vac-blur-container",{"vac-options-me":s.message.senderId===s.currentUserId}])},null,2)):Ye("",!0),r.isMessageActions?(pe(),xe("div",{ref:"actionIcon",key:"2",class:"vac-svg-button vac-message-options",onClick:t[0]||(t[0]=(...c)=>r.openOptions&&r.openOptions(...c))},[ze(e.$slots,"dropdown-icon_"+s.message._id,{},()=>[$e(i,{name:"dropdown",param:"message"})])],512)):Ye("",!0),r.isMessageReactions?Dn((pe(),xe("div",iA,[ze(e.$slots,"emoji-picker",Ud({emojiOpened:o.emojiOpened},{addEmoji:r.sendMessageReaction}),()=>[$e(l,{class:"vac-message-emojis",style:At({right:r.isMessageActions?"30px":"5px"}),"emoji-opened":o.emojiOpened,"emoji-reaction":!0,"position-right":s.message.senderId===s.currentUserId,"message-id":s.message._id,onAddEmoji:r.sendMessageReaction,onOpenEmoji:r.openEmoji},Lt({_:2},[ut(e.$slots,(c,f)=>({name:f,fn:tt(u=>[ze(e.$slots,f,Bt(Tt(u)))])}))]),1032,["style","emoji-opened","position-right","message-id","onAddEmoji","onOpenEmoji"])])])),[[d,r.closeEmoji]]):Ye("",!0)]),_:3})],4),r.filteredMessageActions.length?(pe(),kt(Wt,{key:0,name:s.message.senderId===s.currentUserId?"vac-slide-left":"vac-slide-right"},{default:tt(()=>[o.optionsOpened?Dn((pe(),xe("div",{key:0,ref:"menuOptions",class:ft(["vac-menu-options",{"vac-menu-left":s.message.senderId!==s.currentUserId}]),style:At({top:`${o.menuOptionsTop}px`})},[je("div",aA,[(pe(!0),xe(wt,null,ut(r.filteredMessageActions,c=>(pe(),xe("div",{key:c.name},[je("div",{class:"vac-menu-item",onClick:f=>r.messageActionHandler(c)},at(c.title),9,lA)]))),128))])],6)),[[d,r.closeOptions]]):Ye("",!0)]),_:1},8,["name"])):Ye("",!0)])}var uA=Ut(rA,[["render",cA]]);const dA={name:"MessageReactions",props:{currentUserId:{type:[String,Number],required:!0},message:{type:Object,required:!0}},emits:["send-message-reaction"],methods:{sendMessageReaction(e,t){this.$emit("send-message-reaction",{emoji:e,reaction:t})}}},fA=["onClick"];function hA(e,t,s,n,o,r){return s.message.deleted?Ye("",!0):(pe(),kt(Vd,{key:0,name:"vac-slide-left",tag:"span"},{default:tt(()=>[(pe(!0),xe(wt,null,ut(s.message.reactions,(i,l)=>Dn((pe(),xe("button",{key:l+0,class:ft(["vac-button-reaction",{"vac-reaction-me":i.indexOf(s.currentUserId)!==-1}]),style:At({float:s.message.senderId===s.currentUserId?"right":"left"}),onClick:d=>r.sendMessageReaction({unicode:l},i)},[Sr(at(l),1),je("span",null,at(i.length),1)],14,fA)),[[Ql,i.length]])),128))]),_:1}))}var mA=Ut(dA,[["render",hA]]);function pA(e){if(!((n,o)=>o.every(r=>{let i=!1;return(r.type[0]==="array"&&Array.isArray(n[r.key])||r.type.find(l=>l===typeof n[r.key]))&&(i=!0),i&&i1(n,r.key)}))(e,[{key:"roomId",type:["string","number"]},{key:"roomName",type:["string"]},{key:"users",type:["array"]}]))throw new Error("Rooms object is not valid! Must contain roomId[String, Number], roomName[String] and users[Array]")}function vA(e){if(!((n,o)=>o.every(r=>r.type.find(l=>l===typeof n[r.key])&&i1(n,r.key)))(e,[{key:"_id",type:["string","number"]},{key:"username",type:["string"]}]))throw new Error("Participants object is not valid! Must contain _id[String, Number] and username[String]")}function gA(e){if(!((n,o)=>o.every(r=>r.type.find(l=>l===typeof n[r.key])&&i1(n,r.key)))(e,[{key:"_id",type:["string","number"]},{key:"content",type:["string","number"]},{key:"senderId",type:["string","number"]}]))throw new Error("Messages object is not valid! Must contain _id[String, Number], content[String, Number] and senderId[String, Number]")}function i1(e,t){return Object.prototype.hasOwnProperty.call(e,t)&&e[t]!==null&&e[t]!==void 0}const _A={name:"RoomMessage",components:{SvgIcon:is,FormatMessage:ga,AudioPlayer:o1,MessageReply:PE,MessageFiles:nA,MessageActions:uA,MessageReactions:mA},props:{currentUserId:{type:[String,Number],required:!0},textMessages:{type:Object,required:!0},index:{type:Number,required:!0},message:{type:Object,required:!0},messages:{type:Array,required:!0},editedMessageId:{type:[String,Number],default:null},roomUsers:{type:Array,default:()=>[]},messageActions:{type:Array,required:!0},newMessages:{type:Array,default:()=>[]},showReactionEmojis:{type:Boolean,required:!0},showNewMessagesDivider:{type:Boolean,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},usernameOptions:{type:Object,required:!0},messageSelectionEnabled:{type:Boolean,required:!0},selectedMessages:{type:Array,default:()=>[]}},emits:["message-added","open-file","open-user-tag","open-failed-message","message-action-handler","send-message-reaction","select-message","unselect-message"],data(){return{hoverMessageId:null,messageHover:!1,optionsOpened:!1,emojiOpened:!1,newMessage:{},progressTime:"- : -",hoverAudioProgress:!1}},computed:{showUsername(){return!this.usernameOptions.currentUser&&this.message.senderId===this.currentUserId?!1:this.roomUsers.length>=this.usernameOptions.minUsers},showDate(){return this.index>0&&this.message.date!==this.messages[this.index-1].date},messageOffset(){return this.index>0&&this.message.senderId!==this.messages[this.index-1].senderId},isMessageHover(){return this.editedMessageId===this.message._id||this.hoverMessageId===this.message._id},isAudio(){var e;return(e=this.message.files)==null?void 0:e.some(t=>cc(t))},isCheckmarkVisible(){return this.message.senderId===this.currentUserId&&!this.message.deleted&&(this.message.saved||this.message.distributed||this.message.seen)},hasCurrentUserAvatar(){return this.messages.some(e=>e.senderId===this.currentUserId&&e.avatar)},hasSenderUserAvatar(){return this.messages.some(e=>e.senderId!==this.currentUserId&&e.avatar)},isMessageSelected(){return this.messageSelectionEnabled&&!!this.selectedMessages.find(e=>e._id===this.message._id)}},watch:{newMessages:{immediate:!0,deep:!0,handler(e){if(!e.length||!this.showNewMessagesDivider){this.newMessage={};return}this.newMessage=e.reduce((t,s)=>s.index<t.index?s:t)}},messageSelectionEnabled(){this.resetMessageHover()}},mounted(){gA(this.message),this.$emit("message-added",{message:this.message,index:this.index,ref:this.$refs.message})},methods:{onHoverMessage(){this.messageSelectionEnabled||(this.messageHover=!0,this.canEditMessage()&&(this.hoverMessageId=this.message._id))},canEditMessage(){return!this.message.deleted},onLeaveMessage(){this.messageSelectionEnabled||(!this.optionsOpened&&!this.emojiOpened&&(this.messageHover=!1),this.hoverMessageId=null)},resetMessageHover(){this.messageHover=!1,this.hoverMessageId=null},openFile(e){this.$emit("open-file",{message:this.message,file:e})},openUserTag(e){this.$emit("open-user-tag",{user:e})},messageActionHandler(e){this.resetMessageHover(),setTimeout(()=>{this.$emit("message-action-handler",{action:e,message:this.message})},300)},sendMessageReaction({emoji:e,reaction:t}){this.$emit("send-message-reaction",{messageId:this.message._id,reaction:e,remove:t&&t.indexOf(this.currentUserId)!==-1}),this.messageHover=!1},selectMessage(){this.messageSelectionEnabled&&(this.isMessageSelected?this.$emit("unselect-message",this.message._id):this.$emit("select-message",this.message))}}},bA=["id"],yA={key:0,class:"vac-card-info vac-card-date"},wA={key:1,class:"vac-line-new"},SA={key:2,class:"vac-card-info vac-card-system"},EA={key:1,class:"vac-avatar-offset"},AA={key:0,class:"vac-progress-time"},MA={class:"vac-text-timestamp"},xA={key:0,class:"vac-icon-edited"},RA={key:1},TA=je("div",{class:"vac-failure-text"},"!",-1),kA=[TA],CA={key:3,class:"vac-avatar-current-offset"};function OA(e,t,s,n,o,r){const i=st("format-message"),l=st("message-reply"),d=st("message-files"),c=st("audio-player"),f=st("svg-icon"),u=st("message-actions"),v=st("message-reactions");return pe(),xe("div",{id:s.message._id,ref:"message",class:"vac-message-wrapper"},[r.showDate?(pe(),xe("div",yA,at(s.message.date),1)):Ye("",!0),o.newMessage._id===s.message._id?(pe(),xe("div",wA,at(s.textMessages.NEW_MESSAGES),1)):Ye("",!0),s.message.system?(pe(),xe("div",SA,[ze(e.$slots,"message_"+s.message._id,{},()=>[$e(i,{"message-id":s.message._id,content:s.message.content,deleted:!!s.message.deleted,users:s.roomUsers,"text-messages":s.textMessages,"text-formatting":s.textFormatting,"link-options":s.linkOptions,onOpenUserTag:r.openUserTag},Lt({_:2},[ut(e.$slots,(w,a)=>({name:a,fn:tt(j=>[ze(e.$slots,a,Bt(Tt(j)))])}))]),1032,["message-id","content","deleted","users","text-messages","text-formatting","link-options","onOpenUserTag"])])])):(pe(),xe("div",{key:3,class:ft(["vac-message-box",{"vac-offset-current":s.message.senderId===s.currentUserId}]),onClick:t[8]||(t[8]=(...w)=>r.selectMessage&&r.selectMessage(...w))},[ze(e.$slots,"message_"+s.message._id,{},()=>[s.message.avatar&&s.message.senderId!==s.currentUserId?(pe(),xe("div",{key:0,class:"vac-avatar",style:At({"background-image":`url('${s.message.avatar}')`})},null,4)):Ye("",!0),r.hasSenderUserAvatar&&!s.message.avatar?(pe(),xe("div",EA)):Ye("",!0),je("div",{class:ft(["vac-message-container",{"vac-message-container-offset":r.messageOffset}])},[je("div",{class:ft(["vac-message-card",{"vac-message-highlight":r.isMessageHover,"vac-message-current":s.message.senderId===s.currentUserId,"vac-message-deleted":s.message.deleted,"vac-item-clickable":s.messageSelectionEnabled,"vac-message-selected":r.isMessageSelected}]),onMouseover:t[5]||(t[5]=(...w)=>r.onHoverMessage&&r.onHoverMessage(...w)),onMouseleave:t[6]||(t[6]=(...w)=>r.onLeaveMessage&&r.onLeaveMessage(...w))},[r.showUsername?(pe(),xe("div",{key:0,class:ft(["vac-text-username",{"vac-username-reply":!s.message.deleted&&s.message.replyMessage}])},[je("span",null,at(s.message.username),1)],2)):Ye("",!0),!s.message.deleted&&s.message.replyMessage?(pe(),kt(l,{key:1,message:s.message,"room-users":s.roomUsers,"text-formatting":s.textFormatting,"link-options":s.linkOptions},Lt({_:2},[ut(e.$slots,(w,a)=>({name:a,fn:tt(j=>[ze(e.$slots,a,Bt(Tt(j)))])}))]),1032,["message","room-users","text-formatting","link-options"])):!!s.message.deleted||!s.message.files||!s.message.files.length?(pe(),kt(i,{key:2,"message-id":s.message._id,content:s.message.content,deleted:!!s.message.deleted,users:s.roomUsers,"text-formatting":s.textFormatting,"text-messages":s.textMessages,"link-options":s.linkOptions,onOpenUserTag:r.openUserTag},Lt({_:2},[ut(e.$slots,(w,a)=>({name:a,fn:tt(j=>[ze(e.$slots,a,Bt(Tt(j)))])}))]),1032,["message-id","content","deleted","users","text-formatting","text-messages","link-options","onOpenUserTag"])):!r.isAudio||s.message.files.length>1?(pe(),kt(d,{key:3,"current-user-id":s.currentUserId,message:s.message,"room-users":s.roomUsers,"text-formatting":s.textFormatting,"link-options":s.linkOptions,"message-selection-enabled":s.messageSelectionEnabled,onOpenFile:r.openFile,onOpenUserTag:r.openUserTag},Lt({_:2},[ut(e.$slots,(w,a)=>({name:a,fn:tt(j=>[ze(e.$slots,a,Bt(Tt(j)))])}))]),1032,["current-user-id","message","room-users","text-formatting","link-options","message-selection-enabled","onOpenFile","onOpenUserTag"])):(pe(),xe(wt,{key:4},[$e(c,{"message-id":s.message._id,src:s.message.files[0].url,"message-selection-enabled":s.messageSelectionEnabled,onUpdateProgressTime:t[0]||(t[0]=w=>o.progressTime=w),onHoverAudioProgress:t[1]||(t[1]=w=>o.hoverAudioProgress=w)},Lt({_:2},[ut(e.$slots,(w,a)=>({name:a,fn:tt(j=>[ze(e.$slots,a,Bt(Tt(j)))])}))]),1032,["message-id","src","message-selection-enabled"]),s.message.deleted?Ye("",!0):(pe(),xe("div",AA,at(o.progressTime),1))],64)),je("div",MA,[s.message.edited&&!s.message.deleted?(pe(),xe("div",xA,[ze(e.$slots,"pencil-icon_"+s.message._id,{},()=>[$e(f,{name:"pencil"})])])):Ye("",!0),je("span",null,at(s.message.timestamp),1),r.isCheckmarkVisible?(pe(),xe("span",RA,[ze(e.$slots,"checkmark-icon_"+s.message._id,{},()=>[$e(f,{name:s.message.distributed?"double-checkmark":"checkmark",param:s.message.seen?"seen":"",class:"vac-icon-check"},null,8,["name","param"])])])):Ye("",!0)]),$e(u,{"current-user-id":s.currentUserId,message:s.message,"message-actions":s.messageActions,"show-reaction-emojis":s.showReactionEmojis,"message-hover":o.messageHover,"hover-message-id":o.hoverMessageId,"hover-audio-progress":o.hoverAudioProgress,onUpdateMessageHover:t[2]||(t[2]=w=>o.messageHover=w),onUpdateOptionsOpened:t[3]||(t[3]=w=>o.optionsOpened=w),onUpdateEmojiOpened:t[4]||(t[4]=w=>o.emojiOpened=w),onMessageActionHandler:r.messageActionHandler,onSendMessageReaction:r.sendMessageReaction},Lt({_:2},[ut(e.$slots,(w,a)=>({name:a,fn:tt(j=>[ze(e.$slots,a,Bt(Tt(j)))])}))]),1032,["current-user-id","message","message-actions","show-reaction-emojis","message-hover","hover-message-id","hover-audio-progress","onMessageActionHandler","onSendMessageReaction"])],34),$e(v,{"current-user-id":s.currentUserId,message:s.message,onSendMessageReaction:r.sendMessageReaction},null,8,["current-user-id","message","onSendMessageReaction"])],2),ze(e.$slots,"message-failure_"+s.message._id,{},()=>[s.message.failure&&s.message.senderId===s.currentUserId?(pe(),xe("div",{key:0,class:ft(["vac-failure-container vac-svg-button",{"vac-failure-container-avatar":s.message.avatar&&s.message.senderId===s.currentUserId}]),onClick:t[7]||(t[7]=w=>e.$emit("open-failed-message",{message:s.message}))},kA,2)):Ye("",!0)]),s.message.avatar&&s.message.senderId===s.currentUserId?(pe(),xe("div",{key:2,class:"vac-avatar vac-avatar-current",style:At({"background-image":`url('${s.message.avatar}')`})},null,4)):Ye("",!0),r.hasCurrentUserAvatar&&!s.message.avatar?(pe(),xe("div",CA)):Ye("",!0)])],2))],8,bA)}var IA=Ut(_A,[["render",OA]]);const BA={name:"ChatRoom",components:{Loader:Jl,SvgIcon:is,RoomHeader:L6,RoomFooter:SE,RoomMessage:IA},props:{currentUserId:{type:[String,Number],required:!0},textMessages:{type:Object,required:!0},singleRoom:{type:Boolean,required:!0},showRoomsList:{type:Boolean,required:!0},isMobile:{type:Boolean,required:!0},rooms:{type:Array,required:!0},roomId:{type:[String,Number],required:!0},loadFirstRoom:{type:Boolean,required:!0},messages:{type:Array,required:!0},roomMessage:{type:String,default:null},messagesLoaded:{type:Boolean,required:!0},menuActions:{type:Array,required:!0},messageActions:{type:Array,required:!0},messageSelectionActions:{type:Array,required:!0},autoScroll:{type:Object,required:!0},showSendIcon:{type:Boolean,required:!0},showFiles:{type:Boolean,required:!0},showAudio:{type:Boolean,required:!0},audioBitRate:{type:Number,required:!0},audioSampleRate:{type:Number,required:!0},showEmojis:{type:Boolean,required:!0},showReactionEmojis:{type:Boolean,required:!0},showNewMessagesDivider:{type:Boolean,required:!0},showFooter:{type:Boolean,required:!0},acceptedFiles:{type:String,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},loadingRooms:{type:Boolean,required:!0},roomInfoEnabled:{type:Boolean,required:!0},textareaActionEnabled:{type:Boolean,required:!0},textareaAutoFocus:{type:Boolean,required:!0},userTagsEnabled:{type:Boolean,required:!0},emojisSuggestionEnabled:{type:Boolean,required:!0},scrollDistance:{type:Number,required:!0},templatesText:{type:Array,default:null},usernameOptions:{type:Object,required:!0}},emits:["toggle-rooms-list","room-info","menu-action-handler","message-selection-action-handler","edit-message","send-message","delete-message","message-action-handler","fetch-messages","send-message-reaction","typing-message","open-file","open-user-tag","open-failed-message","textarea-action-handler"],data(){return{editedMessageId:null,initReplyMessage:null,initEditMessage:null,infiniteState:null,loadingMessages:!1,observer:null,showLoader:!0,loadingMoreMessages:!1,scrollIcon:!1,scrollMessagesCount:0,newMessages:[],messageSelectionEnabled:!1,selectedMessages:[]}},computed:{room(){return this.rooms.find(e=>e.roomId===this.roomId)||{}},showNoMessages(){return this.roomId&&!this.messages.length&&!this.loadingMessages&&!this.loadingRooms},showNoRoom(){const e=!this.rooms.length&&!this.loadingRooms||!this.roomId&&!this.loadFirstRoom;return e&&this.updateLoadingMessages(!1),e},showMessagesStarted(){return this.messages.length&&this.messagesLoaded}},watch:{roomId(){this.onRoomChanged()},messages:{deep:!0,handler(e,t){e.forEach((s,n)=>{this.showNewMessagesDivider&&!s.seen&&s.senderId!==this.currentUserId&&this.newMessages.push({_id:s._id,index:n})}),(t==null?void 0:t.length)===(e==null?void 0:e.length)-1&&(this.newMessages=[]),this.infiniteState&&this.infiniteState.loaded(),setTimeout(()=>this.loadingMoreMessages=!1)}},messagesLoaded(e){e&&this.updateLoadingMessages(!1),this.infiniteState&&this.infiniteState.complete()}},mounted(){this.newMessages=[]},methods:{updateLoadingMessages(e){this.loadingMessages=e,e?this.infiniteState=null:(this.infiniteState&&this.infiniteState.loaded(),setTimeout(()=>this.initIntersectionObserver()))},initIntersectionObserver(){this.observer&&(this.showLoader=!0,this.observer.disconnect());const e=document.querySelector("vue-advanced-chat").shadowRoot.getElementById("infinite-loader-messages");if(e){const t={root:document.querySelector("vue-advanced-chat").shadowRoot.getElementById("messages-list"),rootMargin:`${this.scrollDistance}px`,threshold:0};this.observer=new IntersectionObserver(s=>{s[0].isIntersecting&&this.loadMoreMessages()},t),this.observer.observe(e)}},preventTopScroll(){const e=this.$refs.scrollContainer,t=e.scrollHeight,s=new ResizeObserver(o=>{e.scrollHeight!==t&&this.$refs.scrollContainer&&(this.$refs.scrollContainer.scrollTo({top:e.scrollHeight-t}),s.disconnect())});for(var n=0;n<e.children.length;n++)s.observe(e.children[n])},touchStart(e){if(!this.singleRoom&&e.changedTouches.length===1){const t=e.changedTouches[0].clientX,s=e.changedTouches[0].clientY;addEventListener("touchend",n=>this.touchEnd(n,t,s),{once:!0})}},touchEnd(e,t,s){if(e.changedTouches.length===1){const n=e.changedTouches[0].clientX,o=e.changedTouches[0].clientY,r=n-t>100,i=Math.abs(o-s)>50;r&&!i&&this.$emit("toggle-rooms-list")}},onRoomChanged(){this.updateLoadingMessages(!0),this.scrollIcon=!1,this.scrollMessagesCount=0,this.resetMessageSelection();const e=this.$watch(()=>this.messages,t=>{if(!t||!t.length)return;const s=this.$refs.scrollContainer;!s||(e(),setTimeout(()=>{s.scrollTo({top:s.scrollHeight}),this.updateLoadingMessages(!1)}))})},resetMessageSelection(){this.messageSelectionEnabled=!1,this.selectedMessages=[]},selectMessage(e){this.selectedMessages.push(e)},unselectMessage(e){this.selectedMessages=this.selectedMessages.filter(t=>t._id!==e)},onMessageAdded({message:e,index:t,ref:s}){if(t!==this.messages.length-1)return;const n=s.offsetHeight+60;setTimeout(()=>{const o=this.getBottomScroll(this.$refs.scrollContainer)>n;e.senderId===this.currentUserId?o?this.autoScroll.send.newAfterScrollUp&&this.scrollToBottom():this.autoScroll.send.new&&this.scrollToBottom():o?this.autoScroll.receive.newAfterScrollUp?this.scrollToBottom():(this.scrollIcon=!0,this.scrollMessagesCount++):this.autoScroll.receive.new?this.scrollToBottom():(this.scrollIcon=!0,this.scrollMessagesCount++)})},onContainerScroll(e){if(!e.target)return;const t=this.getBottomScroll(e.target);t<60&&(this.scrollMessagesCount=0),this.scrollIcon=t>500||this.scrollMessagesCount},loadMoreMessages(){this.loadingMessages||setTimeout(()=>{if(!this.loadingMoreMessages){if(this.messagesLoaded||!this.roomId){this.loadingMoreMessages=!1,this.showLoader=!1;return}this.preventTopScroll(),this.$emit("fetch-messages"),this.loadingMoreMessages=!0}},500)},messageActionHandler({action:e,message:t}){switch(e.name){case"replyMessage":this.initReplyMessage=t;return;case"editMessage":this.initEditMessage=t;return;case"deleteMessage":return this.$emit("delete-message",t);case"selectMessages":this.selectedMessages=[t],this.messageSelectionEnabled=!0;return;default:return this.$emit("message-action-handler",{action:e,message:t})}},messageSelectionActionHandler(e){this.$emit("message-selection-action-handler",{action:e,messages:this.selectedMessages}),this.resetMessageSelection()},sendMessageReaction(e){this.$emit("send-message-reaction",e)},getBottomScroll(e){const{scrollHeight:t,clientHeight:s,scrollTop:n}=e;return t-s-n},scrollToBottom(){setTimeout(()=>{const e=this.$refs.scrollContainer;e.classList.add("vac-scroll-smooth"),e.scrollTo({top:e.scrollHeight,behavior:"smooth"}),setTimeout(()=>e.classList.remove("vac-scroll-smooth"))},50)},openFile({message:e,file:t}){this.$emit("open-file",{message:e,file:t})},openUserTag(e){this.$emit("open-user-tag",e)}}},LA={class:"vac-container-center vac-room-empty"},PA={class:"vac-messages-container"},NA={key:0,class:"vac-text-started"},jA={key:1,class:"vac-text-started"},FA={key:0,id:"infinite-loader-messages"},HA={key:2},UA={key:0,class:"vac-badge-counter vac-messages-count"};function DA(e,t,s,n,o,r){const i=st("room-header"),l=st("loader"),d=st("room-message"),c=st("svg-icon"),f=st("room-footer");return Dn((pe(),xe("div",{class:"vac-col-messages",onTouchstart:t[12]||(t[12]=(...u)=>r.touchStart&&r.touchStart(...u))},[r.showNoRoom?ze(e.$slots,"no-room-selected",{key:0},()=>[je("div",LA,[je("div",null,at(s.textMessages.ROOM_EMPTY),1)])]):(pe(),kt(i,{key:1,"current-user-id":s.currentUserId,"text-messages":s.textMessages,"single-room":s.singleRoom,"show-rooms-list":s.showRoomsList,"is-mobile":s.isMobile,"room-info-enabled":s.roomInfoEnabled,"menu-actions":s.menuActions,room:r.room,"message-selection-enabled":o.messageSelectionEnabled,"message-selection-actions":s.messageSelectionActions,"selected-messages-total":o.selectedMessages.length,onToggleRoomsList:t[0]||(t[0]=u=>e.$emit("toggle-rooms-list")),onRoomInfo:t[1]||(t[1]=u=>e.$emit("room-info")),onMenuActionHandler:t[2]||(t[2]=u=>e.$emit("menu-action-handler",u)),onMessageSelectionActionHandler:r.messageSelectionActionHandler,onCancelMessageSelection:t[3]||(t[3]=u=>o.messageSelectionEnabled=!1)},Lt({_:2},[ut(e.$slots,(u,v)=>({name:v,fn:tt(w=>[ze(e.$slots,v,Bt(Tt(w)))])}))]),1032,["current-user-id","text-messages","single-room","show-rooms-list","is-mobile","room-info-enabled","menu-actions","room","message-selection-enabled","message-selection-actions","selected-messages-total","onMessageSelectionActionHandler"])),je("div",{id:"messages-list",ref:"scrollContainer",class:"vac-container-scroll",onScroll:t[5]||(t[5]=(...u)=>r.onContainerScroll&&r.onContainerScroll(...u))},[$e(l,{show:o.loadingMessages,type:"messages"},Lt({_:2},[ut(e.$slots,(u,v)=>({name:v,fn:tt(w=>[ze(e.$slots,v,Bt(Tt(w)))])}))]),1032,["show"]),je("div",PA,[je("div",{class:ft({"vac-messages-hidden":o.loadingMessages})},[$e(Wt,{name:"vac-fade-message"},{default:tt(()=>[je("div",null,[r.showNoMessages?(pe(),xe("div",NA,[ze(e.$slots,"messages-empty",{},()=>[Sr(at(s.textMessages.MESSAGES_EMPTY),1)])])):Ye("",!0),r.showMessagesStarted?(pe(),xe("div",jA,at(s.textMessages.CONVERSATION_STARTED)+" "+at(s.messages[0].date),1)):Ye("",!0)])]),_:3}),s.messages.length&&!s.messagesLoaded?(pe(),xe("div",FA,[$e(l,{show:!0,infinite:!0,type:"infinite-messages"},Lt({_:2},[ut(e.$slots,(u,v)=>({name:v,fn:tt(w=>[ze(e.$slots,v,Bt(Tt(w)))])}))]),1024)])):Ye("",!0),(pe(),kt(Vd,{key:s.roomId,name:"vac-fade-message",tag:"span"},{default:tt(()=>[(pe(!0),xe(wt,null,ut(s.messages,(u,v)=>(pe(),xe("div",{key:u.indexId||u._id},[$e(d,{"current-user-id":s.currentUserId,message:u,index:v,messages:s.messages,"edited-message-id":o.editedMessageId,"message-actions":s.messageActions,"room-users":r.room.users,"text-messages":s.textMessages,"new-messages":o.newMessages,"show-reaction-emojis":s.showReactionEmojis,"show-new-messages-divider":s.showNewMessagesDivider,"text-formatting":s.textFormatting,"link-options":s.linkOptions,"username-options":s.usernameOptions,"message-selection-enabled":o.messageSelectionEnabled,"selected-messages":o.selectedMessages,onMessageAdded:r.onMessageAdded,onMessageActionHandler:r.messageActionHandler,onOpenFile:r.openFile,onOpenUserTag:r.openUserTag,onOpenFailedMessage:t[4]||(t[4]=w=>e.$emit("open-failed-message",w)),onSendMessageReaction:r.sendMessageReaction,onSelectMessage:r.selectMessage,onUnselectMessage:r.unselectMessage},Lt({_:2},[ut(e.$slots,(w,a)=>({name:a,fn:tt(j=>[ze(e.$slots,a,Bt(Tt(j)))])}))]),1032,["current-user-id","message","index","messages","edited-message-id","message-actions","room-users","text-messages","new-messages","show-reaction-emojis","show-new-messages-divider","text-formatting","link-options","username-options","message-selection-enabled","selected-messages","onMessageAdded","onMessageActionHandler","onOpenFile","onOpenUserTag","onSendMessageReaction","onSelectMessage","onUnselectMessage"])]))),128))]),_:3}))],2)])],544),o.loadingMessages?Ye("",!0):(pe(),xe("div",HA,[$e(Wt,{name:"vac-bounce"},{default:tt(()=>[o.scrollIcon?(pe(),xe("div",{key:0,class:"vac-icon-scroll",onClick:t[6]||(t[6]=(...u)=>r.scrollToBottom&&r.scrollToBottom(...u))},[$e(Wt,{name:"vac-bounce"},{default:tt(()=>[o.scrollMessagesCount?(pe(),xe("div",UA,at(o.scrollMessagesCount),1)):Ye("",!0)]),_:1}),ze(e.$slots,"scroll-icon",{},()=>[$e(c,{name:"dropdown",param:"scroll"})])])):Ye("",!0)]),_:3})])),$e(f,{room:r.room,"room-id":s.roomId,"room-message":s.roomMessage,"text-messages":s.textMessages,"show-send-icon":s.showSendIcon,"show-files":s.showFiles,"show-audio":s.showAudio,"show-emojis":s.showEmojis,"show-footer":s.showFooter,"accepted-files":s.acceptedFiles,"textarea-action-enabled":s.textareaActionEnabled,"textarea-auto-focus":s.textareaAutoFocus,"user-tags-enabled":s.userTagsEnabled,"emojis-suggestion-enabled":s.emojisSuggestionEnabled,"templates-text":s.templatesText,"text-formatting":s.textFormatting,"link-options":s.linkOptions,"audio-bit-rate":s.audioBitRate,"audio-sample-rate":s.audioSampleRate,"init-reply-message":o.initReplyMessage,"init-edit-message":o.initEditMessage,onUpdateEditedMessageId:t[7]||(t[7]=u=>o.editedMessageId=u),onEditMessage:t[8]||(t[8]=u=>e.$emit("edit-message",u)),onSendMessage:t[9]||(t[9]=u=>e.$emit("send-message",u)),onTypingMessage:t[10]||(t[10]=u=>e.$emit("typing-message",u)),onTextareaActionHandler:t[11]||(t[11]=u=>e.$emit("textarea-action-handler",u))},Lt({_:2},[ut(e.$slots,(u,v)=>({name:v,fn:tt(w=>[ze(e.$slots,v,Bt(Tt(w)))])}))]),1032,["room","room-id","room-message","text-messages","show-send-icon","show-files","show-audio","show-emojis","show-footer","accepted-files","textarea-action-enabled","textarea-auto-focus","user-tags-enabled","emojis-suggestion-enabled","templates-text","text-formatting","link-options","audio-bit-rate","audio-sample-rate","init-reply-message","init-edit-message"])],544)),[[Ql,s.isMobile&&!s.showRoomsList||!s.isMobile||s.singleRoom]])}var qA=Ut(BA,[["render",DA]]);const VA={name:"MediaPreview",components:{SvgIcon:is},props:{file:{type:Object,required:!0}},emits:["close-media-preview"],computed:{isImage(){return $o(this.file)},isVideo(){return _a(this.file)}},mounted(){this.$refs.modal.focus()},methods:{closeModal(){this.$emit("close-media-preview")}}},$A={key:0,class:"vac-media-preview-container"},zA={key:1,class:"vac-media-preview-container"},KA={controls:"",autoplay:""},YA=["src"],XA={class:"vac-svg-button"};function WA(e,t,s,n,o,r){const i=st("svg-icon");return pe(),xe("div",{ref:"modal",tabindex:"0",class:"vac-media-preview",onClick:t[0]||(t[0]=ur((...l)=>r.closeModal&&r.closeModal(...l),["stop"])),onKeydown:t[1]||(t[1]=In((...l)=>r.closeModal&&r.closeModal(...l),["esc"]))},[$e(Wt,{name:"vac-bounce-preview",appear:""},{default:tt(()=>[r.isImage?(pe(),xe("div",$A,[je("div",{class:"vac-image-preview",style:At({"background-image":`url('${s.file.url}')`})},null,4)])):r.isVideo?(pe(),xe("div",zA,[je("video",KA,[je("source",{src:s.file.url},null,8,YA)])])):Ye("",!0)]),_:1}),je("div",XA,[ze(e.$slots,"preview-close-icon",{},()=>[$e(i,{name:"close-outline",param:"preview"})])])],544)}var GA=Ut(VA,[["render",WA]]),ZA={ROOMS_EMPTY:"No rooms",ROOM_EMPTY:"No room selected",NEW_MESSAGES:"New Messages",MESSAGE_DELETED:"This message was deleted",MESSAGES_EMPTY:"No messages",CONVERSATION_STARTED:"Conversation started on:",TYPE_MESSAGE:"Type message",SEARCH:"Search",IS_ONLINE:"is online",LAST_SEEN:"last seen ",IS_TYPING:"is writing...",CANCEL_SELECT_MESSAGE:"Cancel"};const QA={light:{general:{color:"#0a0a0a",colorButtonClear:"#1976d2",colorButton:"#fff",backgroundColorButton:"#1976d2",backgroundInput:"#fff",colorPlaceholder:"#9ca6af",colorCaret:"#1976d2",colorSpinner:"#333",borderStyle:"1px solid #e1e4e8",backgroundScrollIcon:"#fff"},container:{border:"none",borderRadius:"4px",boxShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)"},header:{background:"#fff",colorRoomName:"#0a0a0a",colorRoomInfo:"#9ca6af"},footer:{background:"#f8f9fa",borderStyleInput:"1px solid #e1e4e8",borderInputSelected:"#1976d2",backgroundReply:"#e5e5e6",backgroundTagActive:"#e5e5e6",backgroundTag:"#f8f9fa"},content:{background:"#f8f9fa"},sidemenu:{background:"#fff",backgroundHover:"#f6f6f6",backgroundActive:"#e5effa",colorActive:"#1976d2",borderColorSearch:"#e1e5e8"},dropdown:{background:"#fff",backgroundHover:"#f6f6f6"},message:{background:"#fff",backgroundMe:"#ccf2cf",color:"#0a0a0a",colorStarted:"#9ca6af",backgroundDeleted:"#dadfe2",backgroundSelected:"#c2dcf2",colorDeleted:"#757e85",colorUsername:"#9ca6af",colorTimestamp:"#828c94",backgroundDate:"#e5effa",colorDate:"#505a62",backgroundSystem:"#e5effa",colorSystem:"#505a62",backgroundMedia:"rgba(0, 0, 0, 0.15)",backgroundReply:"rgba(0, 0, 0, 0.08)",colorReplyUsername:"#0a0a0a",colorReply:"#6e6e6e",colorTag:"#0d579c",backgroundImage:"#ddd",colorNewMessages:"#1976d2",backgroundScrollCounter:"#0696c7",colorScrollCounter:"#fff",backgroundReaction:"#eee",borderStyleReaction:"1px solid #eee",backgroundReactionHover:"#fff",borderStyleReactionHover:"1px solid #ddd",colorReactionCounter:"#0a0a0a",backgroundReactionMe:"#cfecf5",borderStyleReactionMe:"1px solid #3b98b8",backgroundReactionHoverMe:"#cfecf5",borderStyleReactionHoverMe:"1px solid #3b98b8",colorReactionCounterMe:"#0b59b3",backgroundAudioRecord:"#eb4034",backgroundAudioLine:"rgba(0, 0, 0, 0.15)",backgroundAudioProgress:"#455247",backgroundAudioProgressSelector:"#455247",colorFileExtension:"#757e85"},markdown:{background:"rgba(239, 239, 239, 0.7)",border:"rgba(212, 212, 212, 0.9)",color:"#e01e5a",colorMulti:"#0a0a0a"},room:{colorUsername:"#0a0a0a",colorMessage:"#67717a",colorTimestamp:"#a2aeb8",colorStateOnline:"#4caf50",colorStateOffline:"#9ca6af",backgroundCounterBadge:"#0696c7",colorCounterBadge:"#fff"},emoji:{background:"#fff"},icons:{search:"#9ca6af",add:"#1976d2",toggle:"#0a0a0a",menu:"#0a0a0a",close:"#9ca6af",closeImage:"#fff",file:"#1976d2",paperclip:"#1976d2",closeOutline:"#000",closePreview:"#fff",send:"#1976d2",sendDisabled:"#9ca6af",emoji:"#1976d2",emojiReaction:"rgba(0, 0, 0, 0.3)",document:"#1976d2",pencil:"#9e9e9e",checkmark:"#9e9e9e",checkmarkSeen:"#0696c7",eye:"#fff",dropdownMessage:"#fff",dropdownMessageBackground:"rgba(0, 0, 0, 0.25)",dropdownRoom:"#9e9e9e",dropdownScroll:"#0a0a0a",microphone:"#1976d2",audioPlay:"#455247",audioPause:"#455247",audioCancel:"#eb4034",audioConfirm:"#1ba65b"}},dark:{general:{color:"#fff",colorButtonClear:"#fff",colorButton:"#fff",backgroundColorButton:"#1976d2",backgroundInput:"#202223",colorPlaceholder:"#596269",colorCaret:"#fff",colorSpinner:"#fff",borderStyle:"none",backgroundScrollIcon:"#fff"},container:{border:"none",borderRadius:"4px",boxShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)"},header:{background:"#181a1b",colorRoomName:"#fff",colorRoomInfo:"#9ca6af"},footer:{background:"#131415",borderStyleInput:"none",borderInputSelected:"#1976d2",backgroundReply:"#1b1c1c",backgroundTagActive:"#1b1c1c",backgroundTag:"#131415"},content:{background:"#131415"},sidemenu:{background:"#181a1b",backgroundHover:"#202224",backgroundActive:"#151617",colorActive:"#fff",borderColorSearch:"#181a1b"},dropdown:{background:"#2a2c33",backgroundHover:"#26282e"},message:{background:"#22242a",backgroundMe:"#1f7e80",color:"#fff",colorStarted:"#9ca6af",backgroundDeleted:"#1b1c21",backgroundSelected:"#c2dcf2",colorDeleted:"#a2a5a8",colorUsername:"#b3bac9",colorTimestamp:"#ebedf2",backgroundDate:"rgba(0, 0, 0, 0.3)",colorDate:"#bec5cc",backgroundSystem:"rgba(0, 0, 0, 0.3)",colorSystem:"#bec5cc",backgroundMedia:"rgba(0, 0, 0, 0.18)",backgroundReply:"rgba(0, 0, 0, 0.18)",colorReplyUsername:"#fff",colorReply:"#d6d6d6",colorTag:"#f0c60a",backgroundImage:"#ddd",colorNewMessages:"#fff",backgroundScrollCounter:"#1976d2",colorScrollCounter:"#fff",backgroundReaction:"none",borderStyleReaction:"none",backgroundReactionHover:"#202223",borderStyleReactionHover:"none",colorReactionCounter:"#fff",backgroundReactionMe:"#4e9ad1",borderStyleReactionMe:"none",backgroundReactionHoverMe:"#4e9ad1",borderStyleReactionHoverMe:"none",colorReactionCounterMe:"#fff",backgroundAudioRecord:"#eb4034",backgroundAudioLine:"rgba(255, 255, 255, 0.15)",backgroundAudioProgress:"#b7d4d3",backgroundAudioProgressSelector:"#b7d4d3",colorFileExtension:"#a2a5a8"},markdown:{background:"rgba(239, 239, 239, 0.7)",border:"rgba(212, 212, 212, 0.9)",color:"#e01e5a",colorMulti:"#0a0a0a"},room:{colorUsername:"#fff",colorMessage:"#6c7278",colorTimestamp:"#6c7278",colorStateOnline:"#4caf50",colorStateOffline:"#596269",backgroundCounterBadge:"#1976d2",colorCounterBadge:"#fff"},emoji:{background:"#343740"},icons:{search:"#596269",add:"#fff",toggle:"#fff",menu:"#fff",close:"#9ca6af",closeImage:"#fff",file:"#1976d2",paperclip:"#fff",closeOutline:"#fff",closePreview:"#fff",send:"#fff",sendDisabled:"#646a70",emoji:"#fff",emojiReaction:"#fff",document:"#1976d2",pencil:"#ebedf2",checkmark:"#ebedf2",checkmarkSeen:"#f0d90a",eye:"#fff",dropdownMessage:"#fff",dropdownMessageBackground:"rgba(0, 0, 0, 0.25)",dropdownRoom:"#fff",dropdownScroll:"#0a0a0a",microphone:"#fff",audioPlay:"#b7d4d3",audioPause:"#b7d4d3",audioCancel:"#eb4034",audioConfirm:"#1ba65b"}}},JA=({general:e,container:t,header:s,footer:n,sidemenu:o,content:r,dropdown:i,message:l,markdown:d,room:c,emoji:f,icons:u})=>({"--chat-color":e.color,"--chat-color-button-clear":e.colorButtonClear,"--chat-color-button":e.colorButton,"--chat-bg-color-button":e.backgroundColorButton,"--chat-bg-color-input":e.backgroundInput,"--chat-color-spinner":e.colorSpinner,"--chat-color-placeholder":e.colorPlaceholder,"--chat-color-caret":e.colorCaret,"--chat-border-style":e.borderStyle,"--chat-bg-scroll-icon":e.backgroundScrollIcon,"--chat-container-border":t.border,"--chat-container-border-radius":t.borderRadius,"--chat-container-box-shadow":t.boxShadow,"--chat-header-bg-color":s.background,"--chat-header-color-name":s.colorRoomName,"--chat-header-color-info":s.colorRoomInfo,"--chat-footer-bg-color":n.background,"--chat-border-style-input":n.borderStyleInput,"--chat-border-color-input-selected":n.borderInputSelected,"--chat-footer-bg-color-reply":n.backgroundReply,"--chat-footer-bg-color-tag-active":n.backgroundTagActive,"--chat-footer-bg-color-tag":n.backgroundTag,"--chat-content-bg-color":r.background,"--chat-sidemenu-bg-color":o.background,"--chat-sidemenu-bg-color-hover":o.backgroundHover,"--chat-sidemenu-bg-color-active":o.backgroundActive,"--chat-sidemenu-color-active":o.colorActive,"--chat-sidemenu-border-color-search":o.borderColorSearch,"--chat-dropdown-bg-color":i.background,"--chat-dropdown-bg-color-hover":i.backgroundHover,"--chat-message-bg-color":l.background,"--chat-message-bg-color-me":l.backgroundMe,"--chat-message-color-started":l.colorStarted,"--chat-message-bg-color-deleted":l.backgroundDeleted,"--chat-message-bg-color-selected":l.backgroundSelected,"--chat-message-color-deleted":l.colorDeleted,"--chat-message-color-username":l.colorUsername,"--chat-message-color-timestamp":l.colorTimestamp,"--chat-message-bg-color-date":l.backgroundDate,"--chat-message-color-date":l.colorDate,"--chat-message-bg-color-system":l.backgroundSystem,"--chat-message-color-system":l.colorSystem,"--chat-message-color":l.color,"--chat-message-bg-color-media":l.backgroundMedia,"--chat-message-bg-color-reply":l.backgroundReply,"--chat-message-color-reply-username":l.colorReplyUsername,"--chat-message-color-reply-content":l.colorReply,"--chat-message-color-tag":l.colorTag,"--chat-message-bg-color-image":l.backgroundImage,"--chat-message-color-new-messages":l.colorNewMessages,"--chat-message-bg-color-scroll-counter":l.backgroundScrollCounter,"--chat-message-color-scroll-counter":l.colorScrollCounter,"--chat-message-bg-color-reaction":l.backgroundReaction,"--chat-message-border-style-reaction":l.borderStyleReaction,"--chat-message-bg-color-reaction-hover":l.backgroundReactionHover,"--chat-message-border-style-reaction-hover":l.borderStyleReactionHover,"--chat-message-color-reaction-counter":l.colorReactionCounter,"--chat-message-bg-color-reaction-me":l.backgroundReactionMe,"--chat-message-border-style-reaction-me":l.borderStyleReactionMe,"--chat-message-bg-color-reaction-hover-me":l.backgroundReactionHoverMe,"--chat-message-border-style-reaction-hover-me":l.borderStyleReactionHoverMe,"--chat-message-color-reaction-counter-me":l.colorReactionCounterMe,"--chat-message-bg-color-audio-record":l.backgroundAudioRecord,"--chat-message-bg-color-audio-line":l.backgroundAudioLine,"--chat-message-bg-color-audio-progress":l.backgroundAudioProgress,"--chat-message-bg-color-audio-progress-selector":l.backgroundAudioProgressSelector,"--chat-message-color-file-extension":l.colorFileExtension,"--chat-markdown-bg":d.background,"--chat-markdown-border":d.border,"--chat-markdown-color":d.color,"--chat-markdown-color-multi":d.colorMulti,"--chat-room-color-username":c.colorUsername,"--chat-room-color-message":c.colorMessage,"--chat-room-color-timestamp":c.colorTimestamp,"--chat-room-color-online":c.colorStateOnline,"--chat-room-color-offline":c.colorStateOffline,"--chat-room-bg-color-badge":c.backgroundCounterBadge,"--chat-room-color-badge":c.colorCounterBadge,"--chat-emoji-bg-color":f.background,"--chat-icon-color-search":u.search,"--chat-icon-color-add":u.add,"--chat-icon-color-toggle":u.toggle,"--chat-icon-color-menu":u.menu,"--chat-icon-color-close":u.close,"--chat-icon-color-close-image":u.closeImage,"--chat-icon-color-file":u.file,"--chat-icon-color-paperclip":u.paperclip,"--chat-icon-color-close-outline":u.closeOutline,"--chat-icon-color-close-preview":u.closePreview,"--chat-icon-color-send":u.send,"--chat-icon-color-send-disabled":u.sendDisabled,"--chat-icon-color-emoji":u.emoji,"--chat-icon-color-emoji-reaction":u.emojiReaction,"--chat-icon-color-document":u.document,"--chat-icon-color-pencil":u.pencil,"--chat-icon-color-checkmark":u.checkmark,"--chat-icon-color-checkmark-seen":u.checkmarkSeen,"--chat-icon-color-eye":u.eye,"--chat-icon-color-dropdown-message":u.dropdownMessage,"--chat-icon-bg-dropdown-message":u.dropdownMessageBackground,"--chat-icon-color-dropdown-room":u.dropdownRoom,"--chat-icon-color-dropdown-scroll":u.dropdownScroll,"--chat-icon-color-microphone":u.microphone,"--chat-icon-color-audio-play":u.audioPlay,"--chat-icon-color-audio-pause":u.audioPause,"--chat-icon-color-audio-cancel":u.audioCancel,"--chat-icon-color-audio-confirm":u.audioConfirm});var eM=`.vac-fade-spinner-enter-from{opacity:0}.vac-fade-spinner-enter-active{transition:opacity .8s}.vac-fade-spinner-leave-active{transition:opacity .2s;opacity:0}.vac-fade-image-enter-from{opacity:0}.vac-fade-image-enter-active{transition:opacity 1s}.vac-fade-image-leave-active{transition:opacity .5s;opacity:0}.vac-fade-message-enter-from{opacity:0}.vac-fade-message-enter-active{transition:opacity .5s}.vac-fade-message-leave-active{transition:opacity .2s;opacity:0}.vac-slide-left-enter-active,.vac-slide-right-enter-active{transition:all .3s ease;transition-property:transform,opacity}.vac-slide-left-leave-active,.vac-slide-right-leave-active{transition:all .2s cubic-bezier(1,.5,.8,1)!important;transition-property:transform,opacity}.vac-slide-left-enter-from,.vac-slide-left-leave-to{transform:translate(10px);opacity:0}.vac-slide-right-enter-from,.vac-slide-right-leave-to{transform:translate(-10px);opacity:0}.vac-slide-up-enter-active{transition:all .3s ease}.vac-slide-up-leave-active{transition:all .2s cubic-bezier(1,.5,.8,1)}.vac-slide-up-enter-from,.vac-slide-up-leave-to{transform:translateY(10px);opacity:0}.vac-bounce-enter-active{animation:vac-bounce-in .5s}.vac-bounce-leave-active{animation:vac-bounce-in .3s reverse}@keyframes vac-bounce-in{0%{transform:scale(0)}50%{transform:scale(1.05)}to{transform:scale(1)}}.vac-fade-preview-enter{opacity:0}.vac-fade-preview-enter-active{transition:opacity .1s}.vac-fade-preview-leave-active{transition:opacity .2s;opacity:0}.vac-bounce-preview-enter-active{animation:vac-bounce-image-in .4s}.vac-bounce-preview-leave-active{animation:vac-bounce-image-in .3s reverse}@keyframes vac-bounce-image-in{0%{transform:scale(.6)}to{transform:scale(1)}}.vac-menu-list{border-radius:4px;display:block;cursor:pointer;background:var(--chat-dropdown-bg-color);padding:6px 0}.vac-menu-list :hover{background:var(--chat-dropdown-bg-color-hover);transition:background-color .3s cubic-bezier(.25,.8,.5,1)}.vac-menu-list :not(:hover){transition:background-color .3s cubic-bezier(.25,.8,.5,1)}.vac-menu-item{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1 1 100%;flex:1 1 100%;min-height:30px;padding:5px 16px;position:relative;white-space:nowrap;line-height:30px}.vac-menu-options{position:absolute;right:10px;top:20px;z-index:9999;min-width:150px;display:inline-block;border-radius:4px;font-size:14px;color:var(--chat-color);overflow-y:auto;overflow-x:hidden;contain:content;box-shadow:0 2px 2px -4px #0000001a,0 2px 2px 1px #0000001f,0 1px 8px 1px #0000001f}.vac-app-border{border:var(--chat-border-style)}.vac-app-border-t{border-top:var(--chat-border-style)}.vac-app-border-r{border-right:var(--chat-border-style)}.vac-app-border-b{border-bottom:var(--chat-border-style)}.vac-app-box-shadow{transition:all .5s;box-shadow:0 2px 2px -4px #0000001a,0 2px 2px 1px #0000001f,0 1px 8px 1px #0000001f}.vac-item-clickable{cursor:pointer}.vac-vertical-center{display:flex;align-items:center;height:100%}.vac-vertical-center .vac-vertical-container{width:100%;text-align:center}.vac-svg-button{max-height:30px;display:flex;cursor:pointer;transition:all .2s}.vac-svg-button:hover{transform:scale(1.1);opacity:.7}.vac-avatar{background-size:cover;background-position:center center;background-repeat:no-repeat;background-color:#ddd;height:42px;width:42px;min-height:42px;min-width:42px;margin-right:15px;border-radius:50%}.vac-blur-loading{filter:blur(3px)}.vac-badge-counter{height:13px;width:auto;min-width:13px;border-radius:50%;display:flex;align-items:center;justify-content:center;padding:3px;font-size:11px;font-weight:500}.vac-text-ellipsis{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.vac-text-bold{font-weight:700}.vac-text-italic{font-style:italic}.vac-text-strike{text-decoration:line-through}.vac-text-underline{text-decoration:underline}.vac-text-inline-code{display:inline-block;font-size:12px;color:var(--chat-markdown-color);background:var(--chat-markdown-bg);border:1px solid var(--chat-markdown-border);border-radius:3px;margin:2px 0;padding:2px 3px}.vac-text-multiline-code{display:block;font-size:12px;color:var(--chat-markdown-color-multi);background:var(--chat-markdown-bg);border:1px solid var(--chat-markdown-border);border-radius:3px;margin:4px 0;padding:7px}.vac-text-tag{color:var(--chat-message-color-tag);cursor:pointer}.vac-file-container{display:flex;align-content:center;justify-content:center;flex-wrap:wrap;text-align:center;background:var(--chat-bg-color-input);border:var(--chat-border-style-input);border-radius:4px;padding:10px}.vac-file-container svg{height:28px;width:28px}.vac-file-container .vac-text-extension{font-size:12px;color:var(--chat-message-color-file-extension);margin-top:-2px}.vac-card-window{width:100%;display:block;max-width:100%;background:var(--chat-content-bg-color);color:var(--chat-color);overflow-wrap:break-word;white-space:normal;border:var(--chat-container-border);border-radius:var(--chat-container-border-radius);box-shadow:var(--chat-container-box-shadow);-webkit-tap-highlight-color:transparent}.vac-card-window *{font-family:inherit}.vac-card-window a{color:#0d579c;font-weight:500}.vac-card-window .vac-chat-container{height:100%;display:flex}.vac-card-window .vac-chat-container input{min-width:10px}.vac-card-window .vac-chat-container textarea,.vac-card-window .vac-chat-container input[type=text],.vac-card-window .vac-chat-container input[type=search]{-webkit-appearance:none}.vac-media-preview{position:fixed;top:0;left:0;z-index:99;width:100vw;height:100vh;display:flex;align-items:center;background-color:#000c;outline:none}.vac-media-preview .vac-media-preview-container{height:calc(100% - 140px);width:calc(100% - 80px);padding:70px 40px;margin:0 auto}.vac-media-preview .vac-image-preview{width:100%;height:100%;background-size:contain;background-repeat:no-repeat;background-position:center}.vac-media-preview video{width:100%;height:100%}.vac-media-preview .vac-svg-button{position:absolute;top:30px;right:30px;transform:scale(1.4)}@media only screen and (max-width: 768px){.vac-media-preview .vac-svg-button{top:20px;right:20px;transform:scale(1.2)}.vac-media-preview .vac-media-preview-container{width:calc(100% - 40px);padding:70px 20px}}.vac-col-messages{position:relative;height:100%;flex:1;overflow:hidden;display:flex;flex-flow:column}.vac-col-messages .vac-container-center{height:100%;width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center}.vac-col-messages .vac-room-empty{font-size:14px;color:#9ca6af;font-style:italic;line-height:20px;white-space:pre-line}.vac-col-messages .vac-room-empty div{padding:0 10%}.vac-col-messages .vac-container-scroll{background:var(--chat-content-bg-color);flex:1;overflow-y:auto;margin-right:1px;margin-top:60px;-webkit-overflow-scrolling:touch}.vac-col-messages .vac-container-scroll.vac-scroll-smooth{scroll-behavior:smooth}.vac-col-messages .vac-messages-container{padding:0 5px 5px}.vac-col-messages .vac-text-started{font-size:14px;color:var(--chat-message-color-started);font-style:italic;text-align:center;margin-top:30px;margin-bottom:20px}.vac-col-messages .vac-icon-scroll{position:absolute;bottom:80px;right:20px;padding:8px;background:var(--chat-bg-scroll-icon);border-radius:50%;box-shadow:0 1px 1px -1px #0003,0 1px 1px #00000024,0 1px 2px #0000001f;display:flex;cursor:pointer;z-index:10}.vac-col-messages .vac-icon-scroll svg{height:25px;width:25px}.vac-col-messages .vac-messages-count{position:absolute;top:-8px;left:11px;background-color:var(--chat-message-bg-color-scroll-counter);color:var(--chat-message-color-scroll-counter)}.vac-col-messages .vac-messages-hidden{opacity:0}@media only screen and (max-width: 768px){.vac-col-messages .vac-container-scroll{margin-top:50px}.vac-col-messages .vac-text-started{margin-top:20px}.vac-col-messages .vac-icon-scroll{bottom:70px}}.vac-room-header{position:absolute;display:flex;align-items:center;height:64px;width:100%;z-index:10;margin-right:1px;background:var(--chat-header-bg-color);border-top-right-radius:var(--chat-container-border-radius)}.vac-room-header .vac-room-wrapper{display:flex;align-items:center;min-width:0;height:100%;width:100%;padding:0 16px}.vac-room-header .vac-toggle-button{margin-right:15px}.vac-room-header .vac-toggle-button svg{height:26px;width:26px}.vac-room-header .vac-rotate-icon{transform:rotate(180deg)!important}.vac-room-header .vac-rotate-icon-init{transform:rotate(360deg)}.vac-room-header .vac-info-wrapper,.vac-room-header .vac-room-selection{display:flex;align-items:center;min-width:0;width:100%;height:100%}.vac-room-header .vac-room-selection .vac-selection-button{padding:8px 16px;color:var(--chat-color-button);background-color:var(--chat-bg-color-button);border-radius:4px;margin-right:10px;cursor:pointer;transition:all .2s}.vac-room-header .vac-room-selection .vac-selection-button:hover{opacity:.7}.vac-room-header .vac-room-selection .vac-selection-button:active{opacity:.9}.vac-room-header .vac-room-selection .vac-selection-button .vac-selection-button-count{margin-left:6px;opacity:.9}.vac-room-header .vac-room-selection .vac-selection-cancel{display:flex;align-items:center;margin-left:auto;white-space:nowrap;color:var(--chat-color-button-clear);transition:all .2s}.vac-room-header .vac-room-selection .vac-selection-cancel:hover{opacity:.7}.vac-room-header .vac-room-name{font-size:17px;font-weight:500;line-height:22px;color:var(--chat-header-color-name)}.vac-room-header .vac-room-info{font-size:13px;line-height:18px;color:var(--chat-header-color-info)}.vac-room-header .vac-room-options{margin-left:auto}@media only screen and (max-width: 768px){.vac-room-header{height:50px}.vac-room-header .vac-room-wrapper{padding:0 10px}.vac-room-header .vac-room-name{font-size:16px;line-height:22px}.vac-room-header .vac-room-info{font-size:12px;line-height:16px}.vac-room-header .vac-avatar{height:37px;width:37px;min-height:37px;min-width:37px}}.vac-room-footer{width:100%;border-bottom-right-radius:4px;z-index:10}.vac-box-footer{display:flex;position:relative;background:var(--chat-footer-bg-color);padding:10px 8px}.vac-textarea{height:20px;width:100%;line-height:20px;overflow:hidden;outline:0;resize:none;border-radius:20px;padding:12px 16px;box-sizing:content-box;font-size:16px;background:var(--chat-bg-color-input);color:var(--chat-color);caret-color:var(--chat-color-caret);border:var(--chat-border-style-input)}.vac-textarea::placeholder{color:var(--chat-color-placeholder);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.vac-textarea-outline{border:1px solid var(--chat-border-color-input-selected);box-shadow:inset 0 0 0 1px var(--chat-border-color-input-selected)}.vac-icon-textarea,.vac-icon-textarea-left{display:flex;align-items:center}.vac-icon-textarea svg,.vac-icon-textarea .vac-wrapper,.vac-icon-textarea-left svg,.vac-icon-textarea-left .vac-wrapper{margin:0 7px}.vac-icon-textarea{margin-left:5px}.vac-icon-textarea-left{display:flex;align-items:center;margin-right:5px}.vac-icon-textarea-left svg,.vac-icon-textarea-left .vac-wrapper{margin:0 7px}.vac-icon-textarea-left .vac-icon-microphone{fill:var(--chat-icon-color-microphone);margin:0 7px}.vac-icon-textarea-left .vac-dot-audio-record{height:15px;width:15px;border-radius:50%;background-color:var(--chat-message-bg-color-audio-record);animation:vac-scaling .8s ease-in-out infinite alternate}@keyframes vac-scaling{0%{transform:scale(1);opacity:.4}to{transform:scale(1.1);opacity:1}}.vac-icon-textarea-left .vac-dot-audio-record-time{font-size:16px;color:var(--chat-color);margin-left:8px;width:45px}.vac-icon-textarea-left .vac-icon-audio-stop,.vac-icon-textarea-left .vac-icon-audio-confirm{min-height:28px;min-width:28px}.vac-icon-textarea-left .vac-icon-audio-stop svg,.vac-icon-textarea-left .vac-icon-audio-confirm svg{min-height:28px;min-width:28px}.vac-icon-textarea-left .vac-icon-audio-stop{margin-right:20px}.vac-icon-textarea-left .vac-icon-audio-stop #vac-icon-close-outline{fill:var(--chat-icon-color-audio-cancel)}.vac-icon-textarea-left .vac-icon-audio-confirm{margin-right:3px;margin-left:12px}.vac-icon-textarea-left .vac-icon-audio-confirm #vac-icon-checkmark{fill:var(--chat-icon-color-audio-confirm)}.vac-send-disabled,.vac-send-disabled svg{cursor:none!important;pointer-events:none!important;transform:none!important}@media only screen and (max-width: 768px){.vac-room-footer{width:100%}.vac-box-footer{padding:7px 2px 7px 7px}.vac-box-footer.vac-box-footer-border{border-top:var(--chat-border-style-input)}.vac-textarea{padding:7px;line-height:18px}.vac-textarea::placeholder{color:transparent}.vac-icon-textarea svg,.vac-icon-textarea .vac-wrapper,.vac-icon-textarea-left svg,.vac-icon-textarea-left .vac-wrapper{margin:0 5px!important}}.vac-emojis-container{width:calc(100% - 16px);padding:10px 8px;background:var(--chat-footer-bg-color);display:flex;align-items:center;overflow:auto}.vac-emojis-container .vac-emoji-element{padding:0 8px;font-size:30px;border-radius:4px;cursor:pointer;background:var(--chat-footer-bg-color-tag);transition:background-color .3s cubic-bezier(.25,.8,.5,1)}.vac-emojis-container .vac-emoji-element-active{background:var(--chat-footer-bg-color-tag-active)}@media only screen and (max-width: 768px){.vac-emojis-container{width:calc(100% - 10px);padding:7px 5px}.vac-emojis-container .vac-emoji-element{padding:0 7px;font-size:26px}}.vac-reply-container{display:flex;padding:10px 10px 0;background:var(--chat-footer-bg-color);align-items:center;width:calc(100% - 20px)}.vac-reply-container .vac-reply-box{width:100%;overflow:hidden;background:var(--chat-footer-bg-color-reply);border-radius:4px;padding:8px 10px}.vac-reply-container .vac-reply-info{overflow:hidden}.vac-reply-container .vac-reply-username{color:var(--chat-message-color-reply-username);font-size:12px;line-height:15px;margin-bottom:2px}.vac-reply-container .vac-reply-content{font-size:12px;color:var(--chat-message-color-reply-content);white-space:pre-line}.vac-reply-container .vac-icon-reply{margin-left:10px}.vac-reply-container .vac-icon-reply svg{height:20px;width:20px}.vac-reply-container .vac-image-reply{max-height:100px;max-width:200px;margin:4px 10px 0 0;border-radius:4px}.vac-reply-container .vac-audio-reply{margin-right:10px}.vac-reply-container .vac-file-container{max-width:80px}@media only screen and (max-width: 768px){.vac-reply-container{padding:5px 8px;width:calc(100% - 16px)}}.vac-room-files-container{display:flex;align-items:center;padding:10px 6px 0;background:var(--chat-footer-bg-color)}.vac-room-files-container .vac-files-box{display:flex;overflow:auto;width:calc(100% - 30px)}.vac-room-files-container video{height:100px;border:var(--chat-border-style-input);border-radius:4px}.vac-room-files-container .vac-icon-close{margin-left:auto}.vac-room-files-container .vac-icon-close svg{height:20px;width:20px}@media only screen and (max-width: 768px){.vac-files-container{padding:6px 4px 4px 2px}}.vac-room-file-container{display:flex;position:relative;margin:0 4px}.vac-room-file-container .vac-message-image{position:relative;background-color:var(--chat-message-bg-color-image)!important;background-size:cover!important;background-position:center center!important;background-repeat:no-repeat!important;height:100px;width:100px;border:var(--chat-border-style-input);border-radius:4px}.vac-room-file-container .vac-file-container{height:80px;width:80px}.vac-room-file-container .vac-icon-remove{position:absolute;top:6px;left:6px;z-index:10}.vac-room-file-container .vac-icon-remove svg{height:20px;width:20px;border-radius:50%}.vac-room-file-container .vac-icon-remove:before{content:" ";position:absolute;width:100%;height:100%;background:rgba(0,0,0,.5);border-radius:50%;z-index:-1}.vac-tags-container{display:flex;flex-direction:column;align-items:center;width:100%}.vac-tags-container .vac-tags-box{display:flex;width:100%;height:54px;overflow:hidden;cursor:pointer;background:var(--chat-footer-bg-color-tag);transition:background-color .3s cubic-bezier(.25,.8,.5,1)}.vac-tags-container .vac-tags-box-active{background:var(--chat-footer-bg-color-tag-active)}.vac-tags-container .vac-tags-info{display:flex;overflow:hidden;padding:0 20px;align-items:center}.vac-tags-container .vac-tags-avatar{height:34px;width:34px;min-height:34px;min-width:34px}.vac-tags-container .vac-tags-username{font-size:14px}@media only screen and (max-width: 768px){.vac-tags-container .vac-tags-box{height:50px}.vac-tags-container .vac-tags-info{padding:0 12px}}.vac-template-container{display:flex;flex-direction:column;align-items:center;width:100%}.vac-template-container .vac-template-box{display:flex;width:100%;height:54px;overflow:hidden;cursor:pointer;background:var(--chat-footer-bg-color-tag);transition:background-color .3s cubic-bezier(.25,.8,.5,1)}.vac-template-container .vac-template-active{background:var(--chat-footer-bg-color-tag-active)}.vac-template-container .vac-template-info{display:flex;overflow:hidden;padding:0 20px;align-items:center}.vac-template-container .vac-template-tag{font-size:14px;font-weight:700;margin-right:10px}.vac-template-container .vac-template-text{font-size:14px}@media only screen and (max-width: 768px){.vac-template-container .vac-template-box{height:50px}.vac-template-container .vac-template-info{padding:0 12px}}.vac-rooms-container{display:flex;flex-flow:column;flex:0 0 25%;min-width:260px;max-width:500px;position:relative;background:var(--chat-sidemenu-bg-color);height:100%;border-top-left-radius:var(--chat-container-border-radius);border-bottom-left-radius:var(--chat-container-border-radius)}.vac-rooms-container.vac-rooms-container-full{flex:0 0 100%;max-width:100%}.vac-rooms-container .vac-rooms-empty{font-size:14px;color:#9ca6af;font-style:italic;text-align:center;margin:40px 0;line-height:20px;white-space:pre-line}.vac-rooms-container .vac-room-list{flex:1;position:relative;max-width:100%;cursor:pointer;padding:0 10px 5px;overflow-y:auto}.vac-rooms-container .vac-room-item{border-radius:8px;align-items:center;display:flex;flex:1 1 100%;margin-bottom:5px;padding:0 14px;position:relative;min-height:71px;transition:background-color .3s cubic-bezier(.25,.8,.5,1)}.vac-rooms-container .vac-room-item:hover{background:var(--chat-sidemenu-bg-color-hover)}.vac-rooms-container .vac-room-selected{color:var(--chat-sidemenu-color-active)!important;background:var(--chat-sidemenu-bg-color-active)!important}.vac-rooms-container .vac-room-selected:hover{background:var(--chat-sidemenu-bg-color-active)!important}@media only screen and (max-width: 768px){.vac-rooms-container .vac-room-list{padding:0 7px 5px}.vac-rooms-container .vac-room-item{min-height:60px;padding:0 8px}}.vac-room-container{display:flex;flex:1;align-items:center;width:100%}.vac-room-container .vac-name-container{flex:1}.vac-room-container .vac-title-container{display:flex;align-items:center;line-height:25px}.vac-room-container .vac-state-circle{width:9px;height:9px;border-radius:50%;background-color:var(--chat-room-color-offline);margin-right:6px;transition:.3s}.vac-room-container .vac-state-online{background-color:var(--chat-room-color-online)}.vac-room-container .vac-room-name{flex:1;color:var(--chat-room-color-username);font-weight:500}.vac-room-container .vac-text-date{margin-left:5px;font-size:11px;color:var(--chat-room-color-timestamp)}.vac-room-container .vac-text-last{display:flex;align-items:center;font-size:12px;line-height:19px;color:var(--chat-room-color-message)}.vac-room-container .vac-message-new{color:var(--chat-room-color-username);font-weight:500}.vac-room-container .vac-icon-check{display:flex;vertical-align:middle;height:14px;width:14px;margin-top:-2px;margin-right:2px}.vac-room-container .vac-icon-microphone{height:15px;width:15px;vertical-align:middle;margin:-3px 1px 0 -2px;fill:var(--chat-room-color-message)}.vac-room-container .vac-room-options-container{display:flex;margin-left:auto}.vac-room-container .vac-room-badge{background-color:var(--chat-room-bg-color-badge);color:var(--chat-room-color-badge);margin-left:5px}.vac-room-container .vac-list-room-options{height:19px;width:19px;align-items:center;margin-left:5px}.vac-box-empty{margin-top:10px}@media only screen and (max-width: 768px){.vac-box-empty{margin-top:7px}}.vac-box-search{position:sticky;display:flex;align-items:center;height:64px;padding:0 15px}.vac-box-search .vac-icon-search{display:flex;position:absolute;left:30px}.vac-box-search .vac-icon-search svg{width:18px;height:18px}.vac-box-search .vac-input{height:38px;width:100%;background:var(--chat-bg-color-input);color:var(--chat-color);font-size:15px;outline:0;caret-color:var(--chat-color-caret);padding:10px 10px 10px 40px;border:1px solid var(--chat-sidemenu-border-color-search);border-radius:20px}.vac-box-search .vac-input::placeholder{color:var(--chat-color-placeholder)}.vac-box-search .vac-add-icon{margin-left:auto;padding-left:10px}@media only screen and (max-width: 768px){.vac-box-search{height:58px}}.vac-message-wrapper .vac-card-info{border-radius:4px;text-align:center;margin:10px auto;font-size:12px;padding:4px;display:block;overflow-wrap:break-word;position:relative;white-space:normal;box-shadow:0 1px 1px -1px #0000001a,0 1px 1px -1px #0000001c,0 1px 2px -1px #0000001c}.vac-message-wrapper .vac-card-date{max-width:150px;font-weight:500;text-transform:uppercase;color:var(--chat-message-color-date);background-color:var(--chat-message-bg-color-date)}.vac-message-wrapper .vac-card-system{max-width:250px;padding:8px 4px;color:var(--chat-message-color-system);background-color:var(--chat-message-bg-color-system)}.vac-message-wrapper .vac-line-new{color:var(--chat-message-color-new-messages);position:relative;text-align:center;font-size:13px;padding:10px 0}.vac-message-wrapper .vac-line-new:after,.vac-message-wrapper .vac-line-new:before{border-top:1px solid var(--chat-message-color-new-messages);content:"";left:0;position:absolute;top:50%;width:calc(50% - 60px)}.vac-message-wrapper .vac-line-new:before{left:auto;right:0}.vac-message-wrapper .vac-message-box{display:flex;flex:0 0 50%;max-width:50%;justify-content:flex-start;line-height:1.4}.vac-message-wrapper .vac-avatar{height:28px;width:28px;min-height:28px;min-width:28px;margin:0 0 2px;align-self:flex-end}.vac-message-wrapper .vac-avatar-current-offset{margin-right:28px}.vac-message-wrapper .vac-avatar-offset{margin-left:28px}.vac-message-wrapper .vac-failure-container{position:relative;align-self:flex-end;height:20px;width:20px;margin:0 0 2px -4px;border-radius:50%;background-color:#f44336}.vac-message-wrapper .vac-failure-container.vac-failure-container-avatar{margin-right:6px}.vac-message-wrapper .vac-failure-container .vac-failure-text{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;font-size:15px;font-weight:700}.vac-message-wrapper .vac-message-container{position:relative;padding:2px 10px;align-items:end;min-width:100px;box-sizing:content-box}.vac-message-wrapper .vac-message-container-offset{margin-top:10px}.vac-message-wrapper .vac-offset-current{margin-left:50%;justify-content:flex-end}.vac-message-wrapper .vac-message-card{background-color:var(--chat-message-bg-color);color:var(--chat-message-color);border-radius:8px;font-size:14px;padding:6px 9px 3px;white-space:pre-line;max-width:100%;-webkit-transition-property:box-shadow,opacity;transition-property:box-shadow,opacity;transition:box-shadow .28s cubic-bezier(.4,0,.2,1);will-change:box-shadow;box-shadow:0 1px 1px -1px #0000001a,0 1px 1px -1px #0000001c,0 1px 2px -1px #0000001c}.vac-message-wrapper .vac-message-highlight{box-shadow:0 1px 2px -1px #0000001a,0 1px 2px -1px #0000001c,0 1px 5px -1px #0000001c}.vac-message-wrapper .vac-message-current{background-color:var(--chat-message-bg-color-me)!important}.vac-message-wrapper .vac-message-deleted{color:var(--chat-message-color-deleted)!important;font-size:13px!important;font-style:italic!important;background-color:var(--chat-message-bg-color-deleted)!important}.vac-message-wrapper .vac-message-selected{background-color:var(--chat-message-bg-color-selected)!important;transition:background-color .2s}.vac-message-wrapper .vac-message-image{position:relative;background-color:var(--chat-message-bg-color-image)!important;background-size:cover!important;background-position:center center!important;background-repeat:no-repeat!important;height:250px;width:250px;max-width:100%;border-radius:4px;margin:4px auto 5px;transition:.4s filter linear}.vac-message-wrapper .vac-text-username{font-size:13px;color:var(--chat-message-color-username);margin-bottom:2px}.vac-message-wrapper .vac-username-reply{margin-bottom:5px}.vac-message-wrapper .vac-text-timestamp{font-size:10px;color:var(--chat-message-color-timestamp);text-align:right}.vac-message-wrapper .vac-progress-time{float:left;margin:-2px 0 0 40px;color:var(--chat-color);font-size:12px}.vac-message-wrapper .vac-icon-edited{-webkit-box-align:center;align-items:center;display:-webkit-inline-box;display:inline-flex;justify-content:center;letter-spacing:normal;line-height:1;text-indent:0;vertical-align:middle;margin:0 4px 2px}.vac-message-wrapper .vac-icon-edited svg{height:12px;width:12px}.vac-message-wrapper .vac-icon-check{height:14px;width:14px;vertical-align:middle;margin:-3px -3px 0 3px}@media only screen and (max-width: 768px){.vac-message-wrapper .vac-message-container{padding:2px 3px 1px}.vac-message-wrapper .vac-message-container-offset{margin-top:10px}.vac-message-wrapper .vac-message-box{flex:0 0 80%;max-width:80%}.vac-message-wrapper .vac-avatar{height:25px;width:25px;min-height:25px;min-width:25px;margin:0 6px 1px 0}.vac-message-wrapper .vac-avatar.vac-avatar-current{margin:0 0 1px 6px}.vac-message-wrapper .vac-avatar-current-offset{margin-right:31px}.vac-message-wrapper .vac-avatar-offset{margin-left:31px}.vac-message-wrapper .vac-failure-container{margin-left:2px}.vac-message-wrapper .vac-failure-container.vac-failure-container-avatar{margin-right:0}.vac-message-wrapper .vac-offset-current{margin-left:20%}.vac-message-wrapper .vac-progress-time{margin-left:37px}}.vac-audio-player{display:flex;margin:8px 0 5px}.vac-audio-player .vac-svg-button{max-width:18px;margin-left:7px}@media only screen and (max-width: 768px){.vac-audio-player{margin:4px 0 0}.vac-audio-player .vac-svg-button{max-width:16px;margin-left:5px}}.vac-player-bar{display:flex;align-items:center;max-width:calc(100% - 18px);margin-right:7px;margin-left:20px}.vac-player-bar .vac-player-progress{width:190px}.vac-player-bar .vac-player-progress .vac-line-container{position:relative;height:4px;border-radius:5px;background-color:var(--chat-message-bg-color-audio-line)}.vac-player-bar .vac-player-progress .vac-line-container .vac-line-progress{position:absolute;height:inherit;background-color:var(--chat-message-bg-color-audio-progress);border-radius:inherit}.vac-player-bar .vac-player-progress .vac-line-container .vac-line-dot{position:absolute;top:-5px;margin-left:-7px;height:14px;width:14px;border-radius:50%;background-color:var(--chat-message-bg-color-audio-progress-selector);transition:transform .25s}.vac-player-bar .vac-player-progress .vac-line-container .vac-line-dot__active{transform:scale(1.2)}@media only screen and (max-width: 768px){.vac-player-bar{margin-right:5px}.vac-player-bar .vac-player-progress .vac-line-container{height:3px}.vac-player-bar .vac-player-progress .vac-line-container .vac-line-dot{height:12px;width:12px;top:-5px;margin-left:-5px}}.vac-message-actions-wrapper .vac-options-container{position:absolute;top:2px;right:10px;height:40px;width:70px;overflow:hidden;border-top-right-radius:8px}.vac-message-actions-wrapper .vac-blur-container{position:absolute;height:100%;width:100%;left:8px;bottom:10px;background:var(--chat-message-bg-color);filter:blur(3px);border-bottom-left-radius:8px}.vac-message-actions-wrapper .vac-options-me{background:var(--chat-message-bg-color-me)}.vac-message-actions-wrapper .vac-message-options{background:var(--chat-icon-bg-dropdown-message);border-radius:50%;position:absolute;top:7px;right:7px}.vac-message-actions-wrapper .vac-message-options svg{height:17px;width:17px;padding:5px;margin:-5px}.vac-message-actions-wrapper .vac-message-emojis{position:absolute;top:6px;right:30px}.vac-message-actions-wrapper .vac-menu-options{right:15px}.vac-message-actions-wrapper .vac-menu-left{right:-118px}@media only screen and (max-width: 768px){.vac-message-actions-wrapper .vac-options-container{right:3px}.vac-message-actions-wrapper .vac-menu-left{right:-50px}}.vac-message-files-container .vac-file-wrapper{position:relative;width:fit-content}.vac-message-files-container .vac-file-wrapper .vac-file-container{height:60px;width:60px;margin:3px 0 5px;cursor:pointer;transition:all .6s}.vac-message-files-container .vac-file-wrapper .vac-file-container:hover{opacity:.85}.vac-message-files-container .vac-file-wrapper .vac-file-container svg{height:30px;width:30px}.vac-message-files-container .vac-file-wrapper .vac-file-container.vac-file-container-progress{background-color:#0000004d}.vac-message-file-container{position:relative;z-index:0}.vac-message-file-container .vac-message-image-container{cursor:pointer}.vac-message-file-container .vac-image-buttons{position:absolute;width:100%;height:100%;border-radius:4px;background:linear-gradient(to bottom,rgba(0,0,0,0) 55%,rgba(0,0,0,.02) 60%,rgba(0,0,0,.05) 65%,rgba(0,0,0,.1) 70%,rgba(0,0,0,.2) 75%,rgba(0,0,0,.3) 80%,rgba(0,0,0,.5) 85%,rgba(0,0,0,.6) 90%,rgba(0,0,0,.7) 95%,rgba(0,0,0,.8) 100%)}.vac-message-file-container .vac-image-buttons svg{height:26px;width:26px}.vac-message-file-container .vac-image-buttons .vac-button-view,.vac-message-file-container .vac-image-buttons .vac-button-download{position:absolute;bottom:6px;left:7px}.vac-message-file-container .vac-image-buttons :first-child{left:40px}.vac-message-file-container .vac-image-buttons .vac-button-view{max-width:18px;bottom:8px}.vac-message-file-container .vac-video-container{width:350px;max-width:100%;margin:4px auto 5px;cursor:pointer}.vac-message-file-container .vac-video-container video{width:100%;height:100%;border-radius:4px}.vac-button-reaction{display:inline-flex;align-items:center;border:var(--chat-message-border-style-reaction);outline:none;background:var(--chat-message-bg-color-reaction);border-radius:4px;margin:4px 2px 0;transition:.3s;padding:0 5px;font-size:18px;line-height:23px}.vac-button-reaction span{font-size:11px;font-weight:500;min-width:7px;color:var(--chat-message-color-reaction-counter)}.vac-button-reaction:hover{border:var(--chat-message-border-style-reaction-hover);background:var(--chat-message-bg-color-reaction-hover);cursor:pointer}.vac-button-reaction.vac-reaction-me{border:var(--chat-message-border-style-reaction-me);background:var(--chat-message-bg-color-reaction-me)}.vac-button-reaction.vac-reaction-me span{color:var(--chat-message-color-reaction-counter-me)}.vac-button-reaction.vac-reaction-me:hover{border:var(--chat-message-border-style-reaction-hover-me);background:var(--chat-message-bg-color-reaction-hover-me)}.vac-reply-message{background:var(--chat-message-bg-color-reply);border-radius:4px;margin:-1px -5px 8px;padding:8px 10px}.vac-reply-message .vac-reply-username{color:var(--chat-message-color-reply-username);font-size:12px;line-height:15px;margin-bottom:2px}.vac-reply-message .vac-image-reply-container{width:70px}.vac-reply-message .vac-image-reply-container .vac-message-image-reply{height:70px;width:70px;margin:4px auto 3px}.vac-reply-message .vac-video-reply-container{width:200px;max-width:100%}.vac-reply-message .vac-video-reply-container video{width:100%;height:100%;border-radius:4px}.vac-reply-message .vac-reply-content{font-size:12px;color:var(--chat-message-color-reply-content)}.vac-reply-message .vac-file-container{height:60px;width:60px}.vac-emoji-wrapper{position:relative;display:flex}.vac-emoji-wrapper .vac-emoji-reaction svg{height:19px;width:19px}.vac-emoji-wrapper .vac-emoji-picker{position:absolute;z-index:9999;bottom:32px;right:10px;width:300px;padding-top:4px;overflow:scroll;box-sizing:border-box;border-radius:.5rem;background:var(--chat-emoji-bg-color);box-shadow:0 1px 2px -2px #0000001a,0 1px 2px -1px #0000001a,0 1px 2px 1px #0000001a;scrollbar-width:none}.vac-emoji-wrapper .vac-emoji-picker::-webkit-scrollbar{display:none}.vac-emoji-wrapper .vac-emoji-picker.vac-picker-reaction{position:fixed;top:initial;right:initial}.vac-emoji-wrapper .vac-emoji-picker emoji-picker{height:100%;width:100%;--emoji-size: 1.2rem;--background: var(--chat-emoji-bg-color);--emoji-padding: .4rem;--border-color: var(--chat-sidemenu-border-color-search);--button-hover-background: var(--chat-sidemenu-bg-color-hover);--button-active-background: var(--chat-sidemenu-bg-color-hover)}.vac-format-message-wrapper .vac-format-container{display:inline}.vac-format-message-wrapper .vac-icon-deleted{height:14px;width:14px;vertical-align:middle;margin:-2px 2px 0 0;fill:var(--chat-message-color-deleted)}.vac-format-message-wrapper .vac-icon-deleted.vac-icon-deleted-room{margin:-3px 1px 0 0;fill:var(--chat-room-color-message)}.vac-format-message-wrapper .vac-image-link-container{background-color:var(--chat-message-bg-color-media);padding:8px;margin:2px auto;border-radius:4px}.vac-format-message-wrapper .vac-image-link{position:relative;background-color:var(--chat-message-bg-color-image)!important;background-size:contain;background-position:center center!important;background-repeat:no-repeat!important;height:150px;width:150px;max-width:100%;border-radius:4px;margin:0 auto}.vac-format-message-wrapper .vac-image-link-message{max-width:166px;font-size:12px}.vac-loader-wrapper.vac-container-center{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);z-index:9}.vac-loader-wrapper.vac-container-top{padding:21px}.vac-loader-wrapper.vac-container-top #vac-circle{height:20px;width:20px}.vac-loader-wrapper #vac-circle{margin:auto;height:28px;width:28px;border:3px rgba(0,0,0,.25) solid;border-top:3px var(--chat-color-spinner) solid;border-right:3px var(--chat-color-spinner) solid;border-bottom:3px var(--chat-color-spinner) solid;border-radius:50%;-webkit-animation:vac-spin 1s infinite linear;animation:vac-spin 1s infinite linear}@media only screen and (max-width: 768px){.vac-loader-wrapper #vac-circle{height:24px;width:24px}.vac-loader-wrapper.vac-container-top{padding:18px}.vac-loader-wrapper.vac-container-top #vac-circle{height:16px;width:16px}}@-webkit-keyframes vac-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes vac-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}#vac-icon-search{fill:var(--chat-icon-color-search)}#vac-icon-add{fill:var(--chat-icon-color-add)}#vac-icon-toggle{fill:var(--chat-icon-color-toggle)}#vac-icon-menu{fill:var(--chat-icon-color-menu)}#vac-icon-close{fill:var(--chat-icon-color-close)}#vac-icon-close-image{fill:var(--chat-icon-color-close-image)}#vac-icon-file{fill:var(--chat-icon-color-file)}#vac-icon-paperclip{fill:var(--chat-icon-color-paperclip)}#vac-icon-close-outline{fill:var(--chat-icon-color-close-outline)}#vac-icon-close-outline-preview{fill:var(--chat-icon-color-close-preview)}#vac-icon-send{fill:var(--chat-icon-color-send)}#vac-icon-send-disabled{fill:var(--chat-icon-color-send-disabled)}#vac-icon-emoji{fill:var(--chat-icon-color-emoji)}#vac-icon-emoji-reaction{fill:var(--chat-icon-color-emoji-reaction)}#vac-icon-document{fill:var(--chat-icon-color-document)}#vac-icon-pencil{fill:var(--chat-icon-color-pencil)}#vac-icon-checkmark,#vac-icon-double-checkmark{fill:var(--chat-icon-color-checkmark)}#vac-icon-checkmark-seen,#vac-icon-double-checkmark-seen{fill:var(--chat-icon-color-checkmark-seen)}#vac-icon-eye{fill:var(--chat-icon-color-eye)}#vac-icon-dropdown-message{fill:var(--chat-icon-color-dropdown-message)}#vac-icon-dropdown-room{fill:var(--chat-icon-color-dropdown-room)}#vac-icon-dropdown-scroll{fill:var(--chat-icon-color-dropdown-scroll)}#vac-icon-audio-play{fill:var(--chat-icon-color-audio-play)}#vac-icon-audio-pause{fill:var(--chat-icon-color-audio-pause)}.vac-progress-wrapper{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);z-index:9}.vac-progress-wrapper circle{transition:stroke-dashoffset .35s;transform:rotate(-90deg);transform-origin:50% 50%}.vac-progress-wrapper .vac-progress-content{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);z-index:-1;margin-top:-2px;background-color:#000000b3;border-radius:50%}.vac-progress-wrapper .vac-progress-content .vac-progress-text{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);font-weight:700;color:#fff}.vac-progress-wrapper .vac-progress-content .vac-progress-text .vac-progress-pourcent{font-size:9px;font-weight:400}
`;const tM={name:"ChatContainer",components:{RoomsList:_6,Room:qA,MediaPreview:GA},props:{height:{type:String,default:"600px"},theme:{type:String,default:"light"},styles:{type:[Object,String],default:()=>({})},responsiveBreakpoint:{type:Number,default:900},singleRoom:{type:[Boolean,String],default:!1},roomsListOpened:{type:[Boolean,String],default:!0},textMessages:{type:[Object,String],default:()=>({})},currentUserId:{type:String,default:""},rooms:{type:[Array,String],default:()=>[]},roomsOrder:{type:String,default:"desc"},loadingRooms:{type:[Boolean,String],default:!1},roomsLoaded:{type:[Boolean,String],default:!1},roomId:{type:String,default:null},loadFirstRoom:{type:[Boolean,String],default:!0},messages:{type:[Array,String],default:()=>[]},messagesLoaded:{type:[Boolean,String],default:!1},roomActions:{type:[Array,String],default:()=>[]},menuActions:{type:[Array,String],default:()=>[]},messageActions:{type:[Array,String],default:()=>[{name:"replyMessage",title:"Reply"},{name:"editMessage",title:"Edit Message",onlyMe:!0},{name:"deleteMessage",title:"Delete Message",onlyMe:!0},{name:"selectMessages",title:"Select"}]},messageSelectionActions:{type:[Array,String],default:()=>[]},autoScroll:{type:[Object,String],default:()=>({send:{new:!0,newAfterScrollUp:!0},receive:{new:!0,newAfterScrollUp:!1}})},showSearch:{type:[Boolean,String],default:!0},showAddRoom:{type:[Boolean,String],default:!0},showSendIcon:{type:[Boolean,String],default:!0},showFiles:{type:[Boolean,String],default:!0},showAudio:{type:[Boolean,String],default:!0},audioBitRate:{type:Number,default:128},audioSampleRate:{type:Number,default:44100},showEmojis:{type:[Boolean,String],default:!0},showReactionEmojis:{type:[Boolean,String],default:!0},showNewMessagesDivider:{type:[Boolean,String],default:!0},showFooter:{type:[Boolean,String],default:!0},textFormatting:{type:[Object,String],default:()=>({disabled:!1,italic:"_",bold:"*",strike:"~",underline:"\xB0",multilineCode:"```",inlineCode:"`"})},linkOptions:{type:[Object,String],default:()=>({disabled:!1,target:"_blank",rel:null})},roomInfoEnabled:{type:[Boolean,String],default:!1},textareaActionEnabled:{type:[Boolean,String],default:!1},textareaAutoFocus:{type:[Boolean,String],default:!0},userTagsEnabled:{type:[Boolean,String],default:!0},emojisSuggestionEnabled:{type:[Boolean,String],default:!0},roomMessage:{type:String,default:""},scrollDistance:{type:Number,default:60},acceptedFiles:{type:String,default:"*"},templatesText:{type:[Array,String],default:()=>[]},mediaPreviewEnabled:{type:[Boolean,String],default:!0},usernameOptions:{type:[Object,String],default:()=>({minUsers:3,currentUser:!1})}},emits:["toggle-rooms-list","room-info","fetch-messages","send-message","edit-message","delete-message","open-file","open-user-tag","open-failed-message","menu-action-handler","message-action-handler","send-message-reaction","typing-message","textarea-action-handler","fetch-more-rooms","add-room","room-action-handler","message-selection-action-handler"],data(){return{slots:[],room:{},loadingMoreRooms:!1,showRoomsList:!0,isMobile:!1,showMediaPreview:!1,previewFile:{}}},computed:{t(){return{...ZA,...this.textMessagesCasted}},cssVars(){const e=QA[this.theme],t={};return Object.keys(e).map(s=>{t[s]={...e[s],...this.stylesCasted[s]||{}}}),JA(t)},orderedRooms(){return this.roomsCasted.slice().sort((e,t)=>{const s=e.index||0,n=t.index||0;return this.roomsOrder==="asc"?s<n?-1:n<s?1:0:s>n?-1:n>s?1:0})},singleRoomCasted(){return this.castBoolean(this.singleRoom)},roomsListOpenedCasted(){return this.castBoolean(this.roomsListOpened)},loadingRoomsCasted(){return this.castBoolean(this.loadingRooms)},roomsLoadedCasted(){return this.castBoolean(this.roomsLoaded)},loadFirstRoomCasted(){return this.castBoolean(this.loadFirstRoom)},messagesLoadedCasted(){return this.castBoolean(this.messagesLoaded)},showSearchCasted(){return this.castBoolean(this.showSearch)},showAddRoomCasted(){return this.castBoolean(this.showAddRoom)},showSendIconCasted(){return this.castBoolean(this.showSendIcon)},showFilesCasted(){return this.castBoolean(this.showFiles)},showAudioCasted(){return this.castBoolean(this.showAudio)},showEmojisCasted(){return this.castBoolean(this.showEmojis)},showReactionEmojisCasted(){return this.castBoolean(this.showReactionEmojis)},showNewMessagesDividerCasted(){return this.castBoolean(this.showNewMessagesDivider)},showFooterCasted(){return this.castBoolean(this.showFooter)},roomInfoEnabledCasted(){return this.castBoolean(this.roomInfoEnabled)},textareaActionEnabledCasted(){return this.castBoolean(this.textareaActionEnabled)},textareaAutoFocusCasted(){return this.castBoolean(this.textareaAutoFocus)},userTagsEnabledCasted(){return this.castBoolean(this.userTagsEnabled)},emojisSuggestionEnabledCasted(){return this.castBoolean(this.emojisSuggestionEnabled)},mediaPreviewEnabledCasted(){return this.castBoolean(this.mediaPreviewEnabled)},roomsCasted(){return this.castArray(this.rooms)},messagesCasted(){return this.castArray(this.messages)},roomActionsCasted(){return this.castArray(this.roomActions)},menuActionsCasted(){return this.castArray(this.menuActions)},messageActionsCasted(){return this.castArray(this.messageActions)},messageSelectionActionsCasted(){return this.castArray(this.messageSelectionActions)},templatesTextCasted(){return this.castArray(this.templatesText)},stylesCasted(){return this.castObject(this.styles)},textMessagesCasted(){return this.castObject(this.textMessages)},autoScrollCasted(){return this.castObject(this.autoScroll)},textFormattingCasted(){return this.castObject(this.textFormatting)},linkOptionsCasted(){return this.castObject(this.linkOptions)},usernameOptionsCasted(){return this.castObject(this.usernameOptions)}},watch:{roomsCasted:{immediate:!0,deep:!0,handler(e,t){if((!e[0]||!e.find(s=>s.roomId===this.room.roomId))&&(this.showRoomsList=!0),!this.loadingMoreRooms&&this.loadFirstRoomCasted&&e[0]&&(!t||e.length!==t.length))if(this.roomId){const s=e.find(n=>n.roomId===this.roomId)||{};this.fetchRoom({room:s})}else!this.isMobile||this.singleRoomCasted?this.fetchRoom({room:this.orderedRooms[0]}):this.showRoomsList=!0}},loadingRoomsCasted(e){e&&(this.room={})},roomId:{immediate:!0,handler(e,t){if(e&&!this.loadingRoomsCasted&&this.roomsCasted.length){const s=this.roomsCasted.find(n=>n.roomId===e);this.fetchRoom({room:s})}else t&&!e&&(this.room={})}},room(e){!e||Object.entries(e).length===0||(pA(e),e.users.forEach(t=>{vA(t)}))},roomsListOpenedCasted:{immediate:!0,handler(e){this.showRoomsList=e}}},created(){this.updateResponsive(),window.addEventListener("resize",e=>{e.isTrusted&&this.updateResponsive()})},updated(){const e=document.querySelectorAll("[slot]");this.slots.length!==e.length&&(this.slots=e)},methods:{castBoolean(e){return e==="true"||e===!0},castArray(e){return e?Array.isArray(e)?e:JSON.parse(e):[]},castObject(e){return e?typeof e=="object"?e:JSON.parse(e):{}},updateResponsive(){this.isMobile=window.innerWidth<Number(this.responsiveBreakpoint)},toggleRoomsList(){this.showRoomsList=!this.showRoomsList,this.isMobile&&(this.room={}),this.$emit("toggle-rooms-list",{opened:this.showRoomsList})},fetchRoom({room:e}){this.room=e,this.fetchMessages({reset:!0}),this.isMobile&&(this.showRoomsList=!1)},fetchMoreRooms(){this.$emit("fetch-more-rooms")},roomInfo(){this.$emit("room-info",this.room)},addRoom(){this.$emit("add-room")},fetchMessages(e){this.$emit("fetch-messages",{room:this.room,options:e})},sendMessage(e){this.$emit("send-message",{...e,roomId:this.room.roomId})},editMessage(e){this.$emit("edit-message",{...e,roomId:this.room.roomId})},deleteMessage(e){this.$emit("delete-message",{message:e,roomId:this.room.roomId})},openFile({message:e,file:t}){this.mediaPreviewEnabledCasted&&t.action==="preview"?(this.previewFile=t.file,this.showMediaPreview=!0):this.$emit("open-file",{message:e,file:t})},openUserTag({user:e}){this.$emit("open-user-tag",{user:e})},openFailedMessage({message:e}){this.$emit("open-failed-message",{message:e,roomId:this.room.roomId})},menuActionHandler(e){this.$emit("menu-action-handler",{action:e,roomId:this.room.roomId})},roomActionHandler({action:e,roomId:t}){this.$emit("room-action-handler",{action:e,roomId:t})},messageActionHandler(e){this.$emit("message-action-handler",{...e,roomId:this.room.roomId})},messageSelectionActionHandler(e){this.$emit("message-selection-action-handler",{...e,roomId:this.room.roomId})},sendMessageReaction(e){this.$emit("send-message-reaction",{...e,roomId:this.room.roomId})},typingMessage(e){this.$emit("typing-message",{message:e,roomId:this.room.roomId})},textareaActionHandler(e){this.$emit("textarea-action-handler",{message:e,roomId:this.room.roomId})}}},sM={class:"vac-chat-container"};function nM(e,t,s,n,o,r){const i=st("rooms-list"),l=st("room"),d=st("media-preview");return pe(),xe("div",{class:"vac-card-window",style:At([{height:s.height},r.cssVars])},[je("div",sM,[r.singleRoomCasted?Ye("",!0):(pe(),kt(i,{key:0,"current-user-id":s.currentUserId,rooms:r.orderedRooms,"loading-rooms":r.loadingRoomsCasted,"rooms-loaded":r.roomsLoadedCasted,room:o.room,"room-actions":r.roomActionsCasted,"text-messages":r.t,"show-search":r.showSearchCasted,"show-add-room":r.showAddRoomCasted,"show-rooms-list":o.showRoomsList&&r.roomsListOpenedCasted,"text-formatting":r.textFormattingCasted,"link-options":r.linkOptionsCasted,"is-mobile":o.isMobile,"scroll-distance":s.scrollDistance,onFetchRoom:r.fetchRoom,onFetchMoreRooms:r.fetchMoreRooms,onLoadingMoreRooms:t[0]||(t[0]=c=>o.loadingMoreRooms=c),onAddRoom:r.addRoom,onRoomActionHandler:r.roomActionHandler},Lt({_:2},[ut(o.slots,c=>({name:c.slot,fn:tt(f=>[ze(e.$slots,c.slot,Bt(Tt(f)))])}))]),1032,["current-user-id","rooms","loading-rooms","rooms-loaded","room","room-actions","text-messages","show-search","show-add-room","show-rooms-list","text-formatting","link-options","is-mobile","scroll-distance","onFetchRoom","onFetchMoreRooms","onAddRoom","onRoomActionHandler"])),$e(l,{"current-user-id":s.currentUserId,rooms:r.roomsCasted,"room-id":o.room.roomId||"","load-first-room":r.loadFirstRoomCasted,messages:r.messagesCasted,"room-message":s.roomMessage,"messages-loaded":r.messagesLoadedCasted,"menu-actions":r.menuActionsCasted,"message-actions":r.messageActionsCasted,"message-selection-actions":r.messageSelectionActionsCasted,"auto-scroll":r.autoScrollCasted,"show-send-icon":r.showSendIconCasted,"show-files":r.showFilesCasted,"show-audio":r.showAudioCasted,"audio-bit-rate":s.audioBitRate,"audio-sample-rate":s.audioSampleRate,"show-emojis":r.showEmojisCasted,"show-reaction-emojis":r.showReactionEmojisCasted,"show-new-messages-divider":r.showNewMessagesDividerCasted,"show-footer":r.showFooterCasted,"text-messages":r.t,"single-room":r.singleRoomCasted,"show-rooms-list":o.showRoomsList&&r.roomsListOpenedCasted,"text-formatting":r.textFormattingCasted,"link-options":r.linkOptionsCasted,"is-mobile":o.isMobile,"loading-rooms":r.loadingRoomsCasted,"room-info-enabled":r.roomInfoEnabledCasted,"textarea-action-enabled":r.textareaActionEnabledCasted,"textarea-auto-focus":r.textareaAutoFocusCasted,"user-tags-enabled":r.userTagsEnabledCasted,"emojis-suggestion-enabled":r.emojisSuggestionEnabledCasted,"scroll-distance":s.scrollDistance,"accepted-files":s.acceptedFiles,"templates-text":r.templatesTextCasted,"username-options":r.usernameOptionsCasted,onToggleRoomsList:r.toggleRoomsList,onRoomInfo:r.roomInfo,onFetchMessages:r.fetchMessages,onSendMessage:r.sendMessage,onEditMessage:r.editMessage,onDeleteMessage:r.deleteMessage,onOpenFile:r.openFile,onOpenUserTag:r.openUserTag,onOpenFailedMessage:r.openFailedMessage,onMenuActionHandler:r.menuActionHandler,onMessageActionHandler:r.messageActionHandler,onMessageSelectionActionHandler:r.messageSelectionActionHandler,onSendMessageReaction:r.sendMessageReaction,onTypingMessage:r.typingMessage,onTextareaActionHandler:r.textareaActionHandler},Lt({_:2},[ut(o.slots,c=>({name:c.slot,fn:tt(f=>[ze(e.$slots,c.slot,Bt(Tt(f)))])}))]),1032,["current-user-id","rooms","room-id","load-first-room","messages","room-message","messages-loaded","menu-actions","message-actions","message-selection-actions","auto-scroll","show-send-icon","show-files","show-audio","audio-bit-rate","audio-sample-rate","show-emojis","show-reaction-emojis","show-new-messages-divider","show-footer","text-messages","single-room","show-rooms-list","text-formatting","link-options","is-mobile","loading-rooms","room-info-enabled","textarea-action-enabled","textarea-auto-focus","user-tags-enabled","emojis-suggestion-enabled","scroll-distance","accepted-files","templates-text","username-options","onToggleRoomsList","onRoomInfo","onFetchMessages","onSendMessage","onEditMessage","onDeleteMessage","onOpenFile","onOpenUserTag","onOpenFailedMessage","onMenuActionHandler","onMessageActionHandler","onMessageSelectionActionHandler","onSendMessageReaction","onTypingMessage","onTextareaActionHandler"])]),$e(Wt,{name:"vac-fade-preview",appear:""},{default:tt(()=>[o.showMediaPreview?(pe(),kt(d,{key:0,file:o.previewFile,onCloseMediaPreview:t[1]||(t[1]=c=>o.showMediaPreview=!1)},Lt({_:2},[ut(o.slots,c=>({name:c.slot,fn:tt(f=>[ze(e.$slots,c.slot,Bt(Tt(f)))])}))]),1032,["file"])):Ye("",!0)]),_:3})],4)}var rM=Ut(tM,[["render",nM],["styles",[eM]]]);const oM=q9(rM),X0="vue-advanced-chat";function iM(){customElements.get(X0)||customElements.define(X0,oM)}const An={},aM=["January","February","March","April","May","June","July","August","September","October","November","December"];An.getTimeStamp=()=>{const e=new Date,t=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes();return e.getHours()+":"+t};An.getDate=()=>{const e=new Date,t=aM[e.getMonth()],s=e.getDate()<10?"0"+e.getDate():e.getDate();return t+" "+s};const cl="/web-chat/assets/logo.8ed2abd5.svg",fc=Fl("UserStore",()=>{let e=0,t=localStorage.getItem("username")||"",s="",n=!1,o="1234",r=cl,i={state:"online",lastChanged:"today, 14:30"},l=[{_id:o,userId:o,avatar:cl,username:t,status:{state:"online",lastChanged:"today, 14:30"}}];function d(u){this.username=u,localStorage.setItem("username",u)}function c(u){this.lastUserId+=1;const v={};return v._id=this.lastUserId,v.userId=this.lastUserId,v.username=u,v.avatar=cl,v.status={state:"online",lastChanged:"today, "+An.getTimeStamp()},this.users.push(v),v.userId}function f(u){return this.users.find(v=>v.userId==u)}return{lastUserId:e,username:t,password:s,isLoggedIn:n,userId:o,avatar:r,status:i,users:l,login:d,addUser:c,findUser:f}}),lM="/web-chat/assets/dog_profile.7e907d64.jpg",cM="/web-chat/assets/camel.095a355b.png",Iv=Fl("RoomStore",()=>{const e=fc(),t=Bv();let s="3";const n=e.findUser(e.userId),o=[{roomId:"1",roomName:"\uB9CC\uAE08\uC774",avatar:lM,unreadCount:0,lastMessage:{_id:"1",content:"Hello~"+e.username,senderId:"4321",username:"\uB9CC\uAE08\uC774",timestamp:"10:20",saved:!0,distributed:!1,seen:!1,new:!0},users:[{_id:"4321",username:"\uB9CC\uAE08\uC774",avatar:"@/assets/logo.svg",status:{state:"online",lastChanged:"today, 14:30"}},n],typingUsers:[e.userId],currentUserId:e.userId},{roomId:"2",roomName:"\uB099\uD0C0",avatar:cM,unreadCount:0,lastMessage:{_id:"2",roomId:"2",content:"Room created",date:An.getDate(),system:!0,timestamp:"07:07"},users:[n,{_id:"4321",username:"\uB099\uD0C0",avatar:"@/assets/logo.svg",status:{state:"online",lastChanged:"14 July, 20:00"}}],typingUsers:[1234],currentUserId:e.userId}];function r(d){const c=this.rooms.find(f=>f.roomId==d.roomId);c.lastMessage=d}function i(d){const c=e.findUser(d),f=e.findUser(e.userId);this.lastIndex+=1;const u={roomId:this.lastIndex,roomName:c.username,avatar:c.avatar,unreadCount:0,index:0,lastMessage:{content:"room created",timestamp:An.getTimeStamp()},users:[c,f],typingUsers:[e.userId],currentUserId:e.userId};return t.addRoomCreatedMessage(this.lastIndex),this.rooms=[...this.rooms,u],this.rooms}function l(d){const c=this.rooms.filter(f=>f.roomId!==d);return this.rooms=c,c}return{rooms:o,lastIndex:s,updateRoomMessage:r,addRoom:i,deleteRoom:l}}),Bv=Fl("MessageStore",()=>{const e=Iv(),t=fc();let s="2",n=[{_id:"0",senderId:"0",roomId:"1",content:"Room created",date:"25 April",system:!0,disableReactions:!0},{_id:"1",roomId:"1",content:"Hello~"+t.username,senderId:"4321",username:"\uB9CC\uAE08\uC774",timestamp:"23:18",saved:!0,distributed:!1,seen:!1,new:!0,date:"25 April",disableReactions:!0},{_id:"2",senderId:"0",roomId:"2",timestamp:"07:07",content:"Room created",date:An.getDate(),system:!0,disableReactions:!0}];function o(f,u,v,w,a){s++;const j={};return j._id=s,j.content=f,j.roomId=u,j.files=v,j.replyMessage=w,j.date=An.getDate(),j.timestamp=An.getTimeStamp(),j.senderId=a,j.saved=!0,j.seen=!1,j.new=!0,j.username=t.username,j.distributed=!1,j.disableReactions=!0,this.messages=[...this.messages,j],e.updateRoomMessage(j),this.messages}function r(f){s++;const u={};u._id=s,u.roomId=f,u.content="Room created",u.date=An.getDate(),u.timestamp=An.getTimeStamp(),u.senderId="0",u.system=!0,this.messages=[...this.messages,u]}function i(){return this.messages}function l(f){return this.messages.filter(u=>u.roomId==f)}function d(f){const u=this.messages.filter(v=>v._id!=f);this.messages=u}function c(f,u){return this.messages.map(v=>{v._id==f&&(v.content=u,v.edited=new Date)}),this.messages}return{messages:n,addMessage:o,getMessage:i,getRoomMessages:l,addRoomCreatedMessage:r,deleteMessage:d,editMessage:c}});const uM=["disabled"],dM=["current-user-id","rooms","messages","room-actions","height","messagesLoaded","room-id","message-selection-actions"];iM();const fM={data(){return{currentUserId:"1234",rooms:this.roomStore.rooms,roomsLoaded:!0,messagesLoaded:!1,messageSelectionActions:[{name:"deleteMessages",title:"Delete"}],loadingRooms:!1,messages:[],disableForm:!1,addNewRoom:null,addRoomUsername:"",inviteRoomId:null,invitedUsername:"",removeRoomId:null,removeUserId:"",removeUsers:[],roomActions:[{name:"deleteRoom",title:"Delete Room"}],messageSelectionActions:[{name:"deleteMessages",title:"Delete"}],roomId:""}},methods:{async sendMessage({content:e,roomId:t,files:s,replyMessage:n}){await this.messageStore.addMessage(e,t,s,n,this.currentUserId),this.messagesLoaded=!0,this.messages=this.messageStore.getRoomMessages(t)},fetchMessages({room:e,options:t={}}){setTimeout(async()=>{this.roomId=e.roomId,this.messages=await this.messageStore.getRoomMessages(e.roomId),this.messagesLoaded=!0})},addRoom(){this.addNewRoom=!0},async createRoom(){const e=await this.userStore.addUser(this.addRoomUsername);this.addNewRoom=!1,this.addRoomUsername="";const t=await this.roomStore.addRoom(e);this.rooms=t},menuActionHandler({action:e,roomId:t}){switch(e.name){case"deleteRoom":return this.deleteRoom(t)}},messageSelectionActionHandler({action:e,messages:t,roomId:s}){switch(e.name){case"deleteMessages":t.forEach(n=>{this.deleteMessage({message:n,roomId:s})})}},deleteRoom(e){this.rooms=this.roomStore.deleteRoom(e),this.roomId=this.rooms[0].roomId},deleteMessage({message:e,roomId:t}){this.messageStore.deleteMessage(e._id),this.messages=this.messageStore.getRoomMessages(t)},editMessage({messageId:e,newContent:t,roomId:s,files:n}){this.messageStore.editMessage(e,t),this.messages=this.messageStore.getRoomMessages(s)}}},hM=Object.assign(fM,{__name:"HomeView",setup(e){return Bv(),Iv(),fc(),(t,s)=>(Di(),du(_n,null,[t.addNewRoom?(Di(),du("form",{key:0,onSubmit:s[2]||(s[2]=Kh((...n)=>t.createRoom&&t.createRoom(...n),["prevent"])),class:xl({newRoomForm:!0})},[Th(ws("input",{"onUpdate:modelValue":s[0]||(s[0]=n=>zt(addRoomUsername)?addRoomUsername.value=n:null),type:"text",placeholder:"Add username"},null,512),[[zh,t.addRoomUsername]]),ws("button",{type:"submit",disabled:t.disableForm||!t.addRoomUsername}," Create Room ",8,uM),ws("button",{class:"button-cancel",onClick:s[1]||(s[1]=n=>t.addNewRoom=!1)},"Cancel")],32)):d3("",!0),ws("vue-advanced-chat",{"current-user-id":t.currentUserId,rooms:JSON.stringify(t.rooms),messages:JSON.stringify(t.messages),"room-actions":JSON.stringify(t.roomActions),height:"calc(100vh - 10vh)","rooms-loaded":!0,messagesLoaded:t.messagesLoaded,"room-id":t.roomId,"message-selection-actions":JSON.stringify(t.messageSelectionActions),onSendMessage:s[3]||(s[3]=n=>t.sendMessage(n.detail[0])),onFetchMessages:s[4]||(s[4]=n=>t.fetchMessages(n.detail[0])),onAddRoom:s[5]||(s[5]=n=>t.addRoom(n.detail[0])),onRoomActionHandler:s[6]||(s[6]=n=>t.menuActionHandler(n.detail[0])),onMessageSelectionActionHandler:s[7]||(s[7]=n=>t.messageSelectionActionHandler(n.detail[0])),onDeleteMessage:s[8]||(s[8]=n=>t.deleteMessage(n.detail[0])),onEditMessage:s[9]||(s[9]=n=>t.editMessage(n.detail[0]))},null,40,dM)],64))}});const mM={class:"login"},pM={class:"content"},vM=ws("div",{class:"icon-wrap"},[ws("img",{alt:"logo image",class:"logo",src:cl,width:"75",height:"75"})],-1),gM=ws("h2",{class:"title"},"\uC0AC\uB791\uD558\uB294 \uC0AC\uB78C\uB4E4\uACFC \uC18C\uD1B5\uD574\uBCF4\uC138\uC694.",-1),_M={class:"login-form-wrap"},bM=ws("div",{class:"button-wrap"},[ws("button",{type:"submit",value:"1",class:"login-button"},"\uACC4\uC18D")],-1),yM=fc(),wM={data(){return{name:"as",password:""}},methods:{login(){console.log(this.name),this.name.length>0?(yM.login(this.name),this.$router.push("/home")):this.$swal({icon:"error",title:"Oops...",text:"\uC774\uB984\uC740 2\uAE00\uC790 \uC774\uC0C1 \uC785\uB825\uD574\uC8FC\uC138\uC694!"})}}},SM=Object.assign(wM,{__name:"LoginView",setup(e){return(t,s)=>(Di(),du("div",mM,[ws("div",pM,[vM,gM,ws("div",_M,[ws("form",{class:"login-form",onSubmit:s[1]||(s[1]=Kh((...n)=>t.login&&t.login(...n),["prevent"]))},[Th(ws("input",{"onUpdate:modelValue":s[0]||(s[0]=n=>zt(name)?name.value=n:null),type:"text",class:"login-input",placeholder:"name"},null,512),[[zh,t.name]]),bM],32)])])]))}}),Lv=Yb({history:ub("/web-chat/"),routes:[{path:"/",name:"login",component:SM},{path:"/about",name:"about",component:()=>t4(()=>import("./AboutView.0e424ba4.js"),["assets/AboutView.0e424ba4.js","assets/AboutView.4d995ba2.css"])},{path:"/home",name:"home",component:hM}]});Lv.beforeEach(e=>{});var rr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pv={exports:{}};/*!
* sweetalert2 v11.4.0
* Released under the MIT License.
*/(function(e,t){(function(s,n){e.exports=n()})(rr,function(){const s="SweetAlert2:",n=h=>{const m=[];for(let C=0;C<h.length;C++)m.indexOf(h[C])===-1&&m.push(h[C]);return m},o=h=>h.charAt(0).toUpperCase()+h.slice(1),r=h=>Array.prototype.slice.call(h),i=h=>{console.warn("".concat(s," ").concat(typeof h=="object"?h.join(" "):h))},l=h=>{console.error("".concat(s," ").concat(h))},d=[],c=h=>{d.includes(h)||(d.push(h),i(h))},f=(h,m)=>{c('"'.concat(h,'" is deprecated and will be removed in the next major release. Please use "').concat(m,'" instead.'))},u=h=>typeof h=="function"?h():h,v=h=>h&&typeof h.toPromise=="function",w=h=>v(h)?h.toPromise():Promise.resolve(h),a=h=>h&&Promise.resolve(h)===h,j={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},N=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],P={},g=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],I=h=>Object.prototype.hasOwnProperty.call(j,h),F=h=>N.indexOf(h)!==-1,O=h=>P[h],q=h=>{I(h)||i('Unknown parameter "'.concat(h,'"'))},_=h=>{g.includes(h)&&i('The parameter "'.concat(h,'" is incompatible with toasts'))},k=h=>{O(h)&&f(h,O(h))},R=h=>{!h.backdrop&&h.allowOutsideClick&&i('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const m in h)q(m),h.toast&&_(m),k(m)},y="swal2-",A=h=>{const m={};for(const C in h)m[h[C]]=y+h[C];return m},p=A(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),S=A(["success","warning","info","question","error"]),x=()=>document.body.querySelector(".".concat(p.container)),M=h=>{const m=x();return m?m.querySelector(h):null},D=h=>M(".".concat(h)),Y=()=>D(p.popup),V=()=>D(p.icon),X=()=>D(p.title),b=()=>D(p["html-container"]),T=()=>D(p.image),ie=()=>D(p["progress-steps"]),ce=()=>D(p["validation-message"]),Te=()=>M(".".concat(p.actions," .").concat(p.confirm)),te=()=>M(".".concat(p.actions," .").concat(p.deny)),ve=()=>D(p["input-label"]),oe=()=>M(".".concat(p.loader)),Re=()=>M(".".concat(p.actions," .").concat(p.cancel)),Oe=()=>D(p.actions),Se=()=>D(p.footer),Fe=()=>D(p["timer-progress-bar"]),Ke=()=>D(p.close),E=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,B=()=>{const h=r(Y().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((C,G)=>{const Ne=parseInt(C.getAttribute("tabindex")),et=parseInt(G.getAttribute("tabindex"));return Ne>et?1:Ne<et?-1:0}),m=r(Y().querySelectorAll(E)).filter(C=>C.getAttribute("tabindex")!=="-1");return n(h.concat(m)).filter(C=>K(C))},$=()=>!re(document.body,p["toast-shown"])&&!re(document.body,p["no-backdrop"]),W=()=>Y()&&re(Y(),p.toast),Z=()=>Y().hasAttribute("data-loading"),ue={previousBodyPadding:null},de=(h,m)=>{if(h.textContent="",m){const G=new DOMParser().parseFromString(m,"text/html");r(G.querySelector("head").childNodes).forEach(Ne=>{h.appendChild(Ne)}),r(G.querySelector("body").childNodes).forEach(Ne=>{h.appendChild(Ne)})}},re=(h,m)=>{if(!m)return!1;const C=m.split(/\s+/);for(let G=0;G<C.length;G++)if(!h.classList.contains(C[G]))return!1;return!0},fe=(h,m)=>{r(h.classList).forEach(C=>{!Object.values(p).includes(C)&&!Object.values(S).includes(C)&&!Object.values(m.showClass).includes(C)&&h.classList.remove(C)})},J=(h,m,C)=>{if(fe(h,m),m.customClass&&m.customClass[C]){if(typeof m.customClass[C]!="string"&&!m.customClass[C].forEach)return i("Invalid type of customClass.".concat(C,'! Expected string or iterable object, got "').concat(typeof m.customClass[C],'"'));ye(h,m.customClass[C])}},ke=(h,m)=>{if(!m)return null;switch(m){case"select":case"textarea":case"file":return h.querySelector(".".concat(p.popup," > .").concat(p[m]));case"checkbox":return h.querySelector(".".concat(p.popup," > .").concat(p.checkbox," input"));case"radio":return h.querySelector(".".concat(p.popup," > .").concat(p.radio," input:checked"))||h.querySelector(".".concat(p.popup," > .").concat(p.radio," input:first-child"));case"range":return h.querySelector(".".concat(p.popup," > .").concat(p.range," input"));default:return h.querySelector(".".concat(p.popup," > .").concat(p.input))}},_e=h=>{if(h.focus(),h.type!=="file"){const m=h.value;h.value="",h.value=m}},Ce=(h,m,C)=>{!h||!m||(typeof m=="string"&&(m=m.split(/\s+/).filter(Boolean)),m.forEach(G=>{Array.isArray(h)?h.forEach(Ne=>{C?Ne.classList.add(G):Ne.classList.remove(G)}):C?h.classList.add(G):h.classList.remove(G)}))},ye=(h,m)=>{Ce(h,m,!0)},He=(h,m)=>{Ce(h,m,!1)},he=(h,m)=>{const C=r(h.childNodes);for(let G=0;G<C.length;G++)if(re(C[G],m))return C[G]},Ee=(h,m,C)=>{C==="".concat(parseInt(C))&&(C=parseInt(C)),C||parseInt(C)===0?h.style[m]=typeof C=="number"?"".concat(C,"px"):C:h.style.removeProperty(m)},ne=function(h){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";h.style.display=m},Ie=h=>{h.style.display="none"},L=(h,m,C,G)=>{const Ne=h.querySelector(m);Ne&&(Ne.style[C]=G)},U=(h,m,C)=>{m?ne(h,C):Ie(h)},K=h=>!!(h&&(h.offsetWidth||h.offsetHeight||h.getClientRects().length)),Q=()=>!K(Te())&&!K(te())&&!K(Re()),ee=h=>h.scrollHeight>h.clientHeight,z=h=>{const m=window.getComputedStyle(h),C=parseFloat(m.getPropertyValue("animation-duration")||"0"),G=parseFloat(m.getPropertyValue("transition-duration")||"0");return C>0||G>0},ae=function(h){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const C=Fe();K(C)&&(m&&(C.style.transition="none",C.style.width="100%"),setTimeout(()=>{C.style.transition="width ".concat(h/1e3,"s linear"),C.style.width="0%"},10))},me=()=>{const h=Fe(),m=parseInt(window.getComputedStyle(h).width);h.style.removeProperty("transition"),h.style.width="100%";const C=parseInt(window.getComputedStyle(h).width),G=m/C*100;h.style.removeProperty("transition"),h.style.width="".concat(G,"%")},le=()=>typeof window>"u"||typeof document>"u",Ae=100,se={},Me=()=>{se.previousActiveElement&&se.previousActiveElement.focus?(se.previousActiveElement.focus(),se.previousActiveElement=null):document.body&&document.body.focus()},qe=h=>new Promise(m=>{if(!h)return m();const C=window.scrollX,G=window.scrollY;se.restoreFocusTimeout=setTimeout(()=>{Me(),m()},Ae),window.scrollTo(C,G)}),Ze=`
 <div aria-labelledby="`.concat(p.title,'" aria-describedby="').concat(p["html-container"],'" class="').concat(p.popup,`" tabindex="-1">
   <button type="button" class="`).concat(p.close,`"></button>
   <ul class="`).concat(p["progress-steps"],`"></ul>
   <div class="`).concat(p.icon,`"></div>
   <img class="`).concat(p.image,`" />
   <h2 class="`).concat(p.title,'" id="').concat(p.title,`"></h2>
   <div class="`).concat(p["html-container"],'" id="').concat(p["html-container"],`"></div>
   <input class="`).concat(p.input,`" />
   <input type="file" class="`).concat(p.file,`" />
   <div class="`).concat(p.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(p.select,`"></select>
   <div class="`).concat(p.radio,`"></div>
   <label for="`).concat(p.checkbox,'" class="').concat(p.checkbox,`">
     <input type="checkbox" />
     <span class="`).concat(p.label,`"></span>
   </label>
   <textarea class="`).concat(p.textarea,`"></textarea>
   <div class="`).concat(p["validation-message"],'" id="').concat(p["validation-message"],`"></div>
   <div class="`).concat(p.actions,`">
     <div class="`).concat(p.loader,`"></div>
     <button type="button" class="`).concat(p.confirm,`"></button>
     <button type="button" class="`).concat(p.deny,`"></button>
     <button type="button" class="`).concat(p.cancel,`"></button>
   </div>
   <div class="`).concat(p.footer,`"></div>
   <div class="`).concat(p["timer-progress-bar-container"],`">
     <div class="`).concat(p["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),Le=()=>{const h=x();return h?(h.remove(),He([document.documentElement,document.body],[p["no-backdrop"],p["toast-shown"],p["has-column"]]),!0):!1},Ge=()=>{se.currentInstance.resetValidationMessage()},be=()=>{const h=Y(),m=he(h,p.input),C=he(h,p.file),G=h.querySelector(".".concat(p.range," input")),Ne=h.querySelector(".".concat(p.range," output")),et=he(h,p.select),ts=h.querySelector(".".concat(p.checkbox," input")),Ls=he(h,p.textarea);m.oninput=Ge,C.onchange=Ge,et.onchange=Ge,ts.onchange=Ge,Ls.oninput=Ge,G.oninput=()=>{Ge(),Ne.value=G.value},G.onchange=()=>{Ge(),G.nextSibling.value=G.value}},Xe=h=>typeof h=="string"?document.querySelector(h):h,ot=h=>{const m=Y();m.setAttribute("role",h.toast?"alert":"dialog"),m.setAttribute("aria-live",h.toast?"polite":"assertive"),h.toast||m.setAttribute("aria-modal","true")},Pe=h=>{window.getComputedStyle(h).direction==="rtl"&&ye(x(),p.rtl)},We=h=>{const m=Le();if(le()){l("SweetAlert2 requires document to initialize");return}const C=document.createElement("div");C.className=p.container,m&&ye(C,p["no-transition"]),de(C,Ze);const G=Xe(h.target);G.appendChild(C),ot(h),Pe(G),be()},Be=(h,m)=>{h instanceof HTMLElement?m.appendChild(h):typeof h=="object"?Qe(h,m):h&&de(m,h)},Qe=(h,m)=>{h.jquery?Ct(m,h):de(m,h.toString())},Ct=(h,m)=>{if(h.textContent="",0 in m)for(let C=0;C in m;C++)h.appendChild(m[C].cloneNode(!0));else h.appendChild(m.cloneNode(!0))},De=(()=>{if(le())return!1;const h=document.createElement("div"),m={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const C in m)if(Object.prototype.hasOwnProperty.call(m,C)&&typeof h.style[C]<"u")return m[C];return!1})(),rt=()=>{const h=document.createElement("div");h.className=p["scrollbar-measure"],document.body.appendChild(h);const m=h.getBoundingClientRect().width-h.clientWidth;return document.body.removeChild(h),m},lt=(h,m)=>{const C=Oe(),G=oe();!m.showConfirmButton&&!m.showDenyButton&&!m.showCancelButton?Ie(C):ne(C),J(C,m,"actions"),qt(C,G,m),de(G,m.loaderHtml),J(G,m,"loader")};function qt(h,m,C){const G=Te(),Ne=te(),et=Re();$t(G,"confirm",C),$t(Ne,"deny",C),$t(et,"cancel",C),ps(G,Ne,et,C),C.reverseButtons&&(C.toast?(h.insertBefore(et,G),h.insertBefore(Ne,G)):(h.insertBefore(et,m),h.insertBefore(Ne,m),h.insertBefore(G,m)))}function ps(h,m,C,G){if(!G.buttonsStyling)return He([h,m,C],p.styled);ye([h,m,C],p.styled),G.confirmButtonColor&&(h.style.backgroundColor=G.confirmButtonColor,ye(h,p["default-outline"])),G.denyButtonColor&&(m.style.backgroundColor=G.denyButtonColor,ye(m,p["default-outline"])),G.cancelButtonColor&&(C.style.backgroundColor=G.cancelButtonColor,ye(C,p["default-outline"]))}function $t(h,m,C){U(h,C["show".concat(o(m),"Button")],"inline-block"),de(h,C["".concat(m,"ButtonText")]),h.setAttribute("aria-label",C["".concat(m,"ButtonAriaLabel")]),h.className=p[m],J(h,C,"".concat(m,"Button")),ye(h,C["".concat(m,"ButtonClass")])}function Vt(h,m){typeof m=="string"?h.style.background=m:m||ye([document.documentElement,document.body],p["no-backdrop"])}function as(h,m){m in p?ye(h,p[m]):(i('The "position" parameter is not valid, defaulting to "center"'),ye(h,p.center))}function vs(h,m){if(m&&typeof m=="string"){const C="grow-".concat(m);C in p&&ye(h,p[C])}}const gs=(h,m)=>{const C=x();!C||(Vt(C,m.backdrop),as(C,m.position),vs(C,m.grow),J(C,m,"container"))};var nt={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const Bs=["input","file","range","select","radio","checkbox","textarea"],es=(h,m)=>{const C=Y(),G=nt.innerParams.get(h),Ne=!G||m.input!==G.input;Bs.forEach(et=>{const ts=p[et],Ls=he(C,ts);ti(et,m.inputAttributes),Ls.className=ts,Ne&&Ie(Ls)}),m.input&&(Ne&&Vs(m),wa(m))},Vs=h=>{if(!ns[h.input])return l('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(h.input,'"'));const m=Pt(h.input),C=ns[h.input](m,h);ne(C),setTimeout(()=>{_e(C)})},Kn=h=>{for(let m=0;m<h.attributes.length;m++){const C=h.attributes[m].name;["type","value","style"].includes(C)||h.removeAttribute(C)}},ti=(h,m)=>{const C=ke(Y(),h);if(!!C){Kn(C);for(const G in m)C.setAttribute(G,m[G])}},wa=h=>{const m=Pt(h.input);h.customClass&&ye(m,h.customClass.input)},uo=(h,m)=>{(!h.placeholder||m.inputPlaceholder)&&(h.placeholder=m.inputPlaceholder)},Yn=(h,m,C)=>{if(C.inputLabel){h.id=p.input;const G=document.createElement("label"),Ne=p["input-label"];G.setAttribute("for",h.id),G.className=Ne,ye(G,C.customClass.inputLabel),G.innerText=C.inputLabel,m.insertAdjacentElement("beforebegin",G)}},Pt=h=>{const m=p[h]?p[h]:p.input;return he(Y(),m)},ns={};ns.text=ns.email=ns.password=ns.number=ns.tel=ns.url=(h,m)=>(typeof m.inputValue=="string"||typeof m.inputValue=="number"?h.value=m.inputValue:a(m.inputValue)||i('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof m.inputValue,'"')),Yn(h,h,m),uo(h,m),h.type=m.input,h),ns.file=(h,m)=>(Yn(h,h,m),uo(h,m),h),ns.range=(h,m)=>{const C=h.querySelector("input"),G=h.querySelector("output");return C.value=m.inputValue,C.type=m.input,G.value=m.inputValue,Yn(C,h,m),h},ns.select=(h,m)=>{if(h.textContent="",m.inputPlaceholder){const C=document.createElement("option");de(C,m.inputPlaceholder),C.value="",C.disabled=!0,C.selected=!0,h.appendChild(C)}return Yn(h,h,m),h},ns.radio=h=>(h.textContent="",h),ns.checkbox=(h,m)=>{const C=ke(Y(),"checkbox");C.value="1",C.id=p.checkbox,C.checked=Boolean(m.inputValue);const G=h.querySelector("span");return de(G,m.inputPlaceholder),h},ns.textarea=(h,m)=>{h.value=m.inputValue,uo(h,m),Yn(h,h,m);const C=G=>parseInt(window.getComputedStyle(G).marginLeft)+parseInt(window.getComputedStyle(G).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const G=parseInt(window.getComputedStyle(Y()).width),Ne=()=>{const et=h.offsetWidth+C(h);et>G?Y().style.width="".concat(et,"px"):Y().style.width=null};new MutationObserver(Ne).observe(h,{attributes:!0,attributeFilter:["style"]})}}),h};const Sa=(h,m)=>{const C=b();J(C,m,"htmlContainer"),m.html?(Be(m.html,C),ne(C,"block")):m.text?(C.textContent=m.text,ne(C,"block")):Ie(C),es(h,m)},si=(h,m)=>{const C=Se();U(C,m.footer),m.footer&&Be(m.footer,C),J(C,m,"footer")},ni=(h,m)=>{const C=Ke();de(C,m.closeButtonHtml),J(C,m,"closeButton"),U(C,m.showCloseButton),C.setAttribute("aria-label",m.closeButtonAriaLabel)},Ea=(h,m)=>{const C=nt.innerParams.get(h),G=V();if(C&&m.icon===C.icon){fo(G,m),Xn(G,m);return}if(!m.icon&&!m.iconHtml)return Ie(G);if(m.icon&&Object.keys(S).indexOf(m.icon)===-1)return l('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(m.icon,'"')),Ie(G);ne(G),fo(G,m),Xn(G,m),ye(G,m.showClass.icon)},Xn=(h,m)=>{for(const C in S)m.icon!==C&&He(h,S[C]);ye(h,S[m.icon]),oi(h,m),mc(),J(h,m,"icon")},mc=()=>{const h=Y(),m=window.getComputedStyle(h).getPropertyValue("background-color"),C=h.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let G=0;G<C.length;G++)C[G].style.backgroundColor=m},Zt=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,ri=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,fo=(h,m)=>{h.textContent="",m.iconHtml?de(h,rs(m.iconHtml)):m.icon==="success"?de(h,Zt):m.icon==="error"?de(h,ri):de(h,rs({question:"?",warning:"!",info:"i"}[m.icon]))},oi=(h,m)=>{if(!!m.iconColor){h.style.color=m.iconColor,h.style.borderColor=m.iconColor;for(const C of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])L(h,C,"backgroundColor",m.iconColor);L(h,".swal2-success-ring","borderColor",m.iconColor)}},rs=h=>'<div class="'.concat(p["icon-content"],'">').concat(h,"</div>"),Ar=(h,m)=>{const C=T();if(!m.imageUrl)return Ie(C);ne(C,""),C.setAttribute("src",m.imageUrl),C.setAttribute("alt",m.imageAlt),Ee(C,"width",m.imageWidth),Ee(C,"height",m.imageHeight),C.className=p.image,J(C,m,"image")},Tn=h=>{const m=document.createElement("li");return ye(m,p["progress-step"]),de(m,h),m},ii=h=>{const m=document.createElement("li");return ye(m,p["progress-step-line"]),h.progressStepsDistance&&(m.style.width=h.progressStepsDistance),m},kn=(h,m)=>{const C=ie();if(!m.progressSteps||m.progressSteps.length===0)return Ie(C);ne(C),C.textContent="",m.currentProgressStep>=m.progressSteps.length&&i("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),m.progressSteps.forEach((G,Ne)=>{const et=Tn(G);if(C.appendChild(et),Ne===m.currentProgressStep&&ye(et,p["active-progress-step"]),Ne!==m.progressSteps.length-1){const ts=ii(m);C.appendChild(ts)}})},ai=(h,m)=>{const C=X();U(C,m.title||m.titleText,"block"),m.title&&Be(m.title,C),m.titleText&&(C.innerText=m.titleText),J(C,m,"title")},Mr=(h,m)=>{const C=x(),G=Y();m.toast?(Ee(C,"width",m.width),G.style.width="100%",G.insertBefore(oe(),V())):Ee(G,"width",m.width),Ee(G,"padding",m.padding),m.color&&(G.style.color=m.color),m.background&&(G.style.background=m.background),Ie(ce()),xr(G,m)},xr=(h,m)=>{h.className="".concat(p.popup," ").concat(K(h)?m.showClass.popup:""),m.toast?(ye([document.documentElement,document.body],p["toast-shown"]),ye(h,p.toast)):ye(h,p.modal),J(h,m,"popup"),typeof m.customClass=="string"&&ye(h,m.customClass),m.icon&&ye(h,p["icon-".concat(m.icon)])},Rr=(h,m)=>{Mr(h,m),gs(h,m),kn(h,m),Ea(h,m),Ar(h,m),ai(h,m),ni(h,m),Sa(h,m),lt(h,m),si(h,m),typeof m.didRender=="function"&&m.didRender(Y())},Zs=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Nv=()=>{r(document.body.children).forEach(m=>{m===x()||m.contains(x())||(m.hasAttribute("aria-hidden")&&m.setAttribute("data-previous-aria-hidden",m.getAttribute("aria-hidden")),m.setAttribute("aria-hidden","true"))})},a1=()=>{r(document.body.children).forEach(m=>{m.hasAttribute("data-previous-aria-hidden")?(m.setAttribute("aria-hidden",m.getAttribute("data-previous-aria-hidden")),m.removeAttribute("data-previous-aria-hidden")):m.removeAttribute("aria-hidden")})},l1=["swal-title","swal-html","swal-footer"],jv=h=>{const m=typeof h.template=="string"?document.querySelector(h.template):h.template;if(!m)return{};const C=m.content;return $v(C),Object.assign(Fv(C),Hv(C),Uv(C),Dv(C),qv(C),Vv(C,l1))},Fv=h=>{const m={};return r(h.querySelectorAll("swal-param")).forEach(C=>{Tr(C,["name","value"]);const G=C.getAttribute("name"),Ne=C.getAttribute("value");typeof j[G]=="boolean"&&Ne==="false"&&(m[G]=!1),typeof j[G]=="object"&&(m[G]=JSON.parse(Ne))}),m},Hv=h=>{const m={};return r(h.querySelectorAll("swal-button")).forEach(C=>{Tr(C,["type","color","aria-label"]);const G=C.getAttribute("type");m["".concat(G,"ButtonText")]=C.innerHTML,m["show".concat(o(G),"Button")]=!0,C.hasAttribute("color")&&(m["".concat(G,"ButtonColor")]=C.getAttribute("color")),C.hasAttribute("aria-label")&&(m["".concat(G,"ButtonAriaLabel")]=C.getAttribute("aria-label"))}),m},Uv=h=>{const m={},C=h.querySelector("swal-image");return C&&(Tr(C,["src","width","height","alt"]),C.hasAttribute("src")&&(m.imageUrl=C.getAttribute("src")),C.hasAttribute("width")&&(m.imageWidth=C.getAttribute("width")),C.hasAttribute("height")&&(m.imageHeight=C.getAttribute("height")),C.hasAttribute("alt")&&(m.imageAlt=C.getAttribute("alt"))),m},Dv=h=>{const m={},C=h.querySelector("swal-icon");return C&&(Tr(C,["type","color"]),C.hasAttribute("type")&&(m.icon=C.getAttribute("type")),C.hasAttribute("color")&&(m.iconColor=C.getAttribute("color")),m.iconHtml=C.innerHTML),m},qv=h=>{const m={},C=h.querySelector("swal-input");C&&(Tr(C,["type","label","placeholder","value"]),m.input=C.getAttribute("type")||"text",C.hasAttribute("label")&&(m.inputLabel=C.getAttribute("label")),C.hasAttribute("placeholder")&&(m.inputPlaceholder=C.getAttribute("placeholder")),C.hasAttribute("value")&&(m.inputValue=C.getAttribute("value")));const G=h.querySelectorAll("swal-input-option");return G.length&&(m.inputOptions={},r(G).forEach(Ne=>{Tr(Ne,["value"]);const et=Ne.getAttribute("value"),ts=Ne.innerHTML;m.inputOptions[et]=ts})),m},Vv=(h,m)=>{const C={};for(const G in m){const Ne=m[G],et=h.querySelector(Ne);et&&(Tr(et,[]),C[Ne.replace(/^swal-/,"")]=et.innerHTML.trim())}return C},$v=h=>{const m=l1.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);r(h.children).forEach(C=>{const G=C.tagName.toLowerCase();m.indexOf(G)===-1&&i("Unrecognized element <".concat(G,">"))})},Tr=(h,m)=>{r(h.attributes).forEach(C=>{m.indexOf(C.name)===-1&&i(['Unrecognized attribute "'.concat(C.name,'" on <').concat(h.tagName.toLowerCase(),">."),"".concat(m.length?"Allowed attributes are: ".concat(m.join(", ")):"To set the value, use HTML within the element.")])})};var c1={email:(h,m)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(h)?Promise.resolve():Promise.resolve(m||"Invalid email address"),url:(h,m)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(h)?Promise.resolve():Promise.resolve(m||"Invalid URL")};function zv(h){h.inputValidator||Object.keys(c1).forEach(m=>{h.input===m&&(h.inputValidator=c1[m])})}function Kv(h){(!h.target||typeof h.target=="string"&&!document.querySelector(h.target)||typeof h.target!="string"&&!h.target.appendChild)&&(i('Target parameter is not valid, defaulting to "body"'),h.target="body")}function Yv(h){zv(h),h.showLoaderOnConfirm&&!h.preConfirm&&i(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Kv(h),typeof h.title=="string"&&(h.title=h.title.split(`
`).join("<br />")),We(h)}class Xv{constructor(m,C){this.callback=m,this.remaining=C,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(m){const C=this.running;return C&&this.stop(),this.remaining+=m,C&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Wv=()=>{ue.previousBodyPadding===null&&document.body.scrollHeight>window.innerHeight&&(ue.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(ue.previousBodyPadding+rt(),"px"))},Gv=()=>{ue.previousBodyPadding!==null&&(document.body.style.paddingRight="".concat(ue.previousBodyPadding,"px"),ue.previousBodyPadding=null)},Zv=()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!re(document.body,p.iosfix)){const m=document.body.scrollTop;document.body.style.top="".concat(m*-1,"px"),ye(document.body,p.iosfix),Jv(),Qv()}},Qv=()=>{const h=navigator.userAgent,m=!!h.match(/iPad/i)||!!h.match(/iPhone/i),C=!!h.match(/WebKit/i);m&&C&&!h.match(/CriOS/i)&&Y().scrollHeight>window.innerHeight-44&&(x().style.paddingBottom="".concat(44,"px"))},Jv=()=>{const h=x();let m;h.ontouchstart=C=>{m=e2(C)},h.ontouchmove=C=>{m&&(C.preventDefault(),C.stopPropagation())}},e2=h=>{const m=h.target,C=x();return t2(h)||s2(h)?!1:m===C||!ee(C)&&m.tagName!=="INPUT"&&m.tagName!=="TEXTAREA"&&!(ee(b())&&b().contains(m))},t2=h=>h.touches&&h.touches.length&&h.touches[0].touchType==="stylus",s2=h=>h.touches&&h.touches.length>1,n2=()=>{if(re(document.body,p.iosfix)){const h=parseInt(document.body.style.top,10);He(document.body,p.iosfix),document.body.style.top="",document.body.scrollTop=h*-1}},u1=10,r2=h=>{const m=x(),C=Y();typeof h.willOpen=="function"&&h.willOpen(C);const Ne=window.getComputedStyle(document.body).overflowY;a2(m,C,h),setTimeout(()=>{o2(m,C)},u1),$()&&(i2(m,h.scrollbarPadding,Ne),Nv()),!W()&&!se.previousActiveElement&&(se.previousActiveElement=document.activeElement),typeof h.didOpen=="function"&&setTimeout(()=>h.didOpen(C)),He(m,p["no-transition"])},d1=h=>{const m=Y();if(h.target!==m)return;const C=x();m.removeEventListener(De,d1),C.style.overflowY="auto"},o2=(h,m)=>{De&&z(m)?(h.style.overflowY="hidden",m.addEventListener(De,d1)):h.style.overflowY="auto"},i2=(h,m,C)=>{Zv(),m&&C!=="hidden"&&Wv(),setTimeout(()=>{h.scrollTop=0})},a2=(h,m,C)=>{ye(h,C.showClass.backdrop),m.style.setProperty("opacity","0","important"),ne(m,"grid"),setTimeout(()=>{ye(m,C.showClass.popup),m.style.removeProperty("opacity")},u1),ye([document.documentElement,document.body],p.shown),C.heightAuto&&C.backdrop&&!C.toast&&ye([document.documentElement,document.body],p["height-auto"])},ho=h=>{let m=Y();m||new xa,m=Y();const C=oe();W()?Ie(V()):l2(m,h),ne(C),m.setAttribute("data-loading",!0),m.setAttribute("aria-busy",!0),m.focus()},l2=(h,m)=>{const C=Oe(),G=oe();!m&&K(Te())&&(m=Te()),ne(C),m&&(Ie(m),G.setAttribute("data-button-to-replace",m.className)),G.parentNode.insertBefore(G,m),ye([h,C],p.loading)},c2=(h,m)=>{m.input==="select"||m.input==="radio"?m2(h,m):["text","email","number","tel","textarea"].includes(m.input)&&(v(m.inputValue)||a(m.inputValue))&&(ho(Te()),p2(h,m))},u2=(h,m)=>{const C=h.getInput();if(!C)return null;switch(m.input){case"checkbox":return d2(C);case"radio":return f2(C);case"file":return h2(C);default:return m.inputAutoTrim?C.value.trim():C.value}},d2=h=>h.checked?1:0,f2=h=>h.checked?h.value:null,h2=h=>h.files.length?h.getAttribute("multiple")!==null?h.files:h.files[0]:null,m2=(h,m)=>{const C=Y(),G=Ne=>v2[m.input](C,pc(Ne),m);v(m.inputOptions)||a(m.inputOptions)?(ho(Te()),w(m.inputOptions).then(Ne=>{h.hideLoading(),G(Ne)})):typeof m.inputOptions=="object"?G(m.inputOptions):l("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof m.inputOptions))},p2=(h,m)=>{const C=h.getInput();Ie(C),w(m.inputValue).then(G=>{C.value=m.input==="number"?parseFloat(G)||0:"".concat(G),ne(C),C.focus(),h.hideLoading()}).catch(G=>{l("Error in inputValue promise: ".concat(G)),C.value="",ne(C),C.focus(),h.hideLoading()})},v2={select:(h,m,C)=>{const G=he(h,p.select),Ne=(et,ts,Ls)=>{const _s=document.createElement("option");_s.value=Ls,de(_s,ts),_s.selected=f1(Ls,C.inputValue),et.appendChild(_s)};m.forEach(et=>{const ts=et[0],Ls=et[1];if(Array.isArray(Ls)){const _s=document.createElement("optgroup");_s.label=ts,_s.disabled=!1,G.appendChild(_s),Ls.forEach(po=>Ne(_s,po[1],po[0]))}else Ne(G,Ls,ts)}),G.focus()},radio:(h,m,C)=>{const G=he(h,p.radio);m.forEach(et=>{const ts=et[0],Ls=et[1],_s=document.createElement("input"),po=document.createElement("label");_s.type="radio",_s.name=p.radio,_s.value=ts,f1(ts,C.inputValue)&&(_s.checked=!0);const Sc=document.createElement("span");de(Sc,Ls),Sc.className=p.label,po.appendChild(_s),po.appendChild(Sc),G.appendChild(po)});const Ne=G.querySelectorAll("input");Ne.length&&Ne[0].focus()}},pc=h=>{const m=[];return typeof Map<"u"&&h instanceof Map?h.forEach((C,G)=>{let Ne=C;typeof Ne=="object"&&(Ne=pc(Ne)),m.push([G,Ne])}):Object.keys(h).forEach(C=>{let G=h[C];typeof G=="object"&&(G=pc(G)),m.push([C,G])}),m},f1=(h,m)=>m&&m.toString()===h.toString(),g2=h=>{const m=nt.innerParams.get(h);h.disableButtons(),m.input?h1(h,"confirm"):gc(h,!0)},_2=h=>{const m=nt.innerParams.get(h);h.disableButtons(),m.returnInputValueOnDeny?h1(h,"deny"):vc(h,!1)},b2=(h,m)=>{h.disableButtons(),m(Zs.cancel)},h1=(h,m)=>{const C=nt.innerParams.get(h);if(!C.input)return l('The "input" parameter is needed to be set when using returnInputValueOn'.concat(o(m)));const G=u2(h,C);C.inputValidator?y2(h,G,m):h.getInput().checkValidity()?m==="deny"?vc(h,G):gc(h,G):(h.enableButtons(),h.showValidationMessage(C.validationMessage))},y2=(h,m,C)=>{const G=nt.innerParams.get(h);h.disableInput(),Promise.resolve().then(()=>w(G.inputValidator(m,G.validationMessage))).then(et=>{h.enableButtons(),h.enableInput(),et?h.showValidationMessage(et):C==="deny"?vc(h,m):gc(h,m)})},vc=(h,m)=>{const C=nt.innerParams.get(h||void 0);C.showLoaderOnDeny&&ho(te()),C.preDeny?(nt.awaitingPromise.set(h||void 0,!0),Promise.resolve().then(()=>w(C.preDeny(m,C.validationMessage))).then(Ne=>{Ne===!1?h.hideLoading():h.closePopup({isDenied:!0,value:typeof Ne>"u"?m:Ne})}).catch(Ne=>p1(h||void 0,Ne))):h.closePopup({isDenied:!0,value:m})},m1=(h,m)=>{h.closePopup({isConfirmed:!0,value:m})},p1=(h,m)=>{h.rejectPromise(m)},gc=(h,m)=>{const C=nt.innerParams.get(h||void 0);C.showLoaderOnConfirm&&ho(),C.preConfirm?(h.resetValidationMessage(),nt.awaitingPromise.set(h||void 0,!0),Promise.resolve().then(()=>w(C.preConfirm(m,C.validationMessage))).then(Ne=>{K(ce())||Ne===!1?h.hideLoading():m1(h,typeof Ne>"u"?m:Ne)}).catch(Ne=>p1(h||void 0,Ne))):m1(h,m)},w2=(h,m,C)=>{nt.innerParams.get(h).toast?S2(h,m,C):(A2(m),M2(m),x2(h,m,C))},S2=(h,m,C)=>{m.popup.onclick=()=>{const G=nt.innerParams.get(h);G&&(E2(G)||G.timer||G.input)||C(Zs.close)}},E2=h=>h.showConfirmButton||h.showDenyButton||h.showCancelButton||h.showCloseButton;let Aa=!1;const A2=h=>{h.popup.onmousedown=()=>{h.container.onmouseup=function(m){h.container.onmouseup=void 0,m.target===h.container&&(Aa=!0)}}},M2=h=>{h.container.onmousedown=()=>{h.popup.onmouseup=function(m){h.popup.onmouseup=void 0,(m.target===h.popup||h.popup.contains(m.target))&&(Aa=!0)}}},x2=(h,m,C)=>{m.container.onclick=G=>{const Ne=nt.innerParams.get(h);if(Aa){Aa=!1;return}G.target===m.container&&u(Ne.allowOutsideClick)&&C(Zs.backdrop)}},R2=()=>K(Y()),v1=()=>Te()&&Te().click(),T2=()=>te()&&te().click(),k2=()=>Re()&&Re().click(),C2=(h,m,C,G)=>{m.keydownTarget&&m.keydownHandlerAdded&&(m.keydownTarget.removeEventListener("keydown",m.keydownHandler,{capture:m.keydownListenerCapture}),m.keydownHandlerAdded=!1),C.toast||(m.keydownHandler=Ne=>I2(h,Ne,G),m.keydownTarget=C.keydownListenerCapture?window:Y(),m.keydownListenerCapture=C.keydownListenerCapture,m.keydownTarget.addEventListener("keydown",m.keydownHandler,{capture:m.keydownListenerCapture}),m.keydownHandlerAdded=!0)},_c=(h,m,C)=>{const G=B();if(G.length)return m=m+C,m===G.length?m=0:m===-1&&(m=G.length-1),G[m].focus();Y().focus()},g1=["ArrowRight","ArrowDown"],O2=["ArrowLeft","ArrowUp"],I2=(h,m,C)=>{const G=nt.innerParams.get(h);!G||(G.stopKeydownPropagation&&m.stopPropagation(),m.key==="Enter"?B2(h,m,G):m.key==="Tab"?L2(m,G):[...g1,...O2].includes(m.key)?P2(m.key):m.key==="Escape"&&N2(m,G,C))},B2=(h,m,C)=>{if(!(!u(C.allowEnterKey)||m.isComposing)&&m.target&&h.getInput()&&m.target.outerHTML===h.getInput().outerHTML){if(["textarea","file"].includes(C.input))return;v1(),m.preventDefault()}},L2=(h,m)=>{const C=h.target,G=B();let Ne=-1;for(let et=0;et<G.length;et++)if(C===G[et]){Ne=et;break}h.shiftKey?_c(m,Ne,-1):_c(m,Ne,1),h.stopPropagation(),h.preventDefault()},P2=h=>{const m=Te(),C=te(),G=Re();if(![m,C,G].includes(document.activeElement))return;const Ne=g1.includes(h)?"nextElementSibling":"previousElementSibling",et=document.activeElement[Ne];et instanceof HTMLElement&&et.focus()},N2=(h,m,C)=>{u(m.allowEscapeKey)&&(h.preventDefault(),C(Zs.esc))},j2=h=>typeof h=="object"&&h.jquery,_1=h=>h instanceof Element||j2(h),F2=h=>{const m={};return typeof h[0]=="object"&&!_1(h[0])?Object.assign(m,h[0]):["title","html","icon"].forEach((C,G)=>{const Ne=h[G];typeof Ne=="string"||_1(Ne)?m[C]=Ne:Ne!==void 0&&l("Unexpected type of ".concat(C,'! Expected "string" or "Element", got ').concat(typeof Ne))}),m};function H2(){const h=this;for(var m=arguments.length,C=new Array(m),G=0;G<m;G++)C[G]=arguments[G];return new h(...C)}function U2(h){class m extends this{_main(G,Ne){return super._main(G,Object.assign({},h,Ne))}}return m}const D2=()=>se.timeout&&se.timeout.getTimerLeft(),b1=()=>{if(se.timeout)return me(),se.timeout.stop()},y1=()=>{if(se.timeout){const h=se.timeout.start();return ae(h),h}},q2=()=>{const h=se.timeout;return h&&(h.running?b1():y1())},V2=h=>{if(se.timeout){const m=se.timeout.increase(h);return ae(m,!0),m}},$2=()=>se.timeout&&se.timeout.isRunning();let w1=!1;const bc={};function z2(){let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";bc[h]=this,w1||(document.body.addEventListener("click",K2),w1=!0)}const K2=h=>{for(let m=h.target;m&&m!==document;m=m.parentNode)for(const C in bc){const G=m.getAttribute(C);if(G){bc[C].fire({template:G});return}}};var Y2=Object.freeze({isValidParameter:I,isUpdatableParameter:F,isDeprecatedParameter:O,argsToParams:F2,isVisible:R2,clickConfirm:v1,clickDeny:T2,clickCancel:k2,getContainer:x,getPopup:Y,getTitle:X,getHtmlContainer:b,getImage:T,getIcon:V,getInputLabel:ve,getCloseButton:Ke,getActions:Oe,getConfirmButton:Te,getDenyButton:te,getCancelButton:Re,getLoader:oe,getFooter:Se,getTimerProgressBar:Fe,getFocusableElements:B,getValidationMessage:ce,isLoading:Z,fire:H2,mixin:U2,showLoading:ho,enableLoading:ho,getTimerLeft:D2,stopTimer:b1,resumeTimer:y1,toggleTimer:q2,increaseTimer:V2,isTimerRunning:$2,bindClickHandler:z2});function S1(){const h=nt.innerParams.get(this);if(!h)return;const m=nt.domCache.get(this);Ie(m.loader),W()?h.icon&&ne(V()):X2(m),He([m.popup,m.actions],p.loading),m.popup.removeAttribute("aria-busy"),m.popup.removeAttribute("data-loading"),m.confirmButton.disabled=!1,m.denyButton.disabled=!1,m.cancelButton.disabled=!1}const X2=h=>{const m=h.popup.getElementsByClassName(h.loader.getAttribute("data-button-to-replace"));m.length?ne(m[0],"inline-block"):Q()&&Ie(h.actions)};function W2(h){const m=nt.innerParams.get(h||this),C=nt.domCache.get(h||this);return C?ke(C.popup,m.input):null}var li={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};function E1(h,m,C,G){W()?M1(h,G):(qe(C).then(()=>M1(h,G)),se.keydownTarget.removeEventListener("keydown",se.keydownHandler,{capture:se.keydownListenerCapture}),se.keydownHandlerAdded=!1),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(m.setAttribute("style","display:none !important"),m.removeAttribute("class"),m.innerHTML=""):m.remove(),$()&&(Gv(),n2(),a1()),G2()}function G2(){He([document.documentElement,document.body],[p.shown,p["height-auto"],p["no-backdrop"],p["toast-shown"]])}function Ma(h){h=eg(h);const m=li.swalPromiseResolve.get(this),C=Q2(this);this.isAwaitingPromise()?h.isDismissed||(A1(this),m(h)):C&&m(h)}function Z2(){return!!nt.awaitingPromise.get(this)}const Q2=h=>{const m=Y();if(!m)return!1;const C=nt.innerParams.get(h);if(!C||re(m,C.hideClass.popup))return!1;He(m,C.showClass.popup),ye(m,C.hideClass.popup);const G=x();return He(G,C.showClass.backdrop),ye(G,C.hideClass.backdrop),tg(h,m,C),!0};function J2(h){const m=li.swalPromiseReject.get(this);A1(this),m&&m(h)}const A1=h=>{h.isAwaitingPromise()&&(nt.awaitingPromise.delete(h),nt.innerParams.get(h)||h._destroy())},eg=h=>typeof h>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},h),tg=(h,m,C)=>{const G=x(),Ne=De&&z(m);typeof C.willClose=="function"&&C.willClose(m),Ne?sg(h,m,G,C.returnFocus,C.didClose):E1(h,G,C.returnFocus,C.didClose)},sg=(h,m,C,G,Ne)=>{se.swalCloseEventFinishedCallback=E1.bind(null,h,C,G,Ne),m.addEventListener(De,function(et){et.target===m&&(se.swalCloseEventFinishedCallback(),delete se.swalCloseEventFinishedCallback)})},M1=(h,m)=>{setTimeout(()=>{typeof m=="function"&&m.bind(h.params)(),h._destroy()})};function x1(h,m,C){const G=nt.domCache.get(h);m.forEach(Ne=>{G[Ne].disabled=C})}function R1(h,m){if(!h)return!1;if(h.type==="radio"){const G=h.parentNode.parentNode.querySelectorAll("input");for(let Ne=0;Ne<G.length;Ne++)G[Ne].disabled=m}else h.disabled=m}function ng(){x1(this,["confirmButton","denyButton","cancelButton"],!1)}function rg(){x1(this,["confirmButton","denyButton","cancelButton"],!0)}function og(){return R1(this.getInput(),!1)}function ig(){return R1(this.getInput(),!0)}function ag(h){const m=nt.domCache.get(this),C=nt.innerParams.get(this);de(m.validationMessage,h),m.validationMessage.className=p["validation-message"],C.customClass&&C.customClass.validationMessage&&ye(m.validationMessage,C.customClass.validationMessage),ne(m.validationMessage);const G=this.getInput();G&&(G.setAttribute("aria-invalid",!0),G.setAttribute("aria-describedby",p["validation-message"]),_e(G),ye(G,p.inputerror))}function lg(){const h=nt.domCache.get(this);h.validationMessage&&Ie(h.validationMessage);const m=this.getInput();m&&(m.removeAttribute("aria-invalid"),m.removeAttribute("aria-describedby"),He(m,p.inputerror))}function cg(){return nt.domCache.get(this).progressSteps}function ug(h){const m=Y(),C=nt.innerParams.get(this);if(!m||re(m,C.hideClass.popup))return i("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const G=dg(h),Ne=Object.assign({},C,G);Rr(this,Ne),nt.innerParams.set(this,Ne),Object.defineProperties(this,{params:{value:Object.assign({},this.params,h),writable:!1,enumerable:!0}})}const dg=h=>{const m={};return Object.keys(h).forEach(C=>{F(C)?m[C]=h[C]:i('Invalid parameter to update: "'.concat(C,`". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js

If you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md`))}),m};function fg(){const h=nt.domCache.get(this),m=nt.innerParams.get(this);if(!m){T1(this);return}h.popup&&se.swalCloseEventFinishedCallback&&(se.swalCloseEventFinishedCallback(),delete se.swalCloseEventFinishedCallback),se.deferDisposalTimer&&(clearTimeout(se.deferDisposalTimer),delete se.deferDisposalTimer),typeof m.didDestroy=="function"&&m.didDestroy(),hg(this)}const hg=h=>{T1(h),delete h.params,delete se.keydownHandler,delete se.keydownTarget,delete se.currentInstance},T1=h=>{h.isAwaitingPromise()?(yc(nt,h),nt.awaitingPromise.set(h,!0)):(yc(li,h),yc(nt,h))},yc=(h,m)=>{for(const C in h)h[C].delete(m)};var k1=Object.freeze({hideLoading:S1,disableLoading:S1,getInput:W2,close:Ma,isAwaitingPromise:Z2,rejectPromise:J2,closePopup:Ma,closeModal:Ma,closeToast:Ma,enableButtons:ng,disableButtons:rg,enableInput:og,disableInput:ig,showValidationMessage:ag,resetValidationMessage:lg,getProgressSteps:cg,update:ug,_destroy:fg});let wc;class mo{constructor(){if(typeof window>"u")return;wc=this;for(var m=arguments.length,C=new Array(m),G=0;G<m;G++)C[G]=arguments[G];const Ne=Object.freeze(this.constructor.argsToParams(C));Object.defineProperties(this,{params:{value:Ne,writable:!1,enumerable:!0,configurable:!0}});const et=this._main(this.params);nt.promise.set(this,et)}_main(m){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};R(Object.assign({},C,m)),se.currentInstance&&(se.currentInstance._destroy(),$()&&a1()),se.currentInstance=this;const G=pg(m,C);Yv(G),Object.freeze(G),se.timeout&&(se.timeout.stop(),delete se.timeout),clearTimeout(se.restoreFocusTimeout);const Ne=vg(this);return Rr(this,G),nt.innerParams.set(this,G),mg(this,Ne,G)}then(m){return nt.promise.get(this).then(m)}finally(m){return nt.promise.get(this).finally(m)}}const mg=(h,m,C)=>new Promise((G,Ne)=>{const et=ts=>{h.closePopup({isDismissed:!0,dismiss:ts})};li.swalPromiseResolve.set(h,G),li.swalPromiseReject.set(h,Ne),m.confirmButton.onclick=()=>g2(h),m.denyButton.onclick=()=>_2(h),m.cancelButton.onclick=()=>b2(h,et),m.closeButton.onclick=()=>et(Zs.close),w2(h,m,et),C2(h,se,C,et),c2(h,C),r2(C),gg(se,C,et),_g(m,C),setTimeout(()=>{m.container.scrollTop=0})}),pg=(h,m)=>{const C=jv(h),G=Object.assign({},j,m,C,h);return G.showClass=Object.assign({},j.showClass,G.showClass),G.hideClass=Object.assign({},j.hideClass,G.hideClass),G},vg=h=>{const m={popup:Y(),container:x(),actions:Oe(),confirmButton:Te(),denyButton:te(),cancelButton:Re(),loader:oe(),closeButton:Ke(),validationMessage:ce(),progressSteps:ie()};return nt.domCache.set(h,m),m},gg=(h,m,C)=>{const G=Fe();Ie(G),m.timer&&(h.timeout=new Xv(()=>{C("timer"),delete h.timeout},m.timer),m.timerProgressBar&&(ne(G),J(G,m,"timerProgressBar"),setTimeout(()=>{h.timeout&&h.timeout.running&&ae(m.timer)})))},_g=(h,m)=>{if(!m.toast){if(!u(m.allowEnterKey))return yg();bg(h,m)||_c(m,-1,1)}},bg=(h,m)=>m.focusDeny&&K(h.denyButton)?(h.denyButton.focus(),!0):m.focusCancel&&K(h.cancelButton)?(h.cancelButton.focus(),!0):m.focusConfirm&&K(h.confirmButton)?(h.confirmButton.focus(),!0):!1,yg=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Object.assign(mo.prototype,k1),Object.assign(mo,Y2),Object.keys(k1).forEach(h=>{mo[h]=function(){if(wc)return wc[h](...arguments)}}),mo.DismissReason=Zs,mo.version="11.4.0";const xa=mo;return xa.default=xa,xa}),typeof rr<"u"&&rr.Sweetalert2&&(rr.swal=rr.sweetAlert=rr.Swal=rr.SweetAlert=rr.Sweetalert2)})(Pv);var Ga=Pv.exports;class EM{static install(t,s={}){var n;const o=Ga.mixin(s),r=function(...i){return o.fire.call(o,...i)};Object.assign(r,Ga),Object.keys(Ga).filter(i=>typeof Ga[i]=="function").forEach(i=>{r[i]=o[i].bind(o)}),((n=t.config)==null?void 0:n.globalProperties)&&!t.config.globalProperties.$swal?(t.config.globalProperties.$swal=r,t.provide("$swal",r)):Object.prototype.hasOwnProperty.call(t,"$swal")||(t.prototype.$swal=r,t.swal=r)}}const AM=n4(),hc=z3(Qb);hc.use(AM);hc.use(Lv);hc.use(EM);hc.mount("#app");export{Wb as _,ws as a,du as c,Di as o};
